var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[3475,28779,45197,84028],{"../packages/calypso-polyfills/index.js":(e,t,i)=>{i("../node_modules/core-js/modules/web.immediate.js")},"../packages/components/src/card/index.tsx":(e,t,i)=>{i.d(t,{A:()=>l});var s=i("../node_modules/clsx/dist/clsx.mjs"),o=i("../node_modules/react/index.js"),r=i("../packages/components/src/gridicon/index.tsx");i("../packages/components/src/card/style.scss");var n=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let a=(0,o.forwardRef)(({children:e,className:t,compact:i,displayAsLink:a,highlight:l,tagName:c="div",href:d,target:u,showLinkIcon:p=!0,...m},g)=>{let h=(0,s.A)("card",t,{"is-card-link":a||d,"is-clickable":m.onClick,"is-compact":i,"is-highlight":l},!!l&&"is-"+l);return d?(0,n.FD)("a",{...m,href:d,target:u,className:h,ref:g,children:[p&&(0,n.Y)(r.A,{className:"card__link-indicator",icon:u?"external":"chevron-right"}),e]}):(0,o.createElement)(c,{...m,className:h,ref:g},a&&(0,n.Y)(r.A,{className:"card__link-indicator",icon:u?"external":"chevron-right"}),e)});a.displayName="Card";let l=(0,o.memo)(a)},"../packages/components/src/forms/form-input-validation/index.tsx":(e,t,i)=>{i.d(t,{A:()=>c});var s=i("../node_modules/@wordpress/icons/build-module/library/info.js"),o=i("../node_modules/@wordpress/icons/build-module/library/check.js"),r=i("../node_modules/@wordpress/icons/build-module/icon/index.js"),n=i("../node_modules/clsx/dist/clsx.mjs"),a=i("../packages/components/src/gridicon/index.tsx"),l=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let c=({isError:e=!1,isWarning:t,isHidden:i,isMuted:c,className:d,ariaLabel:u="",text:p,hasIcon:m=!0,icon:g,id:h,children:f})=>{let _=(0,n.A)(d,{"form-input-validation":!0,"is-warning":t,"is-error":e,"is-hidden":i,"is-muted":c,"has-icon":m}),w=e||t?s.A:o.A;return(0,l.Y)("div",{"aria-label":u,className:_,role:"alert",children:(0,l.FD)("span",{id:h,children:[m&&(g?(0,l.Y)(a.A,{size:20,icon:g}):(0,l.Y)(r.A,{size:20,icon:w})),p,f]})})}},"../packages/components/src/forms/form-label/index.tsx":(e,t,i)=>{i.d(t,{A:()=>l});var s=i("../node_modules/clsx/dist/clsx.mjs"),o=i("../packages/i18n-calypso/src/use-translate.js"),r=i("../node_modules/react/index.js"),n=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let a=(0,r.forwardRef)(({children:e,required:t,optional:i,className:a,hasCoreStyles:l,hasCoreStylesNoCaps:c,...d},u)=>{let p=(0,o.A)(),m=r.Children.count(e)>0;return(0,n.FD)("label",{...d,className:(0,s.A)(a,"form-label",{"form-label-core-styles":l||c,"form-label-core-styles-no-caps":c}),ref:u,children:[e,m&&t&&(0,n.Y)("small",{className:"form-label__required",children:p("Required")}),m&&i&&(0,n.Y)("small",{className:"form-label__optional",children:p("Optional")})]})});a.displayName="FormLabel";let l=a},"../packages/components/src/popover/index.jsx":(e,t,i)=>{i.d(t,{A:()=>b});var s=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=i("../node_modules/clsx/dist/clsx.mjs"),r=i("../packages/i18n-calypso/src/rtl.js"),n=i("../node_modules/lodash-es/defer.js"),a=i("../node_modules/react/index.js"),l=i("../node_modules/react-dom/index.js"),c=i("../packages/components/src/root-child/index.tsx");function d(){let e={};return e.top=window.scrollY,e.left=window.scrollX,e.width=window.innerWidth,e.height=window.innerHeight,e.right=e.left+e.width,e.bottom=e.top+e.height,e}let u={top:"bottom",bottom:"top",left:"right",right:"left"},p={top:"right",left:"top",bottom:"left",right:"bottom"},m=null,g=0;function h(){return m||(m=d()),m}function f(){m=d()}function _(e,t,i,s){let o=t.getBoundingClientRect();if(!o)throw Error("could not get bounding client rect of Tip element");let r=o.width,n=o.height,a=i.getBoundingClientRect();if(!a)throw Error("could not get bounding client rect of `target`");let l=a.width,c=a.height,d=function(e,t){let i=t.body||t.getElementsByTagName("body")[0],s=t.documentElement||i.parentNode,o=s.clientTop||i.clientTop||0,r=s.clientLeft||i.clientLeft||0,n=window.pageYOffset||s.scrollTop,a=window.pageXOffset||s.scrollLeft;return{top:e.top+n-o,left:e.left+a-r}}(a,document);if(!d)throw Error("could not determine page offset of `target`");let u={};switch(e){case"top":u={top:d.top-n,left:s&&s.left?d.left+s.left:d.left+l/2-r/2};break;case"bottom":u={top:d.top+c,left:s&&s.left?d.left+s.left:d.left+l/2-r/2};break;case"right":u={top:d.top+c/2-n/2,left:d.left+l};break;case"left":u={top:d.top+c/2-n/2,left:d.left-r};break;case"top left":u={top:d.top-n,left:d.left+l/2-r+15};break;case"top right":u={top:d.top-n,left:d.left+l/2-15};break;case"bottom left":u={top:d.top+c,left:d.left+l/2-r+15};break;case"bottom right":u={top:d.top+c,left:d.left+l/2-15};break;case"left top":u={top:d.top+c/2-n,left:d.left-r};break;case"left bottom":u={top:d.top+c/2,left:d.left-r};break;case"right top":u={top:d.top+c/2-n,left:d.left+l};break;case"right bottom":u={top:d.top+c/2,left:d.left+l};break;default:throw Error(`invalid position "${e}"`)}return u}var w=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let v=()=>{};class y extends a.Component{constructor(...e){super(...e),(0,s.A)(this,"scheduledPositionUpdate",null),(0,s.A)(this,"scheduledFocus",null),(0,s.A)(this,"popoverNodeRef",(0,a.createRef)()),(0,s.A)(this,"popoverInnerNodeRef",(0,a.createRef)()),(0,s.A)(this,"state",{left:-99999,top:-99999,positionClass:this.getPositionClass(this.props.position)}),(0,s.A)(this,"autoRepositionStability",0),(0,s.A)(this,"onKeydown",e=>{if(27===e.keyCode){let e=l.findDOMNode(this.props.context);e&&e.focus(),this.close(!0)}}),(0,s.A)(this,"getTouchEvent",()=>"onpointerdown"in document?"pointerdown":"ontouchstart"in document?"touchstart":"click"),(0,s.A)(this,"onClickout",e=>{let t=this.popoverInnerNodeRef.current,i=t&&!t.contains(e.target);if(i&&this.props.context){let t=l.findDOMNode(this.props.context);i=t&&!t.contains(e.target)}if(i&&this.props.ignoreContext){let t=l.findDOMNode(this.props.ignoreContext);i=t&&!t.contains(e.target)}i&&this.close()}),(0,s.A)(this,"onWindowChange",()=>{this.setPosition()}),(0,s.A)(this,"setPosition",()=>{let e;return(e=this.props.customPosition?Object.assign({positionClass:this.getPositionClass(this.constructor.defaultProps.position)},this.props.customPosition):this.computePosition())&&this.setState(e),e}),(0,s.A)(this,"autoRepositionOnInitialLoad",()=>{this.props.autoRepositionOnInitialLoad&&(this.autoRepositionOnInitialLoadInterval=setInterval(()=>{let e=this.state,{left:t,top:i}=this.setPosition();(e.left===t||e.top===i)&&(this.autoRepositionStability+=1),this.autoRepositionStability>5&&clearInterval(this.autoRepositionOnInitialLoadInterval)},500))}),(0,s.A)(this,"clearAutoRepositionOnInitialLoad",()=>{this.autoRepositionOnInitialLoadInterval&&clearInterval(this.autoRepositionOnInitialLoadInterval)}),(0,s.A)(this,"handleOnMouseEnter",()=>{let{onMouseEnter:e}=this.props;e?.()}),(0,s.A)(this,"handleOnMouseLeave",()=>{let{onMouseLeave:e}=this.props;e?.()})}componentDidMount(){f(),this.bindListeners(),this.setPosition(),this.show(),this.autoRepositionOnInitialLoad()}componentDidUpdate(){null==this.scheduledPositionUpdate&&(this.scheduledPositionUpdate=(0,n.A)(()=>{this.setPosition(),this.scheduledPositionUpdate=null}))}componentWillUnmount(){this.unbindListeners(),this.clearAutoRepositionOnInitialLoad()}bindListeners(){this.bindClickoutHandler(),this.bindEscKeyListener(),this.bindReposition(),g++>0||(window.addEventListener("resize",f,!0),window.addEventListener("scroll",f,!0))}unbindListeners(){this.unbindClickoutHandler(),this.unbindEscKeyListener(),this.unbindReposition(),--g>0||(window.removeEventListener("resize",f,!0),window.removeEventListener("scroll",f,!0)),null!=this.scheduledPositionUpdate&&(window.clearTimeout(this.scheduledPositionUpdate),this.scheduledPositionUpdate=null),null!=this.scheduledFocus&&(window.clearTimeout(this.scheduledFocus),this.scheduledFocus=null)}bindEscKeyListener(){this.props.closeOnEsc&&document.addEventListener("keydown",this.onKeydown,!0)}unbindEscKeyListener(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.onKeydown,!0)}bindClickoutHandler(){document.addEventListener(this.getTouchEvent(),this.onClickout,!0)}unbindClickoutHandler(){document.removeEventListener(this.getTouchEvent(),this.onClickout,!0)}bindReposition(){window.addEventListener("scroll",this.onWindowChange,!0),window.addEventListener("resize",this.onWindowChange,!0)}unbindReposition(){window.removeEventListener("scroll",this.onWindowChange,!0),window.removeEventListener("resize",this.onWindowChange,!0)}focusPopover(){this.scheduledFocus=(0,n.A)(()=>{this.popoverNodeRef.current&&this.popoverNodeRef.current.focus(),this.scheduledFocus=null})}getPositionClass(e){return`is-${e.replace(/\s+/g,"-")}`}adjustRtlPosition(e){if(this.props.isRtl)switch(e){case"top right":case"right top":return"top left";case"right":return"left";case"bottom right":case"right bottom":return"bottom left";case"bottom left":case"left bottom":return"bottom right";case"left":return"right";case"top left":case"left top":return"top right"}return e}computePosition(){let{position:e,relativePosition:t}=this.props,i=this.popoverInnerNodeRef.current,s=l.findDOMNode(this.props.context);if(!s)return null;let o=e;return this.props.autoRtl&&(o=this.adjustRtlPosition(o)),this.props.autoPosition&&(o=function(e,t,i){let s=h(),o=i.getBoundingClientRect(),r=t.clientHeight,n=t.clientWidth,a={top:o.top-r,bottom:s.height-o.bottom-r,left:o.left-n,right:s.width-o.right-n},l=e.split(/\s+/),[c]=l,[,d]=l,m=function(e,t){let i,s=[e,u[e],p[e],u[p[e]]],o=-1/0;for(let r=0,n=s.length;r<n;r++){let n=s[r],a=t[n];if(a>0)return n;a>o&&(o=a,i=e)}return i}(c,a);return(d===m||d===u[m])&&(d=null),function(e,t,i,s,o,r){let n,a=h(),l="top"===e||"bottom"===e,c=t?[l?`${e} ${t}`:`${t} ${e}`,e,l?`${e} ${u[t]}`:`${u[t]} ${e}`]:[e,l?`${e} ${p[e]}`:`${p[e]} ${e}`,l?`${e} ${u[p[e]]}`:`${u[p[e]]} ${e}`],d=0,m=o*r;for(let e=0,t=c.length;e<t;e++){let t=c[e],l=_(t,i,s),u=l.left+o,p=l.top+r,g=Math.min(l.top<a.top?p-a.top:a.bottom-l.top,r),h=Math.min(l.left<a.left?u-a.left:a.right-l.left,o)*g;if(h===m)return t;h>d&&(d=h,n=t)}return n}(m,d,t,i,n,r)||e}(o,i,s)),Object.assign({},function(e,t,i=!1){let s=h(),o=t.getBoundingClientRect().width,r=i?e.left:Math.min(e.left,s.width-o);return e.left=Math.max(0,r),e}(_(o,i,s,t),i,this.props.ignoreViewportSize),{positionClass:this.getPositionClass(o)})}getStylePosition(){let{left:e,top:t}=this.state;return{left:e,top:t}}show(){this.props.focusOnShow&&this.focusPopover(),this.props.onShow()}close(e=!1){this.props.onClose(e)}render(){if(!this.props.context)return null;let e=(0,o.A)("popover",this.props.className,this.state.positionClass);return(0,w.FD)("div",{ref:this.popoverNodeRef,"aria-label":this.props["aria-label"],id:this.props.id,role:"tooltip",tabIndex:"-1",style:this.getStylePosition(),className:e,onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave,children:[this.props.hideArrow?null:(0,w.Y)("div",{className:"popover__arrow"}),(0,w.Y)("div",{ref:this.popoverInnerNodeRef,className:"popover__inner",children:this.props.children})]})}}(0,s.A)(y,"defaultProps",{autoPosition:!0,autoRtl:!0,className:"",closeOnEsc:!0,isRtl:!1,focusOnShow:!0,position:"top",onShow:v,onClose:v,onMouseEnter:v,onMouseLeave:v,hideArrow:!1,autoRepositionOnInitialLoad:!1,ignoreViewportSize:!1});let b=function({isVisible:e=!1,showDelay:t=0,hideArrow:i=!1,...s}){let o=(0,r.I)(),[n,l]=(0,a.useState)(e);return((0,a.useEffect)(()=>{if(t>0&&n!==e&&e){let e=setTimeout(()=>{l(!0)},t);return()=>{clearTimeout(e)}}},[t,e,n]),n===e||0!==t&&e||l(e),n)?(0,w.Y)(c.A,{children:(0,w.Y)(y,{...s,isRtl:o,hideArrow:i})}):null}},"../packages/components/src/root-child/index.tsx":(e,t,i)=>{i.d(t,{A:()=>r});var s=i("../node_modules/react/index.js"),o=i("../node_modules/react-dom/index.js");let r=({children:e})=>{let[t,i]=(0,s.useState)(null);return((0,s.useLayoutEffect)(()=>{let e=document.createElement("div");return document.body.appendChild(e),i(e),()=>{document.body.removeChild(e)}},[]),t)?o.createPortal(e,t):null}},"../packages/i18n-calypso/src/rtl.js":(e,t,i)=>{i.d(t,{I:()=>l,l:()=>c});var s=i("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),o=i("../node_modules/react/index.js"),r=i("../node_modules/use-subscription/index.js"),n=i("../packages/i18n-calypso/src/context.ts"),a=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(){let e=(0,o.useContext)(n.A),t=(0,o.useMemo)(()=>({getCurrentValue:()=>e.isRtl(),subscribe:t=>e.subscribe(t)}),[e]);return(0,r.useSubscription)(t)}let c=(0,s.f)(e=>(0,o.forwardRef)(function(t,i){let s=l();return(0,a.Y)(e,{...t,isRtl:s,ref:i})}),"WithRTL")},"../packages/onboarding/src/step-container-v2/components/ContentRow/ContentRow.tsx":(e,t,i)=>{i.d(t,{U:()=>r});var s=i("../node_modules/clsx/dist/clsx.mjs"),o=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let r=({children:e,columns:t=12,className:i,stretched:r})=>(0,o.Y)("div",{className:(0,s.A)("step-container-v2__content-row",i,{stretched:r}),style:{"--columns":t},children:e})},"../packages/onboarding/src/step-container-v2/components/ContentWrapper/ContentWrapper.tsx":(e,t,i)=>{i.d(t,{H:()=>r});var s=i("../node_modules/clsx/dist/clsx.mjs"),o=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let r=({children:e,centerAligned:t,axisDirection:i="vertical",noTopPadding:r=!1,noBottomPadding:n=!1})=>(0,o.Y)("div",{className:(0,s.A)("step-container-v2__content-wrapper",`axis-${i}`,{"center-aligned":t,"no-top-padding":r,"no-bottom-padding":n}),children:e})},"../packages/onboarding/src/step-container-v2/components/StickyBottomBar/StickyBottomBarRenderer.tsx":(e,t,i)=>{i.d(t,{j:()=>n});var s=i("../node_modules/react/index.js"),o=i("../packages/onboarding/src/step-container-v2/components/StepContainerV2/context.ts"),r=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let n=({stickyBottomBar:e})=>{let t=(0,s.useContext)(o.H),{setStickyBottomBarHeight:i}=t,n=(0,s.useRef)(null);(0,s.useLayoutEffect)(()=>{let e=new ResizeObserver(([e])=>{e&&i(e.contentRect.height)});return n.current&&(i(n.current.clientHeight),e.observe(n.current)),()=>{e.disconnect()}},[i]);let a="function"==typeof e?e(t):!t.isSmallViewport&&e;return(0,r.Y)("div",{className:"step-container-v2__sticky-bottom-bar-wrapper",ref:n,children:a})}},"../packages/onboarding/src/step-container-v2/components/TopBar/TopBarRenderer.tsx":(e,t,i)=>{i.d(t,{q:()=>n});var s=i("../node_modules/react/index.js"),o=i("../packages/onboarding/src/step-container-v2/components/StepContainerV2/context.ts"),r=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let n=({topBar:e})=>{let t=(0,s.useContext)(o.H),{setTopBarHeight:i}=t,n=(0,s.useRef)(null);(0,s.useLayoutEffect)(()=>{let e=new ResizeObserver(([e])=>{e&&i(e.contentRect.height)});return n.current&&(i(n.current.clientHeight),e.observe(n.current)),()=>{e.disconnect()}},[i]);let a="function"==typeof e?e(t):e;return(0,r.Y)("div",{ref:n,className:"step-container-v2__top-bar-wrapper",children:a})}},"../packages/onboarding/src/step-container-v2/components/buttons/LinkButton/LinkButton.tsx":(e,t,i)=>{i.d(t,{z:()=>a});var s=i("../node_modules/@wordpress/components/build-module/button/index.js"),o=i("../node_modules/@wordpress/react-i18n/build-module/index.js"),r=i("../packages/onboarding/src/step-container-v2/helpers/normalizeButtonProps.ts"),n=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let a=e=>{let{__}=(0,o.s9)(),t=(0,r.i)(e,{children:__("Link","default"),className:"step-container-v2__link-button"});return(0,n.Y)(s.Ay,{variant:"link",...t})}},"../packages/onboarding/src/step-container-v2/helpers/normalizeButtonProps.ts":(e,t,i)=>{i.d(t,{i:()=>o});var s=i("../node_modules/clsx/dist/clsx.mjs");let o=(e,t)=>({...t,...e,children:e.children??t.children,className:(0,s.A)(t.className,e.className)})},"../packages/onboarding/src/step-container-v2/wireframes/CenteredColumnLayout/CenteredColumnLayout.tsx":(e,t,i)=>{i.d(t,{D:()=>c});var s=i("../packages/onboarding/src/step-container-v2/components/ContentRow/ContentRow.tsx"),o=i("../packages/onboarding/src/step-container-v2/components/ContentWrapper/ContentWrapper.tsx"),r=i("../packages/onboarding/src/step-container-v2/components/StepContainerV2/StepContainerV2.tsx"),n=i("../packages/onboarding/src/step-container-v2/components/StickyBottomBar/StickyBottomBarRenderer.tsx"),a=i("../packages/onboarding/src/step-container-v2/components/TopBar/TopBarRenderer.tsx"),l=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let c=({columnWidth:e,topBar:t,heading:i,className:c,children:d,stickyBottomBar:u,verticalAlign:p})=>(0,l.Y)(r.g,{children:r=>{let m="function"==typeof d?d(r):d;return(0,l.FD)(l.FK,{children:[(0,l.Y)(a.q,{topBar:t}),(0,l.FD)(o.H,{centerAligned:r.isSmallViewport&&"center"===p,children:[i&&(0,l.Y)(s.U,{columns:6,children:i}),(0,l.Y)(s.U,{columns:e,className:c,children:m})]}),(0,l.Y)(n.j,{stickyBottomBar:u})]})}})},"./assets/images/icons/studio-app-logo.svg":e=>{e.exports="/calypso/images/../images/studio-app-logo-16bb16f5f2bc0672cef5.svg"},"./boot/locale.js":(e,t,i)=>{i.d(t,{UN:()=>m});var s=i("../packages/calypso-analytics/src/index.ts"),o=i("../packages/calypso-config/src/index.ts"),r=i("../packages/i18n-utils/src/utils.ts"),n=i("../node_modules/@automattic/number-formatters/dist/esm/index.js"),a=i("../packages/i18n-calypso/src/index.ts"),l=i("./lib/i18n-utils/empathy-mode.js"),c=i("./lib/i18n-utils/switch-locale.js"),d=i("./state/action-types.ts"),u=i("./state/ui/language/actions.ts");function p(){return new URLSearchParams(window.location.search).get("locale")}let m=(e,t)=>{o.Ay.isEnabled("i18n/empathy-mode")&&e.i18n_empathy_mode&&(0,l.Uf)();let i=e.localeVariant||e.localeSlug,m=e?.use_fallback_for_incomplete_languages&&(0,r.sX)(i);m&&(i=(0,o.Ay)("i18n_default_locale_slug"));let g=window?.i18nLanguageManifest?.locale?.[""]?.localeSlug;if(window.i18nLocaleStrings){let e=JSON.parse(window.i18nLocaleStrings);a.Ay.setLocale(e);let i=a.Ay.getLocaleSlug(),s=a.Ay.getLocaleVariant();t.dispatch({type:d.i4L,localeSlug:i,localeVariant:s}),(0,n.xS)(s||i),i&&(0,c.N5)(i)}else if(e&&e.localeSlug)m?t.dispatch((0,u.x)(i)):t.dispatch((0,u.x)(e.localeSlug,e.localeVariant));else if(g)t.dispatch((0,u.x)(g));else if(p()){let e=p();e&&t.dispatch((0,u.x)(e,""))}else if(!window.hasOwnProperty("localeFromRoute")){let e=function(){let e=window.location.pathname.replace(/\/$/,""),t=e.substr(e.lastIndexOf("/")+1);return(0,r.xp)().includes(t)&&!(0,r.EZ)(t)&&t}();e&&t.dispatch((0,u.x)(e,"")),(0,s.Oy)("calypso_locale_set",{path:window.location.pathname})}}},"./components/card-heading/index.jsx":(e,t,i)=>{i.d(t,{A:()=>d});var s=i("../node_modules/clsx/dist/clsx.mjs"),o=i("../node_modules/lodash-es/includes.js"),r=i("../node_modules/prop-types/index.js"),n=i.n(r),a=i("../node_modules/react/index.js");let l=[54,48,47,36,32,24,21,20,16,14,12,11];function c({tagName:e="h1",size:t=20,isBold:i=!1,className:r,id:n,children:c}){let d={};d["card-heading-"+t]=(0,o.A)(l,t);let u=(0,s.A)("card-heading",i&&"card-heading__bold",r&&r,d);return(0,a.createElement)(e,{className:u,id:n},c)}c.propTypes={tagName:n().string,size:n().number,isBold:n().bool,className:n().string,id:n().string};let d=c},"./components/formatted-header/index.tsx":(e,t,i)=>{i.d(t,{A:()=>n});var s=i("../node_modules/clsx/dist/clsx.mjs"),o=i("./components/info-popover/index.jsx"),r=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let n=({align:e="center",brandFont:t=!1,children:i,className:n,compactOnMobile:a=!1,hasScreenOptions:l,headerText:c,id:d="",isSecondary:u=!1,screenReader:p=null,subHeaderAs:m="p",subHeaderText:g,tooltipText:h})=>{let f=(0,s.A)("formatted-header",n,{"is-without-subhead":!g,"is-compact-on-mobile":a,"is-left-align":"left"===e,"is-right-align":"right"===e,"has-screen-options":l}),_=(0,s.A)("formatted-header__title",{"wp-brand-font":t}),w=h&&(0,r.Y)(o.A,{icon:"help-outline",position:"right",iconSize:18,showOnHover:!0,children:h});return(0,r.FD)("header",{id:d,className:f,children:[(0,r.FD)("div",{children:[!u&&(0,r.FD)("h1",{className:_,children:[c," ",w]}),u&&(0,r.FD)("h2",{className:_,children:[c," ",w]}),p&&(0,r.Y)("h2",{className:"screen-reader-text",children:p}),g&&(0,r.Y)(m,{className:"formatted-header__subtitle",children:g})]}),i]})}},"./components/forms/form-button/index.jsx":(e,t,i)=>{i.d(t,{A:()=>u});var s=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=i("../packages/components/src/button/index.tsx"),r=i("../node_modules/clsx/dist/clsx.mjs"),n=i("../packages/i18n-calypso/src/localize.js"),a=i("../node_modules/lodash-es/omit.js"),l=i("../node_modules/react/index.js"),c=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class d extends l.Component{constructor(...e){super(...e),(0,s.A)(this,"getDefaultButtonAction",()=>this.props.isSubmitting?this.props.translate("Saving…"):this.props.translate("Save Settings"))}render(){let{children:e,className:t,isPrimary:i,...s}=this.props,n=(0,r.A)(t,"form-button");return(0,c.Y)(o.$,{...(0,a.A)(s,["isSubmitting","moment","numberFormat","translate"]),primary:i,className:n,children:l.Children.count(e)?e:this.getDefaultButtonAction()})}}(0,s.A)(d,"defaultProps",{isSubmitting:!1,isPrimary:!0,type:"submit"});let u=(0,n.A)(d)},"./components/forms/form-fieldset/index.jsx":(e,t,i)=>{i.d(t,{A:()=>r});var s=i("../node_modules/clsx/dist/clsx.mjs"),o=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let r=({className:e="",children:t,...i})=>(0,o.Y)("fieldset",{role:"group",...i,className:(0,s.A)(e,"form-fieldset"),children:t})},"./components/forms/form-password-input/index.jsx":(e,t,i)=>{i.d(t,{A:()=>m});var s=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=i("../node_modules/@wordpress/components/build-module/button/index.js"),r=i("../node_modules/@wordpress/icons/build-module/library/unseen.js"),n=i("../node_modules/@wordpress/icons/build-module/library/seen.js"),a=i("../node_modules/clsx/dist/clsx.mjs"),l=i("../packages/i18n-calypso/src/localize.js"),c=i("../node_modules/react/index.js"),d=i("./components/forms/form-text-input/index.jsx"),u=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class p extends c.Component{constructor(e){super(e),(0,s.A)(this,"textFieldRef",(0,c.createRef)()),(0,s.A)(this,"togglePasswordVisibility",()=>{this.setState({hidePassword:!this.state.hidePassword})}),(0,s.A)(this,"focus",()=>{this.textFieldRef.current.focus()}),this.state={hidePassword:!0}}getIsValueHidden(){return!!this.props.hideToggle||this.props.submitting||this.state.hidePassword}render(){let{hideToggle:e,submitting:t,isHidden:i,locale:s,translate:l,...c}=this.props,p=this.getIsValueHidden();return(0,u.FD)("div",{className:"form-password-input",children:[(0,u.Y)(d.A,{autoComplete:"off",...c,ref:this.textFieldRef,type:p?"password":"text"}),(0,u.Y)(o.Ay,{className:(0,a.A)({"form-password-input__toggle":!0,"form-password-input__toggle-visibility":!e}),onClick:this.togglePasswordVisibility,"aria-hidden":i,tabIndex:i?-1:void 0,size:"small",icon:p?r.A:n.A,label:l(p?"Show password":"Hide password")})]})}}(0,s.A)(p,"displayName","FormPasswordInput");let m=(0,l.A)(p)},"./components/forms/form-text-input/index.jsx":(e,t,i)=>{i.d(t,{A:()=>a});var s=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=i("../node_modules/clsx/dist/clsx.mjs"),r=i("../node_modules/react/index.js"),n=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends r.PureComponent{constructor(...e){super(...e),(0,s.A)(this,"state",{value:this.props.value||""}),(0,s.A)(this,"currentTextField",void 0),(0,s.A)(this,"textFieldRef",e=>{this.currentTextField=e;let{inputRef:t}=this.props;t&&("function"==typeof t?t(e):t.current=e)}),(0,s.A)(this,"selectOnFocus",e=>{this.props.selectOnFocus&&e.target.select()}),(0,s.A)(this,"onChange",e=>{this.setState({value:e.target.value}),this.props.onChange?.(e)})}componentDidUpdate(e){this.updateValueIfNeeded(e.value)}updateValueIfNeeded(e){let{value:t}=this.props;(e!==t||t!==this.state.value)&&this.setState({value:t})}focus(){this.currentTextField&&this.currentTextField.focus()}render(){let{isError:e,isValid:t,hasCoreStyles:i,selectOnFocus:s,inputRef:r,onChange:a,value:l,...c}=this.props,d=(0,o.A)("form-text-input",this.props.className,{"is-error":this.props.isError,"is-valid":this.props.isValid,"form-text-input-core-styles":i});return(0,n.Y)("input",{type:"text",...c,value:this.state.value,ref:this.textFieldRef,className:d,onClick:this.selectOnFocus,onChange:this.onChange})}}},"./components/global-notices/index.jsx":(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var s=i("../node_modules/react-redux/dist/react-redux.mjs"),o=i("./components/notice/index.tsx"),r=i("./components/notice/notice-action.tsx"),n=i("./state/notices/actions.ts"),a=i("./state/notices/selectors.js"),l=i("../node_modules/clsx/dist/clsx.mjs"),c=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d({id:e,className:t,children:i}){return(0,c.Y)("div",{id:e,className:(0,l.A)("global-notices",t),children:i})}var u=i("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js");function p({id:e="overlay-notices"}){let t=(0,s.wA)(),i=(e,i)=>s=>{i&&i(s),t((0,n.fj)(e))},l=(0,s.d4)(a.o);if(!l.length)return null;let p=l.map(({button:e,noticeActionProps:t,href:s,noticeId:n,onClick:a,onDismissClick:l,...d})=>(0,u.n)(o.A,{...d,key:n,onDismissClick:i(n,l),theme:"dark"},e&&(0,c.Y)(r.A,{href:s,onClick:a,...t,children:e})));return(0,c.Y)(d,{id:e,children:p})}},"./components/loading-ellipsis/index.tsx":(e,t,i)=>{i.d(t,{o:()=>r});var s=i("../node_modules/clsx/dist/clsx.mjs"),o=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r({className:e}){return(0,o.FD)("div",{className:(0,s.A)("wpcom__loading-ellipsis",e),children:[(0,o.Y)("div",{}),(0,o.Y)("div",{}),(0,o.Y)("div",{}),(0,o.Y)("div",{})]})}},"./components/locale-suggestions/index.jsx":(e,t,i)=>{i.d(t,{A:()=>x});var s=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=i("../packages/i18n-utils/src/utils.ts"),r=i("../packages/i18n-calypso/src/index.ts"),n=i("../node_modules/lodash-es/startsWith.js"),a=i("../node_modules/react/index.js"),l=i("../node_modules/react-redux/dist/react-redux.mjs"),c=i("./state/action-types.ts");i("./state/i18n/init.js");var d=i("./state/data-layer/handler-registry.js"),u=i("./state/data-layer/wpcom-http/actions.js");let p=(0,i("./state/data-layer/wpcom-http/utils.js").wH)({fetch:e=>(0,u.L)({apiVersion:"1.1",method:"GET",path:"/locale-guess"},e),onSuccess:(e,t)=>m(t),onError:()=>{}});(0,d.vZ)("state/data-layer/wpcom/locale-guess/index.js",{[c.W_y]:[p]});let m=e=>({type:c.OhW,items:e});var g=i("../node_modules/lodash-es/get.js");function h(e){return(0,g.A)(e,"i18n.localeSuggestions",null)}class f extends a.Component{componentDidMount(){this.props.localeSuggestions||this.props.requestLocaleSuggestions()}render(){return null}}(0,s.A)(f,"defaultProps",{requestLocaleSuggestions:()=>{}});let _=(0,l.Ng)(e=>({localeSuggestions:h(e)}),{requestLocaleSuggestions:()=>({type:c.W_y})})(f);var w=i("./components/notice/index.tsx"),v=i("./state/analytics/actions/record.js"),y=i("./state/ui/language/actions.ts"),b=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class k extends a.Component{constructor(...e){super(...e),(0,s.A)(this,"handleLocaleSuggestionClick",e=>{let{locale:t,onLocaleSuggestionClick:i,path:s}=this.props;this.props.recordLocaleSuggestionClick(t),this.hasLocaleDirectionChanged(t)&&(e.preventDefault(),window.location=s),i&&i()})}hasLocaleDirectionChanged(e){let t=(0,o.Z0)(e.locale),i=(0,o.Z0)((0,r.yb)());return t.rtl!==i.rtl}render(){let{locale:e,path:t}=this.props;return(0,b.FD)("div",{className:"locale-suggestions__list-item",dir:"auto",children:[e.availability_text,(0,b.Y)("a",{href:t,onClick:this.handleLocaleSuggestionClick,className:"locale-suggestions__locale-link",children:e.name})]})}}class A extends a.Component{constructor(...e){super(...e),(0,s.A)(this,"state",{dismissed:!1}),(0,s.A)(this,"dismiss",()=>this.setState({dismissed:!0})),(0,s.A)(this,"getPathWithLocale",e=>(0,o._e)(this.props.path,e)),(0,s.A)(this,"recordLocaleSuggestionClick",e=>{this.props.recordTracksEvent("calypso_locale_suggestion_click",{sourceLocale:(0,r.yb)(),targetLocale:e?.locale,path:this.props.path})})}componentDidMount(){let{locale:e}=this.props;if(!e&&"object"==typeof navigator&&"languages"in navigator)for(let t of navigator.languages){let i=(0,o.Z0)(t.toLowerCase());if(i){e=i.langSlug;break}}this.props.setLocale(e)}componentDidUpdate(e){e.locale!==this.props.locale&&this.props.setLocale(this.props.locale)}render(){if(this.state.dismissed)return null;let{localeSuggestions:e}=this.props;if(!e)return(0,b.Y)(_,{});let t=e.filter(function(e){return!(0,n.A)((0,r.yb)(),e.locale)});if(0===t.length)return null;let i=t.map(e=>(0,b.Y)(k,{locale:e,onLocaleSuggestionClick:this.dismiss,path:this.getPathWithLocale(e.locale),recordLocaleSuggestionClick:this.recordLocaleSuggestionClick},"locale-"+e.locale));return(0,b.Y)("div",{className:"locale-suggestions",children:(0,b.Y)(w.A,{className:"locale-suggestions__notice",icon:"globe",showDismiss:!0,onDismissClick:this.dismiss,isCompact:!0,theme:"light",status:"is-info",children:(0,b.Y)("div",{className:"locale-suggestions__list",children:i})})})}}(0,s.A)(A,"defaultProps",{locale:"",localeSuggestions:[]});let x=(0,l.Ng)(e=>({localeSuggestions:h(e)}),{setLocale:y.x,recordTracksEvent:v.Oy})(A)},"./components/logged-out-form/index.jsx":(e,t,i)=>{i.d(t,{A:()=>n});var s=i("../packages/components/src/card/index.tsx"),o=i("../node_modules/clsx/dist/clsx.mjs"),r=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n({className:e,...t}){return(0,r.Y)(s.A,{className:(0,o.A)("logged-out-form",e),children:(0,r.Y)("form",{...t})})}},"./components/main/index.tsx":(e,t,i)=>{i.d(t,{A:()=>r});var s=i("../node_modules/clsx/dist/clsx.mjs"),o=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r({className:e="",id:t="",children:i,wideLayout:r=!1,fullWidthLayout:n=!1,isLoggedOut:a=!1,ariaLabel:l}){let c=(0,s.A)(e,"main",{"is-wide-layout":r,"is-full-width-layout":n,"is-logged-out":a});return(0,o.Y)("main",{className:c,id:t||void 0,role:"main","aria-label":l,children:i})}},"./components/notice/notice-action.tsx":(e,t,i)=>{i.d(t,{A:()=>a});var s=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=i("../packages/components/src/gridicon/index.tsx"),r=i("../node_modules/react/index.js"),n=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends r.Component{render(){let e={"aria-label":this.props["aria-label"],className:"calypso-notice__action",href:this.props.href??void 0,onClick:this.props.onClick,tabIndex:0};return this.props.external&&(e.target="_blank",e.rel="noopener noreferrer"),(0,n.FD)("a",{...e,children:[(0,n.Y)("span",{children:this.props.children}),this.props.icon&&(0,n.Y)(o.A,{icon:this.props.icon,size:24}),this.props.external&&(0,n.Y)(o.A,{icon:"external",size:24})]})}}(0,s.A)(a,"displayName","NoticeAction"),(0,s.A)(a,"defaultProps",{external:!1})},"./components/wp-cloud-logo/index.jsx":(e,t,i)=>{i.d(t,{A:()=>o});var s=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let o=function({className:e="wpcloud-logo",size:t=72}){return(0,s.FD)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:t,viewBox:"0 0 181 34",className:e,children:[(0,s.Y)("style",{type:"text/css",children:".st0{fill-rule:evenodd;clip-rule:evenodd;fill:#000;}"}),(0,s.FD)("g",{children:[(0,s.Y)("path",{className:"st0",d:"M53.0978 1.003H46.8446C44.0016 0.899245 41.3315 2.37263 39.8996 4.87668L36.8699 10.3275L33.8124 4.86285C32.4981 2.51097 29.8834 0.996087 27.158 0.996087C24.3911 0.996087 21.8317 2.46947 20.469 4.85593L17.3908 10.3552L14.3264 4.8836C13.3303 3.10586 11.6979 1.82616 9.72643 1.27278C7.76192 0.726313 5.70057 0.968418 3.92282 1.96451C2.14508 2.97443 0.858466 4.59999 0.298166 6.5645C-0.262134 8.52901 -0.0200288 10.5973 0.969143 12.375L10.7364 29.8066L10.7571 29.7927C11.4281 30.9825 12.4173 32.0201 13.69 32.7464C14.8867 33.3828 16.1664 33.6872 17.4184 33.6872C20.0954 33.6872 22.6548 32.2899 24.0452 29.8066L27.1511 24.3004L30.2293 29.7997L30.2431 29.7927C30.9072 30.9687 31.8756 31.9855 33.1276 32.698C34.1652 33.3482 35.4103 33.6872 36.7108 33.6872C37.3195 33.6872 37.9351 33.6111 38.5508 33.4658C40.6536 32.9539 42.4521 31.6189 43.5104 29.7927L48.0482 21.658H53.0978C58.9498 21.658 63.5291 17.1479 63.5291 11.3928C63.536 5.65834 58.853 1.003 53.0978 1.003ZM3.00282 7.33232C3.35561 6.08721 4.17185 5.05653 5.29936 4.42706C6.41996 3.79759 7.72733 3.63849 8.97244 3.99127C10.2176 4.33714 11.2482 5.14646 11.8777 6.26706L15.7791 13.2397L10.7018 22.3152C10.5357 22.6126 10.3974 22.917 10.2798 23.2282L3.42478 10.9985C2.79531 9.87788 2.64313 8.57743 3.00282 7.33232ZM21.5965 28.43C20.3099 30.7404 17.4184 31.5428 15.0458 30.2839C12.7147 28.9558 11.8639 26.0021 13.1505 23.6848L22.9177 6.24631C23.7754 4.74526 25.401 3.81142 27.1649 3.81142C28.8873 3.81142 30.5405 4.76601 31.3706 6.23247L35.272 13.212L30.2016 22.329C30.0356 22.6195 29.9041 22.9239 29.7866 23.2282L27.1718 18.5591L21.5965 28.43ZM53.0978 18.8427H46.395L41.0617 28.4024C40.3977 29.5506 39.2356 30.4015 37.8798 30.7335C36.6831 31.024 35.4864 30.8718 34.6079 30.3046L34.5387 30.2631C32.2076 28.9488 31.3637 26.009 32.6503 23.6986L42.3553 6.25322C43.2268 4.73142 44.8247 3.8045 46.6094 3.8045C46.6716 3.8045 46.7408 3.8045 46.8031 3.81142H53.1047C57.3104 3.81142 60.7276 7.21473 60.7276 11.3928C60.7207 15.5708 57.3727 18.8427 53.0978 18.8427Z"}),(0,s.Y)("path",{className:"st0",d:"M76.4782 25.7185L71.982 9.04089H74.6936L78 22.8409L81.8045 9.04089H84.5853L88.2722 22.8409L91.5787 9.04089H94.2902L89.7248 25.6977H86.7781L83.1396 12.6379L79.3835 25.6977L76.4782 25.7185Z"}),(0,s.Y)("path",{className:"st0",d:"M96.6075 9.04089H102.439C103.739 9.04089 104.818 9.26224 105.676 9.69803C106.534 10.1338 107.17 10.7287 107.592 11.4827C108.014 12.2367 108.222 13.0875 108.222 14.0421C108.222 14.9483 108.021 15.7783 107.613 16.5254C107.212 17.2794 106.575 17.8812 105.725 18.3239C104.867 18.7666 103.774 18.9879 102.439 18.9879H99.1323V25.6977H96.6075V9.04089ZM99.1323 16.9128H102.321C103.511 16.9128 104.362 16.6568 104.881 16.138C105.399 15.6192 105.655 14.9206 105.655 14.0352C105.655 13.1152 105.399 12.3958 104.881 11.8839C104.362 11.372 103.511 11.1092 102.321 11.1092H99.1323V16.9128Z"}),(0,s.Y)("path",{className:"st0",d:"M124.138 25.9744C122.492 25.9744 121.067 25.6147 119.87 24.8953C118.674 24.1759 117.747 23.166 117.097 21.8725C116.446 20.5789 116.121 19.0848 116.121 17.3901C116.121 15.6746 116.446 14.1735 117.097 12.88C117.747 11.5864 118.674 10.5765 119.87 9.84329C121.067 9.11698 122.492 8.75036 124.138 8.75036C126.089 8.75036 127.68 9.22766 128.918 10.1753C130.156 11.1299 130.938 12.458 131.277 14.1735H128.469C128.247 13.2051 127.77 12.4373 127.044 11.8631C126.317 11.289 125.342 11.0054 124.118 11.0054C122.45 11.0054 121.136 11.5726 120.168 12.707C119.199 13.8415 118.715 15.3979 118.715 17.3831C118.715 19.3476 119.199 20.8971 120.168 22.0246C121.136 23.1521 122.45 23.7124 124.118 23.7124C125.342 23.7124 126.317 23.4427 127.044 22.9031C127.77 22.3636 128.247 21.6234 128.469 20.6896H131.277C130.945 22.3428 130.156 23.6294 128.918 24.5702C127.68 25.5109 126.089 25.9744 124.138 25.9744Z"}),(0,s.Y)("path",{className:"st0",d:"M133.961 25.6908V8.5636H136.486V25.6908H133.961Z"}),(0,s.Y)("path",{className:"st0",d:"M145.195 25.9744C144.067 25.9744 143.057 25.7185 142.158 25.1997C141.259 24.6809 140.553 23.9615 140.027 23.0346C139.502 22.1076 139.246 21.0216 139.246 19.7903C139.246 18.5591 139.509 17.4731 140.041 16.5392C140.574 15.6123 141.293 14.8929 142.192 14.3741C143.099 13.8622 144.102 13.5994 145.215 13.5994C146.343 13.5994 147.353 13.8553 148.252 14.3741C149.144 14.8929 149.864 15.6123 150.396 16.5392C150.929 17.4661 151.192 18.5522 151.192 19.7903C151.192 21.0285 150.929 22.1076 150.396 23.0346C149.864 23.9615 149.144 24.6809 148.245 25.1997C147.332 25.7185 146.315 25.9744 145.195 25.9744ZM145.195 23.8093C145.796 23.8093 146.357 23.6571 146.869 23.3597C147.387 23.0553 147.802 22.6126 148.121 22.0177C148.439 21.4228 148.598 20.6827 148.598 19.7903C148.598 18.898 148.446 18.1579 148.134 17.563C147.823 16.9681 147.415 16.5185 146.896 16.221C146.377 15.9167 145.824 15.7714 145.222 15.7714C144.62 15.7714 144.06 15.9236 143.548 16.221C143.029 16.5254 142.614 16.9681 142.296 17.563C141.978 18.1579 141.819 18.898 141.819 19.7903C141.819 20.6827 141.978 21.4228 142.296 22.0177C142.614 22.6126 143.023 23.0622 143.534 23.3597C144.032 23.664 144.586 23.8093 145.195 23.8093Z"}),(0,s.Y)("path",{className:"st0",d:"M158.275 25.9744C156.85 25.9744 155.723 25.5317 154.906 24.6394C154.09 23.747 153.682 22.4258 153.682 20.6688V13.8899H156.207V20.406C156.207 22.6887 157.141 23.83 159.015 23.83C159.949 23.83 160.717 23.498 161.326 22.834C161.927 22.1699 162.232 21.2153 162.232 19.9771V13.883H164.757V25.6908H162.522L162.336 23.6225C161.969 24.3488 161.436 24.9299 160.731 25.3449C160.011 25.7669 159.195 25.9744 158.275 25.9744Z"}),(0,s.Y)("path",{className:"st0",d:"M173.341 25.9744C172.2 25.9744 171.19 25.7046 170.318 25.1651C169.447 24.6255 168.762 23.8854 168.271 22.9515C167.779 22.0177 167.53 20.9525 167.53 19.7627C167.53 18.5729 167.779 17.5146 168.271 16.5876C168.762 15.6607 169.447 14.9275 170.325 14.4018C171.204 13.8692 172.213 13.6063 173.362 13.6063C174.296 13.6063 175.119 13.7861 175.824 14.1528C176.53 14.5194 177.083 15.0313 177.478 15.7022V8.5636H180.002V25.6908H177.74L177.478 23.8577C177.097 24.4111 176.571 24.9022 175.907 25.3311C175.243 25.76 174.385 25.9744 173.341 25.9744ZM173.791 23.7885C174.87 23.7885 175.755 23.415 176.44 22.6679C177.132 21.9209 177.478 20.9663 177.478 19.7903C177.478 18.6006 177.132 17.6391 176.44 16.8989C175.748 16.1588 174.863 15.7922 173.791 15.7922C172.712 15.7922 171.826 16.1588 171.127 16.8989C170.429 17.6391 170.083 18.6006 170.083 19.7903C170.083 20.5651 170.242 21.2568 170.56 21.8586C170.878 22.4604 171.314 22.9308 171.881 23.2767C172.435 23.6156 173.078 23.7885 173.791 23.7885Z"})]})]})}},"./landing/login/index.js":(e,t,i)=>{i("../packages/calypso-polyfills/index.js");var s=i("../packages/calypso-router/src/index.js"),o=i("./boot/locale.js"),r=i("./controller/web-util.js"),n=i("./lib/user/shared-utils/initialize-current-user.ts"),a=i("../packages/calypso-config/src/index.ts"),l=i("../packages/i18n-utils/src/utils.ts"),c=i("../node_modules/react-redux/dist/react-redux.mjs"),d=i("./components/calypso-i18n-provider/index.tsx"),u=i("./components/route/index.js"),p=i("../packages/i18n-utils/src/localize-url.tsx"),m=i("./server/lib/performance-mark/index.ts"),g=i("./state/current-user/selectors.js"),h=i("./state/document-head/actions.js");let f=(e,t,i=!1)=>{let s=new URL(e,"https://web.archive.org/web/20250821033111/https://wordpress.com");i&&(s.search="");let o=s.href.replace(RegExp(`\\/(${(0,l.xp)().join("|")})(\\/|\\?|$)`),"$2"),r=(0,p.rm)(o,t,!1);return!e.endsWith("/")&&r.endsWith("/")&&(r=r.slice(0,-1)),r},_=(e,t)=>{if(!e.isServerSide||(0,g.x3)(e.store.getState()))return void t();(0,m.A)(e,"setHrefLangLinks");let i=["x-default","en",...(0,a.Ay)("magnificent_non_en_locales")].map(t=>{let i=t;return"x-default"===i&&(i=(0,a.Ay)("i18n_default_locale_slug")),{rel:"alternate",hrefLang:t,href:f(e.originalUrl,i,e.excludeSearchFromCanonicalUrl)}});e.store.dispatch((0,h.C2)(i)),t()};var w=i("./controller/shared.js"),v=i("./layout/logged-out.jsx"),y=i("../packages/calypso-url/src/url-parts.ts"),b=i("./lib/oauth2-clients.js"),k=i("../node_modules/debug/src/browser.js"),A=i.n(k),x=i("../node_modules/react/index.js"),C=i("../node_modules/@wordpress/components/build-module/button/index.js"),j=i("../packages/i18n-calypso/src/use-translate.js"),Y=i("./components/formatted-header/index.tsx"),L=i("./components/main/index.tsx"),S=i("./components/notice/index.tsx"),E=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function N(e){let t=(0,j.A)(),[i,s]=(0,x.useState)(e.error);return(0,E.Y)(L.A,{className:"desktop-login",children:(0,E.FD)("div",{className:"desktop-login__content",children:[i?(0,E.Y)(S.A,{status:"is-error",onDismissClick:()=>s(void 0),children:t("We were not able to log you in. Please try again.")}):void 0,(0,E.Y)(Y.A,{headerText:t("Log in"),subHeaderText:t("Authorize with WordPress.com to get started"),brandFont:!0}),(0,E.Y)(C.Ay,{variant:"primary",href:"/desktop-start-login",onClick:()=>s(void 0),children:t("Log in with WordPress.com")})]})})}var F=i("./signup/wpcom-login-form/index.jsx");let P=A()("calypso:desktop");function D(e){let{accessToken:t}=e,[i,s]=(0,x.useState)(),[o,r]=(0,x.useState)(e.error??!t?"Access token is missing":void 0);return(o&&P(o),(0,x.useEffect)(()=>{o||!t||i||(P("Retrieving username from the API"),T(t).then(s).catch(()=>r("Failed to retrieve username")))},[o,t,i]),o)?(0,E.Y)(N,{error:o}):i?(0,E.Y)(F.A,{log:i,authorization:"Bearer "+t,redirectTo:window.location.href,rememberMe:!0}):void 0}async function T(e){let t=await fetch("https://web.archive.org/web/20250821033111/https://public-api.wordpress.com/rest/v1/me",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error(`Failed to retrieve username: ${t.status}`);return(await t.json()).username}var R=i("./state/action-types.ts"),O=i("./state/oauth2-clients/actions.js"),M=i("./state/oauth2-clients/selectors.js"),H=i("./login/login-context.tsx"),I=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),q=i("../packages/i18n-calypso/src/index.ts"),V=i("../packages/i18n-calypso/src/localize.js"),U=i("./blocks/app-promo/index.tsx"),W=i("./blocks/login/utils/should-use-magic-code.ts"),B=i("./components/global-notices/index.jsx"),z=i("./components/locale-suggestions/index.jsx"),$=i("./lib/paths/index.js"),Z=i("../packages/calypso-analytics/src/index.ts"),G=i("../packages/components/src/gridicon/index.tsx"),J=i("../node_modules/clsx/dist/clsx.mjs"),K=i("./lib/safe-protocol-url/index.js");function Q({locale:e,oauth2Client:t,recordClick:i,classes:s}){let o=(0,j.A)(),r=(0,p.rm)("https://web.archive.org/web/20250821033111/https://wordpress.com",e),n=o("Back to WordPress.com");if(t){if(!(r=(0,K.A)(t.url))||"http:"===r)return null;n=o("Back to %(clientTitle)s",{args:{clientTitle:t.title}})}return(0,E.FD)("a",{href:r,onClick:i,rel:"external",className:(0,J.A)({"logged-out-form__link-item":!0,"logged-out-form__back-link":!0,...s}),children:[(0,E.Y)(G.A,{icon:"arrow-left",size:18}),n]},"return-to-wpcom-link")}var X=i("./state/oauth2-clients/ui/selectors.js");let ee=()=>{(0,Z.Oy)("calypso_login_back_to_wpcom_link_click")},et=({lostPasswordLink:e,loginLink:t,isLoginView:i,supportLink:s})=>{let o=(0,c.d4)(X.AL),r=(0,b.mo)(o);return i?(0,E.FD)("div",{className:"one-login__footer",children:[e,r&&(0,E.Y)(Q,{classes:{"logged-out-form__link-item":!1,"logged-out-form__back-link":!1,"one-login__footer-link":!0},oauth2Client:o,recordClick:ee})]}):(0,E.FD)("div",{className:"one-login__footer",children:[t,s]})};var ei=i("./login/wp-login/components/one-login-layout.tsx"),es=i("./state/analytics/actions/record-with-client-id.js"),eo=i("./state/analytics/actions/enhance-with-site-type.js"),er=i("./state/login/magic-login/constants.js"),en=i("./state/login/selectors.js"),ea=i("./state/selectors/get-current-locale-slug.js"),el=i("./state/selectors/get-current-query-arguments.js"),ec=i("./state/selectors/get-current-route.js"),ed=i("./state/selectors/get-initial-query-arguments.js"),eu=i("../node_modules/lodash-es/get.js");function ep(e){return(0,eu.A)(e,"login.magicLogin.currentView",null)}function em(e){return(0,eu.A)(e,"login.magicLogin.requestEmailError",null)}i("./state/login/init.js");var eg=i("./state/selectors/is-magic-login-email-requested.js"),eh=i("./state/selectors/is-woo-jpc-flow.ts"),ef=i("./state/utils/with-enhancers.ts"),e_=i("../packages/components/src/forms/form-label/index.tsx"),ew=i("../node_modules/email-validator/index.js"),ev=i("./components/forms/form-button/index.jsx"),ey=i("./components/forms/form-text-input/index.jsx"),eb=i("./components/gravatar-login-logo/index.tsx"),ek=i("./lib/get-gravatar-oauth2-flow.js"),eA=i("./lib/tos-acceptance-tracking/index.js"),ex=i("./lib/wp/browser.js"),eC=i("./state/index.ts"),ej=i("./state/auth/actions.js"),eY=i("./state/login/actions/reboot-after-login.ts"),eL=i("./state/login/magic-login/actions.js"),eS=i("./state/notices/actions.ts");function eE(e){return(0,eu.A)(e,"login.magicLogin.requestAuthError",null)}function eN(e){return(0,eu.A)(e,"login.magicLogin.requestAuthSuccess",!1)}function eF(e){return(0,eu.A)(e,"login.magicLogin.isFetchingAuth",!1)}var eP=i("./state/selectors/is-fetching-magic-login-email.js"),eD=i("./components/forms/form-fieldset/index.jsx"),eT=i("./components/logged-out-form/index.jsx"),eR=i("./lib/formatting/prevent-widows.js"),eO=i("../packages/components/src/card/index.tsx");let eM=A()("calypso:redirect-when-logged-in");class eH extends x.Component{constructor(...e){super(...e),(0,I.A)(this,"storageEventHandler",e=>{"wpcom_user_id"===e.key&&null!=e.newValue&&(eM("detected change of wpcom_user_id, redirecting"),this.doTheRedirect())})}doTheRedirect(){eM(this.props.replaceCurrentLocation?"replace":"assign",this.props.redirectTo),this.props.replaceCurrentLocation?window.location.replace(this.props.redirectTo):window.location.assign(this.props.redirectTo)}isUserLoggedIn(e){let{waitForEmailAddress:t,waitForUserId:i}=this.props;return!!(e&&e.email&&e.ID)&&(!t||t===e.email)&&(!i||i===e.ID)}componentDidMount(){let{currentUser:e,delayAtMount:t}=this.props;if(this.isUserLoggedIn(e))return t?void setTimeout(()=>{this.doTheRedirect()},t):void this.doTheRedirect();eM("adding storage event listener"),window.addEventListener("storage",this.storageEventHandler)}componentWillUnmount(){eM("removing storage event listener"),window.removeEventListener("storage",this.storageEventHandler)}render(){return null}}let eI=(0,c.Ng)(e=>({currentUser:(0,g.HW)(e)}))(eH);var eq=i("./state/selectors/get-is-wccom.ts"),eV=i("../packages/onboarding/src/utils/domain-suggester.ts"),eU=i("./components/async-load/index.tsx"),eW=()=>Promise.resolve().then(i.bind(i,"./components/social-icons/apple.jsx")),eB=()=>i.e(88723).then(i.bind(i,"./components/social-icons/gmail.tsx")),ez=()=>i.e(73784).then(i.bind(i,"./components/social-icons/outlook.tsx")),e$=()=>i.e(3029).then(i.bind(i,"./components/social-icons/yahoo.tsx")),eZ=()=>i.e(41177).then(i.bind(i,"./components/social-icons/aol.tsx"));let eG={Icon:function({icon:e}){switch(e){case"apple":return(0,E.Y)(eU.A,{require:eW,placeholder:null});case"gmail":return(0,E.Y)(eU.A,{require:eB,placeholder:null});case"outlook":return(0,E.Y)(eU.A,{require:ez,placeholder:null});case"yahoo":return(0,E.Y)(eU.A,{require:e$,placeholder:null});case"aol":return(0,E.Y)(eU.A,{require:eZ,placeholder:null});default:return null}},Content:function({mailProviderName:e}){let t=(0,j.A)();return(0,E.Y)("p",{children:t("Open in %(mailProviderName)s",{args:{mailProviderName:e}})})}},eJ=[{domain:"apple.com",name:"Apple",url:"https://web.archive.org/web/20250821033111/https://www.icloud.com"},{domain:"gmail.com",name:"Gmail",url:"https://web.archive.org/web/20250821033111/https://mail.google.com"},{domain:"outlook.com",name:"Outlook",url:"https://web.archive.org/web/20250821033111/https://outlook.live.com"},{domain:"yahoo.com",name:"Yahoo",url:"https://web.archive.org/web/20250821033111/https://mail.yahoo.com"},{domain:"aol.com",name:"AOL",url:"https://web.archive.org/web/20250821033111/https://mail.aol.com"}],eK=e=>{let t=(0,eV.$)(e);return eJ.filter(e=>e.domain.toLowerCase()===t)};function eQ({emailAddress:e}){let t=e=>{(0,Z.Oy)("calypso_magic_login_email_click",{domain:e})},i=eK(e);if(i?.length>0)return(0,E.Y)("ul",{children:i.map((e,i)=>(0,E.Y)("li",{children:(0,E.FD)("a",{onClick:()=>t(e.name),target:"_blank",href:e.url,rel:"noreferrer noopener",children:[(0,E.Y)(eG.Icon,{icon:e.name.toLocaleLowerCase()}),(0,E.Y)(eG.Content,{mailProviderName:e.name})]})},i))})}class eX extends x.Component{constructor(...e){super(...e),(0,I.A)(this,"onLostPasswordClick",e=>{e.preventDefault(),(0,Z.Oy)("calypso_login_lost_password_click",{from:"magic-login"}),(0,s.A)((0,$.iD)({redirectTo:this.props.redirectTo,locale:this.props.locale,action:"lostpassword",oauth2ClientId:this.props.oauth2Client&&this.props.oauth2Client.id,from:(0,eu.A)(this.props.currentQuery,"from")}))})}componentDidMount(){this.props.recordPageView("/log-in/link","Login > Link > Emailed")}render(){let{translate:e,emailAddress:t}=this.props;return(0,E.FD)("div",{className:"magic-login__form",children:[(0,E.Y)(eI,{redirectTo:"/help",replaceCurrentLocation:!0,waitForEmailAddress:t}),(0,E.Y)(eO.A,{className:"magic-login__form",children:(0,E.Y)("div",{className:"magic-login__emails-list",children:(0,E.Y)(eQ,{emailAddress:t})})}),(0,E.Y)("div",{className:"magic-login__footer",children:(0,E.Y)("p",{children:e("Didn't get the email? You might want to double check if the email address is associated with your account,{{a}}or reset your password.{{/a}}",{components:{a:(0,E.Y)("a",{href:"/",onClick:this.onLostPasswordClick,rel:"noopener noreferrer"})}})})})]})}}(0,I.A)(eX,"contextType",H.hi);let e0={recordPageView:(0,ef.i)(es.m,[eo.c])},e1=(0,c.Ng)(e=>({locale:(0,ea.A)(e),isWCCOM:(0,eq.A)(e),currentQuery:(0,el.A)(e),redirectTo:(0,en.P7)(e),oauth2Client:(0,X.AL)(e)}),e0)((0,V.A)(eX)),e2=({emailAddress:e,shouldRedirect:t=!0,onResendEmail:i})=>{let s=(0,eC.wA)(),o=(0,j.A)(),{setHeaders:r}=(0,H.KA)();return(0,x.useEffect)(()=>{s((0,ef.i)(es.m,[eo.c])("/log-in/jetpack/link","Login > Link > Emailed"))},[]),(0,x.useEffect)(()=>{r({heading:o("Check your email"),subHeading:e?o("We sent a message to {{strong}}%(emailAddress)s{{/strong}} with a link to log in to WordPress.com.",{args:{emailAddress:e},components:{strong:(0,E.Y)("strong",{})}}):o("We sent a message to log in to WordPress.com")})},[r,o,e]),(0,E.FD)("div",{className:"magic-login__successfully-jetpack",children:[t&&(0,E.Y)(eI,{redirectTo:"/help",replaceCurrentLocation:!0,waitForEmailAddress:e}),(0,E.Y)("p",{children:(0,eR.s)(o("Only one step left—we'll connect your site next."))}),(0,E.FD)("div",{className:"magic-login__successfully-jetpack-actions",children:[(0,E.Y)("p",{children:o("Didn't get the code? Check your spam folder or {{button}}resend the email{{/button}}",{components:{button:(0,E.Y)(C.Ay,{className:"magic-login__resend-button",variant:"link",onClick:i})}})}),(0,E.Y)("p",{children:o("Wrong email or account? {{link}}Use a different account{{/link}}",{components:{link:(0,E.Y)("a",{className:"magic-login__log-in-link",href:"/log-in/jetpack"})}})})]})]})};class e4 extends x.Component{constructor(...e){super(...e),(0,I.A)(this,"state",{usernameOrEmail:this.props.userEmail||"",site:{}}),(0,I.A)(this,"usernameOrEmailRef",(0,x.createRef)()),(0,I.A)(this,"onUsernameOrEmailFieldChange",e=>{this.setState({usernameOrEmail:e.target.value}),this.props.requestError&&this.props.hideMagicLoginRequestNotice(),this.props.errorMessage&&this.props.onErrorDismiss?.()}),(0,I.A)(this,"onNoticeDismiss",()=>{this.props.hideMagicLoginRequestNotice()}),(0,I.A)(this,"onSubmit",e=>{e.preventDefault();let t=this.getUsernameOrEmailFromState();t.length&&(this.props.onSendEmailLogin?.(t),this.props.sendEmailLogin(t,{redirectTo:this.props.redirectTo,requestLoginEmailFormFlow:!0,createAccount:this.props.createAccountForNewUser,...this.props.flow?{flow:this.props.flow}:{},...this.props.blogId?{blogId:this.props.blogId}:{}}))})}setRequestLoginHeaders(){this.context?.setHeaders({heading:this.props.headerText||this.props.translate("Email me a login link"),subHeading:this.getSubHeaderText()})}setCheckYourEmailHeaders(){let e=this.getUsernameOrEmailFromState(),t=e.indexOf("@")>0?e:null;this.context?.setHeaders({heading:this.props.translate("Check your email"),subHeading:(0,eR.s)(t?this.props.translate("We've sent a login link to {{strong}}%(emailAddress)s{{/strong}}",{args:{emailAddress:t},components:{strong:(0,E.Y)("strong",{})}}):this.props.translate("We just emailed you a link."))})}componentDidMount(){this.props.blogId&&ex.A.req.get(`/sites/${this.props.blogId}`).then(e=>this.setState({site:e})),this.props.showCheckYourEmail?this.setCheckYourEmailHeaders():this.setRequestLoginHeaders()}componentDidUpdate(e){!e.requestError&&this.props.requestError&&this.usernameOrEmailRef.current?.focus(),this.state.site?.name&&e.site?.name!==this.state.site?.name&&this.setRequestLoginHeaders(),!e.showCheckYourEmail&&this.props.showCheckYourEmail&&this.setCheckYourEmailHeaders()}getUsernameOrEmailFromState(){return this.state.usernameOrEmail}getSubHeaderText(){let{translate:e,subHeaderText:t}=this.props,i=this.state.site?.name;return t||(i?e("We’ll send you an email with a link that will log you in right away to %(siteName)s.",{args:{siteName:i}}):e("We’ll send you an email with a link that will log you in right away."))}getGravatarHeader(){let{headerText:e}=this.props;return e?(0,E.Y)("h1",{className:"grav-powered-magic-login__form-header",children:e}):null}getGravatarSubHeader(){let{subHeaderText:e}=this.props;return e?(0,E.Y)("p",{className:"grav-powered-magic-login__form-sub-header",children:e}):null}render(){let{currentUser:e,requestError:t,isFetching:i,isJetpackMagicLinkSignUpEnabled:s,emailRequested:o,showCheckYourEmail:r,translate:n,tosComponent:a,isGravPoweredClient:l,inputPlaceholder:c,submitButtonLabel:d,customFormLabel:u,onSubmitEmail:p,errorMessage:m,onErrorDismiss:g,isEmailInputDisabled:h,isEmailInputError:f,isSubmitButtonDisabled:_,isSubmitButtonBusy:w,isFromJetpackOnboarding:v}=this.props,y=this.getUsernameOrEmailFromState(),b=this.state.site?.icon?.img??this.state.site?.icon?.ico??null;if(r){let e=y.indexOf("@")>0?y:null;return s?(0,E.Y)(e2,{emailAddress:e,shouldRedirect:!v,onResendEmail:this.onSubmit}):(0,E.Y)(e1,{emailAddress:e})}let k=y.length&&!i&&!o&&!t&&!_,A="string"==typeof t?.message&&t?.message.length?t?.message:n("Unable to complete request"),x=n("Send link"),j=this.props.translate("Email address or username"),Y=p?e=>p(this.getUsernameOrEmailFromState(),e):this.onSubmit;return(0,E.FD)("div",{className:"magic-login__form",children:[b&&(0,E.Y)("div",{className:"magic-login__form-header-icon",children:(0,E.Y)("img",{src:b,width:64,height:64,alt:`${this.state.site?.name} icon`})}),l&&this.getGravatarHeader(),(0,E.FD)(eT.A,{className:"magic-login__form-form",onSubmit:Y,children:[e&&e.username&&(0,E.Y)(S.A,{showDismiss:!1,className:"magic-login__form-header-notice",status:"is-info",theme:"light",text:n("You are already logged in as user: %(user)s",{args:{user:e.username}})}),l&&this.getGravatarSubHeader(),(0,E.Y)(e_.A,{htmlFor:"usernameOrEmail",children:j}),(0,E.FD)(eD.A,{className:"magic-login__email-fields",children:[(0,E.Y)(ey.A,{autoCapitalize:"off",autoFocus:!0,disabled:i||o||h,value:y,name:"usernameOrEmail",ref:this.usernameOrEmailRef,onChange:this.onUsernameOrEmailFieldChange,placeholder:c,isError:f}),a,t&&(0,E.Y)(S.A,{duration:1e4,text:A,className:"magic-login__request-login-email-form-notice",showDismiss:!1,onDismissClick:this.onNoticeDismiss,status:"is-transparent-info"}),m&&(0,E.Y)(S.A,{duration:1e4,text:m,className:"magic-login__request-login-email-form-notice",showDismiss:!1,onDismissClick:g,status:"is-transparent-info"}),(0,E.Y)("div",{className:"magic-login__form-action",children:(0,E.Y)(C.Ay,{variant:"primary",disabled:!k,isBusy:w,type:"submit",__next40pxDefaultSize:!0,children:d||x})})]})]})]})}}(0,I.A)(e4,"contextType",H.hi);let e3={sendEmailLogin:ej.Y,hideMagicLoginRequestNotice:eL.iJ,recordTracksEvent:es.K},e5=(0,c.Ng)(e=>{let t=(0,X.AL)(e);return{locale:(0,ea.A)(e),currentUser:(0,g.HW)(e),isFetching:(0,eP.A)(e),redirectTo:(0,en.P7)(e),requestError:em(e),showCheckYourEmail:ep(e)===er.mJ,emailRequested:(0,eu.A)(e,"login.magicLogin.requestedEmailSuccessfully",!1),blogId:(0,el.A)(e).blog_id,userEmail:(0,en.n0)(e)||(0,el.A)(e).email_address||(0,ed.A)(e).email_address,isGravPoweredClient:(0,b.rZ)(t)}},e3)((0,V.A)(e4)),e8=()=>{let e=(0,j.A)(),t=(0,eC.d4)(X.AL),i={components:{tosLink:(0,E.Y)("a",{href:(0,p.rm)("https://web.archive.org/web/20250821033111/https://wordpress.com/tos/"),target:"_blank",rel:"noopener noreferrer"}),privacyLink:(0,E.Y)("a",{href:(0,p.rm)("https://web.archive.org/web/20250821033111/https://automattic.com/privacy/"),target:"_blank",rel:"noopener noreferrer"}),wpAccountLink:(0,E.Y)("a",{href:(0,p.rm)("https://web.archive.org/web/20250821033111/https://support.gravatar.com/why-wordpress-com/"),target:"_blank",rel:"noopener noreferrer"})}};return(0,E.Y)("div",{className:"grav-powered-magic-login__tos",children:e((0,b.Dr)(t)?"By clicking “Continue“, you agree to our {{tosLink}}Terms of Service{{/tosLink}}, have read our {{privacyLink}}Privacy Policy{{/privacyLink}}, and understand that you're creating {{wpAccountLink}}a WordPress.com account{{/wpAccountLink}} if you don't already have one.":"By clicking “Send me sign in link“, you agree to our {{tosLink}}Terms of Service{{/tosLink}}, have read our {{privacyLink}}Privacy Policy{{/privacyLink}}, and understand that you're creating a Gravatar account if you don't already have one.",i)})},e7=async e=>{if(!window.crypto?.subtle)return null;let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")},e6=({path:e,oauth2Client:t,oauth2ClientId:i,locale:o,currentQueryArguments:r,isGravatar:n,isGravatarFlow:a,isGravatarOwnedService:l,isWPJobManager:c,isFromGravatar3rdPartyApp:d,isFromGravatarQuickEditor:u,isGravatarFlowWithEmail:p,showCheckYourEmail:m,isRequestingEmail:g,requestEmailErrorMessage:h,handleGravPoweredEmailSubmit:f,setUsernameOrEmail:_,setRequestEmailErrorMessage:w,recordTracksEvent:v})=>{let y=(0,j.A)(),b=n&&r?.gravatar_from==="signup",k=d||u||g||p,A=y(b?"Create your Gravatar":"Edit your Gravatar");A=c?y("Sign in with your email"):A;let x="";a&&!l?x=y("%(clientTitle)s profiles are powered by Gravatar.",{args:{clientTitle:t?.title??""}}):(d||u)&&(x=y("Profiles and avatars are powered by Gravatar."));let C=y(n?"Continue":"Send me sign in link"),Y=(0,$.iD)({locale:o,redirectTo:r?.redirect_to,oauth2ClientId:i,gravatarFrom:r?.gravatar_from,gravatarFlow:a,emailAddress:r?.email_address});return(0,E.FD)(E.FK,{children:[(0,E.Y)(tp,{path:e,showCheckYourEmail:m}),(0,E.Y)(B.default,{id:"notices"}),(0,E.FD)("div",{className:"grav-powered-magic-login__content",children:[(0,E.Y)(eb.A,{iconUrl:t?.icon,alt:t?.title??"",isCoBrand:a&&!l}),(0,E.Y)(e5,{flow:t?(0,ek.A)(t):void 0,headerText:A,subHeaderText:x,inputPlaceholder:y("Enter your email address"),submitButtonLabel:C,tosComponent:!n&&(0,E.Y)(e8,{}),onSubmitEmail:n?f:void 0,onSendEmailLogin:e=>_(e),createAccountForNewUser:!0,errorMessage:h,onErrorDismiss:()=>w(null),isEmailInputDisabled:k,isEmailInputError:!!h,isSubmitButtonDisabled:g||!!h,isSubmitButtonBusy:g}),n&&(0,E.FD)("div",{className:"grav-powered-magic-login__feature-items",children:[(0,E.FD)("div",{className:"grav-powered-magic-login__feature-item",children:[(0,E.FD)("svg",{className:"grav-powered-magic-login__feature-icon",width:"40",height:"41",viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,E.Y)("circle",{cx:"20",cy:"20.5",r:"19.25",fill:"white",stroke:"#1D4FC4",strokeWidth:"1.5"}),(0,E.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 17.5C24 19.7091 22.2091 21.5 20 21.5C17.7909 21.5 16 19.7091 16 17.5C16 15.2909 17.7909 13.5 20 13.5C22.2091 13.5 24 15.2909 24 17.5ZM22.5 17.5C22.5 18.8807 21.3807 20 20 20C18.6193 20 17.5 18.8807 17.5 17.5C17.5 16.1193 18.6193 15 20 15C21.3807 15 22.5 16.1193 22.5 17.5Z",fill:"#1D4FC4"}),(0,E.Y)("path",{d:"M26.75 28.5V26.5C26.75 24.9812 25.5188 23.75 24 23.75L16 23.75C14.4812 23.75 13.25 24.9812 13.25 26.5V28.5H14.75L14.75 26.5C14.75 25.8096 15.3096 25.25 16 25.25L24 25.25C24.6904 25.25 25.25 25.8096 25.25 26.5V28.5H26.75Z",fill:"#1D4FC4"})]}),(0,E.FD)("div",{children:[(0,E.Y)("h4",{className:"grav-powered-magic-login__feature-header",children:y("One profile, everywhere")}),(0,E.Y)("p",{className:"grav-powered-magic-login__feature-sub-header",children:y("Your avatar and bio syncs across the web.")})]})]}),(0,E.FD)("div",{className:"grav-powered-magic-login__feature-item",children:[(0,E.FD)("svg",{className:"grav-powered-magic-login__feature-icon",width:"40",height:"41",viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,E.Y)("circle",{cx:"20",cy:"20.5",r:"19.25",fill:"white",stroke:"#1D4FC4",strokeWidth:"1.5"}),(0,E.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 11.75C17.9289 11.75 16.25 13.4289 16.25 15.5V18.5H15C14.4477 18.5 14 18.9477 14 19.5V27.5C14 28.0523 14.4477 28.5 15 28.5H25C25.5523 28.5 26 28.0523 26 27.5V19.5C26 18.9477 25.5523 18.5 25 18.5H23.75V15.5C23.75 13.4289 22.0711 11.75 20 11.75ZM22.25 18.5V15.5C22.25 14.2574 21.2426 13.25 20 13.25C18.7574 13.25 17.75 14.2574 17.75 15.5V18.5H22.25ZM15.5 27V20H24.5V27H15.5Z",fill:"#1D4FC4"})]}),(0,E.FD)("div",{children:[(0,E.Y)("h4",{className:"grav-powered-magic-login__feature-header",children:y("Public, open, and responsible")}),(0,E.Y)("p",{className:"grav-powered-magic-login__feature-sub-header",children:y("Full control over your data and privacy.")})]})]}),(0,E.FD)("div",{className:"grav-powered-magic-login__feature-item",children:[(0,E.FD)("svg",{className:"grav-powered-magic-login__feature-icon",width:"40",height:"41",viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,E.Y)("circle",{cx:"20",cy:"20.5",r:"19.25",fill:"white",stroke:"#1D4FC4",strokeWidth:"1.5"}),(0,E.Y)("path",{d:"M19 21.5V26.5H20.5V21.5H25.5V20H20.5V15H19V20H14V21.5H19Z",fill:"#1D4FC4"})]}),(0,E.FD)("div",{children:[(0,E.Y)("h4",{className:"grav-powered-magic-login__feature-header",children:y("200+ million users")}),(0,E.Y)("p",{className:"grav-powered-magic-login__feature-sub-header",children:y("Used by WordPress, Slack, and many more.")})]})]})]}),c&&(0,E.Y)("hr",{className:"grav-powered-magic-login__divider grav-powered-magic-login__divider--email-form"}),!b&&(0,E.Y)("footer",{className:"grav-powered-magic-login__footer grav-powered-magic-login__footer--email-form",children:y("{{a}}Sign in another way{{/a}}",{components:{a:(0,E.Y)("a",{href:"/",onClick:e=>{e.preventDefault(),v("calypso_gravatar_powered_magic_login_click_login_page_link",{client_id:i,client_name:t?.title}),(0,s.A)(Y)}})}})})]}),c&&(0,E.FD)("div",{className:"grav-powered-magic-login__gravatar-info",children:[(0,E.FD)("div",{className:"grav-powered-magic-login__gravatar-info-heading",children:[(0,E.Y)("img",{src:"https://web.archive.org/web/20250821033111/https://gravatar.com/images/grav-logo-blue.svg",width:18,height:18,alt:"Gravatar logo"}),y("You will be logging in via Gravatar")]}),(0,E.FD)("div",{className:"grav-powered-magic-login__gravatar-info-items",children:[(0,E.FD)("div",{children:[(0,E.Y)(G.A,{icon:"checkmark",size:18,color:"#646970"}),y("Gravatar accounts and profiles are free. You can log in to thousands of sites across the web with one Gravatar account.")]}),(0,E.FD)("div",{children:[(0,E.Y)(G.A,{icon:"checkmark",size:18,color:"#646970"}),y("Control what information is shared on your public profile.")]}),(0,E.FD)("div",{children:[(0,E.Y)(G.A,{icon:"checkmark",size:18,color:"#646970"}),y("Have questions? Please see Gravatar's {{a}}documentation here{{/a}}.",{components:{a:(0,E.Y)("a",{href:"https://web.archive.org/web/20250821033111/https://gravatar.com/support",target:"_blank",rel:"noreferrer"})}})]})]})]})]})},e9=({oauth2Client:e,oauth2ClientId:t,isGravatarFlow:i,isGravatarOwnedService:s,usernameOrEmail:o,maskedEmailAddress:r,isNewAccount:n,setIsNewAccount:a,isRequestingEmail:l,requestEmailErrorMessage:c,setRequestEmailErrorMessage:d,shouldShowSwitchEmail:u,handleGravPoweredEmailSwitch:p,handleGravPoweredEmailCodeSend:m,setShowSecondaryEmailOptions:g,recordTracksEvent:h})=>{let f=(0,j.A)(),[_,w]=(0,x.useState)(null);(0,x.useEffect)(()=>{o&&e7(o).then(w)},[o]);let v={client_id:t,client_name:e?.title};return(0,E.FD)("div",{className:"grav-powered-magic-login__content",children:[(0,E.Y)(eb.A,{iconUrl:e?.icon,alt:e?.title??"",isCoBrand:i&&!s}),(0,E.Y)("h1",{className:"grav-powered-magic-login__header",children:f("Important note")}),(0,E.Y)("p",{className:"grav-powered-magic-login__sub-header",children:f("The submitted email is already linked to an existing Gravatar account as a secondary email:")}),(0,E.FD)("div",{className:"grav-powered-magic-login__account-info",children:[(0,E.Y)("div",{className:"grav-powered-magic-login__masked-email-address",children:f("Account: {{strong}}%(maskedEmailAddress)s{{/strong}}",{components:{strong:(0,E.Y)("strong",{})},args:{maskedEmailAddress:r}})}),_&&(0,E.Y)("a",{href:`https://web.archive.org/web/20250821033111/https://gravatar.com/${_}`,target:"_blank",rel:"noreferrer",children:f("Open profile")})]}),(0,E.FD)("div",{className:"grav-powered-magic-login__account-options",children:[(0,E.Y)("button",{className:(0,J.A)("grav-powered-magic-login__account-option",{"grav-powered-magic-login__account-option--selected":!n}),onClick:()=>{a(!1),h("calypso_gravatar_powered_magic_login_click_main_account",v)},disabled:l,children:f("Log in with main account (recommended)")}),!n&&(0,E.Y)("div",{children:f("Log in with your main account and edit there your avatar for your secondary email address.")}),(0,E.Y)("button",{className:(0,J.A)("grav-powered-magic-login__account-option",{"grav-powered-magic-login__account-option--selected":n}),onClick:()=>{a(!0),h("calypso_gravatar_powered_magic_login_click_new_account",v)},disabled:l,children:f("Create a new account")}),n&&(0,E.Y)("div",{children:f("If you continue a new account will be created, and {{strong}}%(emailAddress)s{{/strong}} will be disconnected from the current main account.",{components:{strong:(0,E.Y)("strong",{})},args:{emailAddress:o}})})]}),c&&(0,E.Y)(S.A,{duration:1e4,text:c,className:"magic-login__request-login-email-form-notice",showDismiss:!1,onDismissClick:()=>d(null),status:"is-transparent-info"}),(0,E.Y)(ev.A,{onClick:()=>m(o,()=>g(!1)),disabled:l||!!c,busy:l,children:f("Continue")}),(0,E.FD)("footer",{className:"grav-powered-magic-login__footer",children:[u&&(0,E.Y)("button",{onClick:p,children:f("Switch email")}),(0,E.Y)("a",{href:"https://web.archive.org/web/20250821033111/https://gravatar.com/support",target:"_blank",rel:"noreferrer",children:f("Need help logging in?")})]})]})},te=({locale:e,oauth2Client:t,oauth2ClientId:i,isGravatarFlow:o,isGravatarOwnedService:r,isFromGravatar3rdPartyApp:n,usernameOrEmail:a,maskedEmailAddress:l,isSecondaryEmail:c,isNewAccount:d,verificationCodeInputValue:u,handleGravPoweredCodeInputChange:p,handleGravPoweredCodeSubmit:m,handleGravPoweredEmailCodeSend:g,resendEmailCountdown:h,isRequestingEmail:f,shouldShowSwitchEmail:_,resetResendEmailCountdown:w,handleGravPoweredEmailSwitch:v,recordTracksEvent:y})=>{let b=(0,j.A)(),k=(0,eC.wA)(),A=(0,eC.d4)(eF),C=(0,eC.d4)(eN),Y=(0,eC.d4)(eE),L=(0,eC.d4)(en.DO),N=(0,eC.d4)(en.Z0),F=(0,eC.d4)(en.Lc),P=A||C;(0,x.useEffect)(()=>{C&&(L?(0,s.A)((0,$.iD)({twoFactorAuthType:N?.replace("none","authenticator")??"",redirectTo:F??"",oauth2ClientId:t.id,locale:e})):k((0,eY.x)({magic_login:1})))},[C,L,N,F,t,e,k]);let D=b("Something went wrong. Please try again.");return Y?.type==="sms_code_throttled"?D=b("Your two-factor code via SMS can only be requested once per minute. Please wait, then request a new code via email to proceed."):Y?.type==="user_email"?D=b("We're sorry, you can't create a new account at this time. Please try a different email address or disable any VPN before trying again."):Y?.code===403?D=b("Invalid code. If the error persists, please request a new code and try again."):Y?.code===429&&(D=b("Please wait a minute before trying again.")),(0,E.FD)("div",{className:"grav-powered-magic-login__content",children:[(0,E.Y)(eb.A,{iconUrl:t?.icon,alt:t?.title??"",isCoBrand:o&&!r}),(0,E.Y)("h1",{className:"grav-powered-magic-login__header",children:b("Check your email")}),(0,E.FD)("p",{className:"grav-powered-magic-login__sub-header",children:[(0,E.Y)("span",{children:b("Enter the verification code we’ve sent to {{strong}}%(emailAddress)s{{/strong}}.",{components:{strong:(0,E.Y)("strong",{})},args:{emailAddress:c&&!d?l:a}})}),c&&d&&(0,E.Y)("span",{children:b(" A new Gravatar account will be created.")}),c&&!d&&(0,E.Y)("span",{children:b(" This email already exists and is synced with Gravatar.")})]}),d&&(0,E.Y)(e8,{}),(0,E.FD)("form",{className:"grav-powered-magic-login__verification-code-form",onSubmit:m,children:[(0,E.Y)(e_.A,{htmlFor:"verification-code",hidden:!0,children:b("Enter the verification code")}),(0,E.Y)(ey.A,{id:"verification-code",value:u,onChange:p,placeholder:b("Verification code"),disabled:P,isError:!!Y,autoFocus:!0}),Y&&(0,E.Y)(S.A,{text:D,className:"magic-login__request-login-email-form-notice",showDismiss:!1,status:"is-transparent-info"}),(0,E.Y)(ev.A,{primary:!0,disabled:!u||u.length<6||P,busy:P,children:b("Continue")})]}),(0,E.FD)("footer",{className:(0,J.A)("grav-powered-magic-login__footer",{"grav-powered-magic-login__footer--vertical":!n}),children:[(0,E.Y)("button",{onClick:()=>{g(a),y("calypso_gravatar_powered_magic_login_click_resend_email",{type:"code",client_id:i,client_name:t?.title})},disabled:!!f||!!h,children:0===h?b("Send again"):b("Send again (%(countdown)d)",{args:{countdown:h}})}),_&&(0,E.Y)("button",{onClick:()=>{w(),v()},children:b("Switch email")}),(0,E.Y)("a",{href:"https://web.archive.org/web/20250821033111/https://gravatar.com/support",target:"_blank",rel:"noreferrer",children:b("Need help logging in?")})]})]})},tt=({oauth2Client:e,oauth2ClientId:t,usernameOrEmail:i,currentQueryArguments:s,resendEmailCountdown:o,resetResendEmailCountdown:r,handleGravPoweredEmailSwitch:n,recordTracksEvent:a})=>{let l=(0,j.A)(),c=(0,eC.wA)(),d=i.includes("@")?i:null,u=(0,eC.d4)(eP.A),p={components:{sendEmailButton:(0,E.Y)("button",{onClick:()=>{c((0,ej.Y)(i,{redirectTo:s?.redirect_to??"",requestLoginEmailFormFlow:!0,createAccount:!0,flow:e?(0,ek.A)(e)??"":"",showGlobalNotices:!0,tokenType:"link",source:!1,blogId:"",loginFormFlow:!1,isMobileAppLogin:!1})),a("calypso_gravatar_powered_magic_login_click_resend_email",{type:"link",client_id:t,client_name:e?.title})},disabled:u}),showMagicLoginButton:(0,E.Y)("button",{className:"grav-powered-magic-login__show-magic-login",onClick:()=>{r(),n()}})}};return(0,E.FD)("div",{className:"grav-powered-magic-login__content",children:[(0,E.Y)(eb.A,{iconUrl:e?.icon,alt:e?.title??""}),(0,E.Y)("h1",{className:"grav-powered-magic-login__header",children:l("Check your email!")}),(0,E.Y)("p",{className:"grav-powered-magic-login__sub-header",children:d?l("We've sent an email with a verification link to {{strong}}%(emailAddress)s{{/strong}}",{components:{strong:(0,E.Y)("strong",{})},args:{emailAddress:d}}):l("We just emailed you a link. Please check your inbox and click the link to log in.")}),(0,E.Y)("hr",{className:"grav-powered-magic-login__divider"}),(0,E.FD)("div",{className:"grav-powered-magic-login__footer",children:[(0,E.Y)("div",{children:l("Are you having issues receiving it?")}),(0,E.Y)("div",{children:l(0===o?"{{sendEmailButton}}Resend the verification email{{/sendEmailButton}} or {{showMagicLoginButton}}use a different email address{{/showMagicLoginButton}}.":"{{showMagicLoginButton}}Use a different email address{{/showMagicLoginButton}}.",p)})]})]})},ti=({path:e})=>{let t,i=(0,eC.wA)(),s=(0,j.A)(),o=(0,eC.d4)(ea.A),r=(0,eC.d4)(en.n0),n=(0,eC.d4)(el.A),c=(0,eC.d4)(ed.A),d=r||n?.email_address||c?.email_address,[u,p]=(0,x.useState)(!1),[m,g]=(0,x.useState)(null),[h,f]=(0,x.useState)(!1),[_,w]=(0,x.useState)(""),[v,y]=(0,x.useState)(d||""),[k,A]=(0,x.useState)(!1),[C,Y]=(0,x.useState)(!1),[S,N]=(0,x.useState)(""),[F,P]=(0,x.useState)(null),[D,T]=(0,x.useState)(!1),R=(0,eC.d4)(ep)===er.mJ,O=(0,eC.d4)(X.AL),M=(0,eC.d4)(X.H9),H=(0,b.MP)(O),I=(0,b.Dr)(O),q=(0,b.yN)(O),V=(0,b.r7)(O),U=!!(V&&n?.email_address),W=I&&n?.gravatar_from==="3rd-party",B=I&&n?.gravatar_from==="quick-editor",z=!W&&!B&&!U;(0,x.useEffect)(()=>{(0,Z.Oy)("calypso_gravatar_powered_magic_login_email_form",{client_id:M,client_name:O?.title,from:n?.gravatar_from,is_gravatar_flow:V,is_gravatar_flow_with_email:!!(V&&n?.email_address),is_initial_view:!0})},[]);let $=(0,x.useRef)(R),G=(0,x.useRef)(C),K=(0,x.useRef)(k);(0,x.useEffect)(()=>{let e={client_id:M,client_name:O?.title};($.current&&!R||G.current&&!C||K.current&&!k)&&(0,Z.Oy)("calypso_gravatar_powered_magic_login_email_form",{...e,from:n?.gravatar_from,is_gravatar_flow:V,is_gravatar_flow_with_email:!!(V&&n?.email_address),is_initial_view:!1}),!K.current&&k&&((0,Z.Oy)("calypso_gravatar_powered_magic_login_secondary_email_options",e),(0,Z.Oy)("calypso_gravatar_powered_magic_login_click_main_account",e)),!G.current&&C&&(0,Z.Oy)("calypso_gravatar_powered_magic_login_email_code_verification",e),!$.current&&R&&(0,Z.Oy)("calypso_gravatar_powered_magic_login_email_link_verification",e),$.current=R,G.current=C,K.current=k},[R,C,k,M,O?.title,V,n?.gravatar_from,n?.email_address]);let Q=(0,x.useRef)(null),[ee,et]=(0,x.useState)(90),ei=()=>{Q.current&&(clearInterval(Q.current),Q.current=null),et(90)},es=()=>{ei(),Q.current=setInterval(()=>{et(e=>e<=1?(Q.current&&(clearInterval(Q.current),Q.current=null),0):e-1)},1e3)};(0,x.useEffect)(()=>()=>{Q.current&&clearInterval(Q.current)},[]);let eo=async(e,t=()=>{})=>{let r="email-code-notice",c={client_id:M,client_name:O?.title};p(!0);try{(0,eS.Ns)(s("Sending email…"),{id:r,duration:4e3}),(0,Z.Oy)("calypso_gravatar_powered_magic_login_email_code_requesting",c);let{public_token:d}=await ex.A.req.post("/auth/send-login-email",{apiVersion:"1.3"},{client_id:(0,a.Ay)("wpcom_signup_id"),client_secret:(0,a.Ay)("wpcom_signup_key"),locale:o,lang_id:(0,l.Z0)(o)?.value,email:e,redirect_to:n?.redirect_to,flow:O?(0,ek.A)(O):void 0,create_account:!0,tos:(0,eA.A)(),token_type:"code",...h?{gravatar_main:!D}:{}});P(d),Y(!0),es(),t(),i((0,eS.fj)(r)),i((0,eS.Er)(s("Email Sent. Check your mail app!"),{duration:4e3})),(0,Z.Oy)("calypso_gravatar_powered_magic_login_email_code_success",c)}catch(e){e?.error?g(e?.message??null):g(s("Something went wrong. Please try again.")),i((0,eS.fj)(r)),i((0,eS.tg)(s("Sorry, we couldn’t send the email."),{duration:4e3})),(0,Z.Oy)("calypso_gravatar_powered_magic_login_email_code_failure",{...c,error_code:e?.status,error_message:e?.message})}p(!1)},ec=()=>{A(!1),Y(!1),N(""),T(!1),i((0,eL.Cc)()),(0,Z.Oy)("calypso_gravatar_powered_magic_login_click_switch_email",{client_id:M,client_name:O?.title})},eu=async(e,t)=>{t.preventDefault();let i={client_id:M,client_name:O?.title};if(!ew.validate(e))return g(s("Invalid email."));y(e),p(!0);try{(0,Z.Oy)("calypso_gravatar_powered_magic_login_gravatar_info_fetching",i);let{is_secondary:t,main_email_masked:s}=await ex.A.req.get("/auth/get-gravatar-info",{email:e});t?(y(e),p(!1),f(!0),A(!0),w(s)):eo(e),(0,Z.Oy)("calypso_gravatar_powered_magic_login_gravatar_info_success",i)}catch(t){switch(t?.error){case"not_found":T(!0),eo(e);break;case"invalid_email":g(s("Invalid email.")),p(!1);break;default:g(s("Something went wrong. Please try again.")),p(!1)}(0,Z.Oy)("calypso_gravatar_powered_magic_login_gravatar_info_failure",{...i,error_code:t.status,error_message:t.message})}};t=k?(0,E.Y)(e9,{oauth2Client:O,oauth2ClientId:M,isGravatarFlow:V,isGravatarOwnedService:q,usernameOrEmail:v,maskedEmailAddress:_,isNewAccount:D,setIsNewAccount:T,isRequestingEmail:u,requestEmailErrorMessage:m,setRequestEmailErrorMessage:g,shouldShowSwitchEmail:z,handleGravPoweredEmailSwitch:ec,handleGravPoweredEmailCodeSend:eo,setShowSecondaryEmailOptions:A,recordTracksEvent:Z.Oy}):C?(0,E.Y)(te,{locale:o,oauth2Client:O,oauth2ClientId:M,isGravatarFlow:V,isGravatarOwnedService:q,isFromGravatar3rdPartyApp:W,usernameOrEmail:v,maskedEmailAddress:_,isSecondaryEmail:h,isNewAccount:D,verificationCodeInputValue:S,handleGravPoweredCodeInputChange:e=>{let t=e.target.value.toUpperCase();(!/^[A-Z0-9]*$/.test(t)||t.length>6)&&(t=S),N(t)},handleGravPoweredCodeSubmit:e=>{e.preventDefault(),i((0,eL.sM)(`${F}:${btoa(S)}`,n?.redirect_to??"",O?(0,ek.A)(O):void 0,!0))},handleGravPoweredEmailCodeSend:eo,resendEmailCountdown:ee,isRequestingEmail:u,shouldShowSwitchEmail:z,resetResendEmailCountdown:ei,handleGravPoweredEmailSwitch:ec,recordTracksEvent:Z.Oy}):R?(0,E.Y)(tt,{oauth2Client:O,oauth2ClientId:M,usernameOrEmail:v,currentQueryArguments:n,resendEmailCountdown:ee,resetResendEmailCountdown:ei,handleGravPoweredEmailSwitch:ec,recordTracksEvent:Z.Oy}):(0,E.Y)(e6,{path:e,oauth2Client:O,oauth2ClientId:M,locale:o,currentQueryArguments:n,isGravatar:I,isGravatarFlow:V,isGravatarOwnedService:q,isWPJobManager:H,isFromGravatar3rdPartyApp:W,isFromGravatarQuickEditor:B,isGravatarFlowWithEmail:U,showCheckYourEmail:R,isRequestingEmail:u,requestEmailErrorMessage:m,handleGravPoweredEmailSubmit:eu,setUsernameOrEmail:y,setRequestEmailErrorMessage:g,recordTracksEvent:Z.Oy});let em=V&&!q||W||B;return(0,E.Y)(L.A,{className:(0,J.A)("grav-powered-magic-login",{"grav-powered-magic-login--has-sub-header":em,"grav-powered-magic-login--wp-job-manager":H}),children:t})},ts=null,to=({emailAddress:e,redirectTo:t})=>{let i=(0,j.A)(),s=(0,eC.wA)(),[o,r]=(0,x.useState)(90),{setHeaders:n}=(0,H.KA)(),a=()=>{ts&&(clearInterval(ts),ts=null,r(90))},l=()=>{a(),ts=setInterval(()=>{r(e=>0===e&&ts?(clearInterval(ts),e):e-1)},1e3)},c=()=>{s((0,ej.Y)(e,{redirectTo:t,loginFormFlow:!0,showGlobalNotices:!0,flow:"jetpack"})),l()};return(0,x.useEffect)(()=>(l(),()=>{a()}),[]),(0,x.useEffect)(()=>{n({heading:i("Check your email"),subHeading:e?i("We've sent a login link to {{strong}}%(emailAddress)s{{/strong}}.",{args:{emailAddress:e},components:{strong:(0,E.Y)("strong",{})}}):i("We just emailed you a link.")})},[e,n,i]),(0,E.FD)("div",{className:"magic-login__main-content-woo-core-profiler",children:[(0,E.Y)("div",{children:(0,E.FD)("svg",{width:"76",height:"76",viewBox:"0 0 76 76",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,E.FD)("g",{clipPath:"url(#clip0_3589_5342)",children:[(0,E.Y)("path",{d:"M43.6092 2.95408C41.7883 1.13859 40.2217 0.340942 38.1592 0.340942C36.0967 0.340942 34.53 1.13859 32.7092 2.95408C31.2133 4.44552 0.65918 35.072 0.65918 35.072L38.1592 58.071L75.6592 35.072C75.6592 35.072 45.105 4.44552 43.6092 2.95408Z",fill:"#674399"}),(0,E.Y)("path",{d:"M68.1592 12.5011H8.15918V64.0285H68.1592V12.5011Z",fill:"#BEA0F2"}),(0,E.Y)("path",{d:"M56.905 19.9834H19.4092V23.7224H56.905V19.9834Z",fill:"#674399"}),(0,E.Y)("path",{d:"M56.9092 27.4653H19.4092V31.2043H56.9092V27.4653Z",fill:"#674399"}),(0,E.Y)("path",{d:"M41.9094 34.9351H19.4136V38.674H41.9094V34.9351Z",fill:"#674399"}),(0,E.Y)("path",{d:"M75.6592 35.0721L38.1592 56.8372L4.39251 35.0721H0.65918V68.129C0.65918 72.7362 3.29251 75.3203 7.93835 75.3203L38.1592 75.3411L68.38 75.3203C73.0258 75.3203 75.6592 72.7362 75.6592 68.129V35.0721Z",fill:"#674399"}),(0,E.Y)("path",{d:"M7.93835 75.3245L38.1592 75.3452L65.6175 75.3286L38.1592 56.8414L4.39251 35.0721H0.65918V68.129C0.65918 72.7362 3.29251 75.3245 7.93835 75.3245Z",fill:"#3C2861"})]}),(0,E.Y)("defs",{children:(0,E.Y)("clipPath",{id:"clip0_3589_5342",children:(0,E.Y)("rect",{width:"75",height:"75",fill:"white",transform:"translate(0.65918 0.340942)"})})})]})}),(0,E.Y)("div",{className:"magic-login__emails-list",children:(0,E.Y)(eQ,{emailAddress:e})}),(0,E.FD)("p",{className:"email-resend",children:[i("Didn't receive the email? You might want to double check your spam folder, or "),(0,E.Y)("button",{onClick:()=>{c()},disabled:o>0,children:o>0?i("resend the email (%(countdown)d)",{args:{countdown:o}}):i("resend the email")})]})]})};var tr=i("../node_modules/@wordpress/components/build-module/spinner/index.js"),tn=i("./lib/navigate/index.ts"),ta=i("./state/analytics/actions/record.js");let tl={fetchMagicLoginAuthenticate:eL.sM,recordTracksEvent:ta.Oy},tc=(0,c.Ng)(e=>({isValidating:eF(e),isAuthenticated:eN(e),authError:eE(e),redirectTo:(0,en.P7)(e),authSuccessData:e.login.magicLogin.authSuccessData}),tl)((0,V.A)(({isValidating:e,isAuthenticated:t,authError:i,publicToken:s,usernameOrEmail:o,authSuccessData:r,fetchMagicLoginAuthenticate:n,redirectTo:a,translate:l,onResendEmail:c})=>{let[d,u]=(0,x.useState)(Array(6).fill("")),[p,m]=(0,x.useState)(!1),[g,h]=(0,x.useState)(!1),f=(0,eC.wA)(),{setHeaders:_}=(0,H.KA)(),w=(0,x.useRef)(Array.from({length:6},()=>(0,x.createRef)()));(0,x.useEffect)(()=>{if(t&&r){m(!0);let e=r.redirect_to;e?(0,tn.o)(e):(0,eY.x)({magic_login:1})}},[t,r]),(0,x.useEffect)(()=>{_({heading:l("Check your email for a code"),subHeading:l("Enter the code sent to your email {{strong}}%(email)s{{/strong}}",{args:{email:o},components:{strong:(0,E.Y)("strong",{})}})})},[_,l,o]),(0,x.useEffect)(()=>{w?.current[0]?.current?.focus()},[]),(0,x.useEffect)(()=>{i&&h(!0)},[i]),(0,x.useEffect)(()=>{i&&w?.current[5]?.current&&w.current[5]?.current.focus()},[i]);let v=()=>d.join(""),y=(e,t)=>{if(h(!1),t.length>1&&(t=t.charAt(0))," "===t)return;let i=[...d];i[e]=t,u(i),t&&e<5&&w.current[e+1].current.focus()},b=(e,t)=>{let{key:i}=t;"Backspace"===i&&!d[e]&&e>0&&w.current[e-1].current.focus()},k=(e,t)=>{t.preventDefault(),h(!1);let i=t.clipboardData.getData("text").trim();if(!i)return;let s=i.replace(/\s/g,"");if(!s)return;let o=[...d];for(let t=0;t<Math.min(6-e,s.length);t++)o[e+t]=s.charAt(t);u(o);let r=Math.min(e+s.length,5);w.current[r].current.focus()},A=e||p,j=6===v().length&&!A&&!g;return(0,E.FD)("div",{className:"magic-login__successfully-jetpack",children:[(0,E.FD)(eT.A,{className:(0,J.A)("magic-login__verify-code-form",{"magic-login__verify-code-form--error":g}),onSubmit:e=>{e.preventDefault();let t=v();t&&6===t.length&&s&&(f((0,ta.Oy)("calypso_login_magic_code_submit",{code_length:t.length})),n(`${s}:${btoa(t)}`,a,null,!0))},children:[(0,E.Y)("div",{className:"magic-login__verify-code-field-container",children:Array.from({length:6}).map((e,t)=>(0,E.Y)(ey.A,{ref:w.current[t],autoCapitalize:"off",className:"magic-login__verify-code-character-field",disabled:A,maxLength:1,value:d[t],onChange:e=>y(t,e.target.value),onKeyDown:e=>b(t,e),onPaste:e=>k(t,e),"aria-label":l("Verification code character %(position)s of %(total)s",{args:{position:t+1,total:6}})},t))}),g&&(0,E.Y)("div",{className:"magic-login__verify-code-error-message",children:l("Oops, that's the wrong code. Please verify or resend the email.")}),(0,E.Y)("div",{className:"magic-login__form-action",children:(0,E.Y)(C.Ay,{variant:"primary",disabled:!j&&!A,isBusy:A,type:"submit",__next40pxDefaultSize:!0,children:A?l("Verifying code…"):l("Verify code")})})]}),(0,E.FD)("div",{className:"magic-login__successfully-jetpack-actions",children:[(0,E.Y)("p",{children:l("Didn't get the code? Check your spam folder or {{button}}resend the email{{/button}}",{components:{button:(0,E.Y)(C.Ay,{className:"magic-login__resend-button",variant:"link",onClick:()=>{u(Array(6).fill("")),h(!1),w?.current[0]?.current?.focus(),c()},disabled:p})}})}),(0,E.Y)("p",{children:l("Wrong email or account? {{link}}Use a different account{{/link}}",{components:{link:(0,E.Y)("a",{className:"magic-login__log-in-link",href:"/log-in/jetpack"})}})})]})]})})),td={sendEmailLogin:ej.Y,hideMagicLoginRequestNotice:eL.iJ},tu=(0,c.Ng)(e=>({currentUser:(0,g.HW)(e),isFetching:(0,eP.A)(e),requestError:em(e),userEmail:(0,en.n0)(e)||(0,el.A)(e).email_address||(0,ed.A)(e).email_address}),td)((0,V.A)(({currentUser:e,emailRequested:t,isFetching:i,redirectTo:s,requestError:o,userEmail:r,flow:n,onReady:a,onPublicTokenReceived:l,createAccountForNewUser:c,sendEmailLogin:d,hideMagicLoginRequestNotice:u,translate:p,shouldShowLoadingEllipsis:m,publicToken:g,tosComponent:h})=>{let[f,_]=(0,x.useState)(r||""),w=(0,x.useRef)(null),{setHeaders:v}=(0,H.KA)();(0,x.useEffect)(()=>{a&&a()},[a,v,p]),(0,x.useEffect)(()=>{v({heading:p("Email me a login code"),subHeading:p("We'll send you an email with a code that will log you in right away.")})},[]);let y=(e=f)=>{e.length&&d(e,{redirectTo:s,requestLoginEmailFormFlow:!0,createAccount:c,tokenType:"code",...n?{flow:n}:{},onSuccess:e=>{e&&e.public_token&&l&&l(e.public_token)}})},b=e=>{e.preventDefault(),y()};if(m)return(0,E.Y)(tr.Ay,{className:"magic-login__loading-spinner--jetpack"});if(t&&g)return(0,E.Y)(tc,{publicToken:g,usernameOrEmail:f,onResendEmail:b});let k=f.length&&!i&&!t&&!o,A="string"==typeof o?.message&&o?.message.length?o?.message:p("Unable to complete request");return(0,E.Y)("div",{className:"magic-login__form",children:(0,E.FD)(eT.A,{className:"magic-login__form-form",onSubmit:b,children:[e&&e.username&&(0,E.Y)(S.A,{showDismiss:!1,className:"magic-login__form-header-notice",status:"is-info",theme:"light",text:p("You are already logged in as user: %(user)s",{args:{user:e.username}})}),(0,E.Y)(e_.A,{htmlFor:"usernameOrEmail",children:p("Email address or username")}),(0,E.FD)(eD.A,{className:"magic-login__email-fields",children:[(0,E.Y)(ey.A,{autoCapitalize:"off",autoComplete:"username",className:"magic-login__request-login-email-form-fields",disabled:i||t,id:"usernameOrEmail",name:"usernameOrEmail",value:f,onChange:e=>{_(e.target.value),o&&u()},placeholder:p("Email or Username"),ref:w}),h,o&&(0,E.Y)(S.A,{onDismissClick:()=>{u()},className:"magic-login__request-login-email-form-notice",status:"is-error",text:A}),(0,E.Y)("div",{className:"magic-login__form-action",children:(0,E.Y)(C.Ay,{variant:"primary",disabled:!k&&!i,isBusy:i,type:"submit",__next40pxDefaultSize:!0,children:i?p("Sending code…"):p("Send Code")})})]})]})})})),tp=({path:e,showCheckYourEmail:t})=>{let i=(0,c.d4)(ea.A);return t?null:(0,E.Y)(z.A,{locale:i,path:e})};class tm extends x.Component{constructor(...e){super(...e),(0,I.A)(this,"state",{usernameOrEmail:this.props.userEmail||"",publicToken:this.props.publicToken}),(0,I.A)(this,"onClickEnterPasswordInstead",e=>{e?.preventDefault(),this.props.recordTracksEvent("calypso_login_email_link_page_click_back");let t={isJetpack:this.props.isJetpackLogin,locale:this.props.locale,emailAddress:this.props.userEmail,signupUrl:this.props.query?.signup_url,usernameOnly:!0,twoFactorAuthType:this.props.twoFactorNotificationSent?.replace("none","authenticator"),redirectTo:this.props.redirectToOriginal,oauth2ClientId:this.props.oauth2Client?.id,from:this.props.query?.from};(0,s.A)((0,$.iD)(t))}),(0,I.A)(this,"renderTos",()=>{let{translate:e}=this.props,t={components:{tosLink:(0,E.Y)("a",{href:(0,p.rm)("https://web.archive.org/web/20250821033111/https://wordpress.com/tos/"),target:"_blank",rel:"noopener noreferrer"}),privacyLink:(0,E.Y)("a",{href:(0,p.rm)("https://web.archive.org/web/20250821033111/https://automattic.com/privacy/"),target:"_blank",rel:"noopener noreferrer"})}},i=(0,q.Qq)({text:"By continuing you agree to our {{tosLink}}Terms of Service{{/tosLink}} and have read our {{privacyLink}}Privacy Policy{{/privacyLink}}.",newCopy:e("By continuing you agree to our {{tosLink}}Terms of Service{{/tosLink}} and have read our {{privacyLink}}Privacy Policy{{/privacyLink}}.",t),oldCopy:e("By creating an account you agree to our {{tosLink}}Terms of Service{{/tosLink}} and have read our {{privacyLink}}Privacy Policy{{/privacyLink}}.",t)});return(0,E.Y)("p",{className:"magic-login__tos wp-login__one-login-layout-tos",children:i})}),(0,I.A)(this,"handlePublicTokenReceived",e=>{this.setState({publicToken:e})})}componentDidMount(){this.props.recordPageView("/log-in/link","Login > Link")}componentDidUpdate(){let{emailRequestError:e,query:t}=this.props;"login_link_not_allowed"===e?.code&&t?.auto_trigger&&this.onClickEnterPasswordInstead()}renderLinks(){let{isJetpackLogin:e,locale:t,showCheckYourEmail:i,translate:s,query:o,twoFactorNotificationSent:r,redirectToSanitized:n,oauth2Client:a}=this.props,l=o?.redirect_to?.includes("agencies.automattic.com/client")??!1;if(i)return l?null:(0,E.Y)(U.A,{title:s("Stay logged in with the Jetpack Mobile App"),campaign:"calypso-login-link-check-email",className:"magic-link-app-promo",iconSize:32,hasQRCode:!0,hasGetAppButton:!1});let c={isJetpack:e,locale:t,signupUrl:o?.signup_url,twoFactorAuthType:r?.replace("none","authenticator"),redirectTo:n,oauth2ClientId:a?.id,from:o?.from},d=s("Enter a password instead");return o?.username_only==="true"&&(d=s("Use username and password instead")),(0,E.FD)(E.FK,{children:[(0,E.Y)(et,{loginLink:(0,E.Y)("a",{className:"one-login__footer-link",href:(0,$.iD)(c),onClick:this.onClickEnterPasswordInstead,children:d})}),!a&&(0,E.Y)(U.A,{title:s("Stay logged in with the Jetpack Mobile App"),campaign:"calypso-login-link",className:"magic-link-app-promo",iconSize:32,hasQRCode:!0,hasGetAppButton:!1})]})}render(){let{oauth2Client:e,query:t,translate:i,isWooJPC:s,isJetpackLogin:o,isFromJetpackOnboarding:r}=this.props,{usernameOrEmail:n}=this.state;if((0,b.rZ)(e))return(0,E.Y)(ti,{path:this.props.path});let a=(0,b.c8)(e)&&t?.redirect_to,l={...this.props.isJetpackLogin?{flow:"jetpack"}:{},isJetpackMagicLinkSignUpEnabled:this.props.isJetpackLogin,createAccountForNewUser:!0,isFromJetpackOnboarding:r,tosComponent:this.renderTos(),...a?{customFormLabel:i("Your email address"),submitButtonLabel:i("Send activation link")}:{}},c=(0,E.FD)(L.A,{className:"magic-login magic-login__request-link",children:[(0,E.Y)(B.default,{id:"notices"}),s?(0,E.Y)(to,{emailAddress:n,redirectTo:this.props.redirectToSanitized}):(0,E.Y)(E.FK,{children:(0,W.z)({isJetpack:o})?(0,E.Y)(tu,{...l,emailRequested:this.props.emailRequested,publicToken:this.props.publicToken,onPublicTokenReceived:this.handlePublicTokenReceived}):(0,E.Y)(e5,{...l})}),this.renderLinks(),(0,E.Y)(tp,{path:this.props.path,showCheckYourEmail:this.props.showCheckYourEmail})]});return(0,E.Y)(ei.A,{isJetpack:o,children:c})}}let tg={recordPageView:(0,ef.i)(es.m,[eo.c]),recordTracksEvent:(0,ef.i)(es.K,[eo.c])},th=(0,c.Ng)(e=>({locale:(0,ea.A)(e),query:(0,el.A)(e),showCheckYourEmail:ep(e)===er.mJ,emailRequested:(0,eg.A)(e),emailRequestError:em(e),isJetpackLogin:(0,ec.$)(e)?.startsWith("/log-in/jetpack/link"),oauth2Client:(0,X.AL)(e),userEmail:(0,en.n0)(e)||(0,el.A)(e).email_address||(0,ed.A)(e).email_address,twoFactorNotificationSent:(0,en.Z0)(e),redirectToSanitized:(0,en.Lc)(e),redirectToOriginal:(0,en.P7)(e),isFromJetpackOnboarding:"jetpack-onboarding"===new URLSearchParams((0,en.P7)(e)?.split("?")[1]).get("from"),isWooJPC:(0,eh.Ay)(e),publicToken:e.login.magicLogin.publicToken}),tg)((0,V.A)(tm));var tf=i("../packages/components/src/button/index.tsx"),t_=i("../packages/components/src/logos/wordpress-logo/index.tsx"),tw=i("./components/empty-content/index.tsx"),tv=i("./components/loading-ellipsis/index.tsx");let ty=function({className:e="woo-logo",size:t=72}){return(0,E.FD)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:t,height:t,viewBox:"0 0 183.6 47.5",className:e,children:[(0,E.Y)("style",{type:"text/css",children:`
				.st0{fill-rule:evenodd;clip-rule:evenodd;fill:#873EFF;}
				.st1{fill-rule:evenodd;clip-rule:evenodd;}
				.st2{fill:#873EFF;}
				.st3{fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;}
				.st4{fill:#FFFFFF;}
			`}),(0,E.FD)("g",{children:[(0,E.Y)("path",{className:"st0",d:"M77.4,0c-4.3,0-7.1,1.4-9.6,6.1L56.4,27.6V8.5c0-5.7-2.7-8.5-7.7-8.5s-7.1,1.7-9.6,6.5L28.3,27.6V8.7 c0-6.1-2.5-8.7-8.6-8.7H7.3C2.6,0,0,2.2,0,6.2s2.5,6.4,7.1,6.4h5.1v24.1c0,6.8,4.6,10.8,11.2,10.8s9.6-2.6,12.9-8.7l7.2-13.5v11.4 c0,6.7,4.4,10.8,11.1,10.8s9.2-2.3,13-8.7l16.6-28C87.8,4.7,85.3,0,77.3,0C77.3,0,77.3,0,77.4,0z"}),(0,E.Y)("path",{className:"st0",d:"M108.6,0C95,0,84.7,10.1,84.7,23.8s10.4,23.7,23.9,23.7s23.8-10.1,23.9-23.7C132.5,10.1,122.1,0,108.6,0z M108.6,32.9c-5.1,0-8.6-3.8-8.6-9.1s3.5-9.2,8.6-9.2s8.6,3.9,8.6,9.2S113.8,32.9,108.6,32.9z"}),(0,E.Y)("path",{className:"st0",d:"M159.7,0c-13.5,0-23.9,10.1-23.9,23.8s10.4,23.7,23.9,23.7s23.9-10.1,23.9-23.7S173.2,0,159.7,0z M159.7,32.9 c-5.2,0-8.5-3.8-8.5-9.1s3.4-9.2,8.5-9.2s8.6,3.9,8.6,9.2S164.9,32.9,159.7,32.9z"})]})]})};var tb=i("./jetpack-connect/woo-dna-config.js"),tk=i("./state/immediate-login/selectors.js"),tA=i("./state/selectors/get-wccom-from.ts"),tx=i("../packages/wpcom-proxy-request/src/index.js");let tC=e=>({subscriber_not_found:e("There is no subscriber with this email address."),subscription_not_found:e("There is no subscription with this email address."),invalid_token:e("The token is not valid for the provided email address."),rest_invalid_param:e("One of the parameters is not valid. Please check your inbox for a more recent email."),rest_missing_callback_param:e("One of the parameters is missing. Please check your inbox for a more recent email.")}),tj={ManageSubscription:"manage-subscription",ConfirmSubscription:"confirm-subscription"},tY=e=>e&&e.includes("/reader/subscriptions")?tj.ManageSubscription:!!(e&&e.includes("activate="))&&tj.ConfirmSubscription;class tL extends x.Component{constructor(e){super(e),(0,I.A)(this,"onClickTryAgainLink",()=>{this.state.isTransitingToWPComAccount?this.resendEmail(this.state.emailType):this.props.hideMagicLoginRequestForm()}),(0,I.A)(this,"resendEmail",e=>{var t,i,s,o,r;e===tj.ConfirmSubscription&&this.handleResponse((t=this.state.emailAddress,i=this.state.postId,s=this.state.activate,(0,tx.Ay)({path:"/subscribers/emails/resend/subscription-confirmation",apiVersion:"v2",apiNamespace:"wpcom/v2",body:{email_address:t,post_id:i,key:s},method:"POST"}))),e===tj.ManageSubscription&&this.handleResponse((o=this.state.emailAddress,r=this.state.token,(0,tx.Ay)({path:"/subscribers/emails/resend/subscription-management",apiVersion:"v2",apiNamespace:"wpcom/v2",body:{email_address:o,token:r},method:"POST"})))}),(0,I.A)(this,"setLoggingExpiredText",()=>{let{translate:e}=this.props;this.setState({title:e("Link expired or invalid"),actionUrl:(0,$.iD)({twoFactorAuthType:"link",emailAddress:this.props.emailAddress,isJetpack:this.props.isJetpack}),secondaryAction:e("Enter a password instead"),secondaryActionURL:(0,$.iD)({emailAddress:this.props.emailAddress,isJetpack:this.props.isJetpack}),line:e("The login link you used has either expired or is no longer valid. No worries - it happens! You can request a new link to log in."),action:e("Send new login link")})}),(0,I.A)(this,"setCheckEmailText",()=>{let{translate:e}=this.props;this.setState({title:e("Check your email!"),actionUrl:null,secondaryAction:null,secondaryActionURL:null,line:e("We've sent an email with a verification link to {{strong}}%(emailAddress)s{{/strong}}",{components:{strong:(0,E.Y)("strong",{})},args:{emailAddress:this.state.emailAddress}}),action:""})}),(0,I.A)(this,"setTransitingText",()=>{let{translate:e}=this.props;this.setState({title:e(this.state.emailType===tj.ConfirmSubscription?"Your Subscription Confirmation link is expired or invalid":"Your Subscription Management link is expired or invalid"),actionUrl:null,secondaryAction:null,secondaryActionURL:null,line:e("Click on this button and we will send you a new link"),action:e("Try again")})}),this.state={showEmailSentAgain:!1,title:"",actionUrl:"",secondaryAction:"",secondaryActionURL:"",line:"",action:"",emailType:tY(e.redirectTo),isTransitingToWPComAccount:e.transition,emailAddress:e.emailAddress,postId:e.postId,token:e.token,activate:e.activate}}componentDidMount(){this.props.recordPageView("/log-in/link/use","Login > Link > Expired"),this.state.isTransitingToWPComAccount?this.setTransitingText():this.setLoggingExpiredText()}handleResponse(e){let{translate:t}=this.props,i=tC(t);e.then(()=>{this.setCheckEmailText()}).catch(e=>{this.props.errorNotice(i[e.code])})}render(){let{title:e,line:t,action:i,actionUrl:s,secondaryAction:o,secondaryActionURL:r}=this.state;return(0,E.FD)("div",{children:[(0,E.Y)(eI,{delayAtMount:3500,redirectTo:"/",replaceCurrentLocation:!0}),(0,E.Y)(tw.A,{action:i,actionCallback:this.onClickTryAgainLink,actionURL:s,className:"magic-login__link-expired",line:t,secondaryAction:o,secondaryActionURL:r,title:e})]})}}let tS={hideMagicLoginRequestForm:eL.Cc,recordPageView:(0,ef.i)(es.m,[eo.c]),successNotice:eS.Er,errorNotice:eS.tg},tE=(0,c.Ng)(null,tS)((0,V.A)(tL));class tN extends x.Component{constructor(e){super(e),(0,I.A)(this,"state",{hasSubmitted:!1,isRedirecting:!1}),(0,I.A)(this,"handleSubmit",e=>{e&&e.preventDefault(),this.setState({hasSubmitted:!0});let t=(0,b.rZ)(this.props.oauth2Client)?(0,ek.A)(this.props.oauth2Client):null;this.props.fetchMagicLoginAuthenticate(this.props.token,this.props.redirectToOriginal,t)}),(0,I.A)(this,"handleValidToken",()=>{let{redirectToSanitized:e,twoFactorEnabled:t,twoFactorNotificationSent:i,oauth2Client:o,wccomFrom:r}=this.props;t?((0,s.A)((0,$.iD)({twoFactorAuthType:i.replace("none","authenticator"),redirectTo:e,oauth2ClientId:o.id,wccomFrom:r})),this.setState({isRedirecting:!0})):this.props.rebootAfterLogin({magic_login:1})}),e.emailAddress&&e.token||this.props.showMagicLoginLinkExpiredPage()}componentDidMount(){this.props.clientId!==(0,a.Ay)("wpcom_signup_id")||this.props.isImmediateLoginAttempt||(0,tb.A)(this.props.initialQuery).isWooDnaFlow()||this.handleSubmit()}UNSAFE_componentWillUpdate(e,t){let{authError:i,isAuthenticated:s,isFetching:o}=e;if(t.hasSubmitted&&!o&&!t.isRedirecting){if(i||!s)return void this.props.showMagicLoginLinkExpiredPage();this.handleValidToken()}}render(){let e,t,{currentUser:i,emailAddress:s,isExpired:o,isFetching:r,translate:n,initialQuery:l,oauth2Client:c,redirectTo:d,transition:u,token:p,activate:m,wccomFrom:g,isWCCOM:h,isA4A:f,isJetpack:_}=this.props,w=(0,tb.A)(l).isWooDnaFlow(),v=(0,b.rZ)(c);if(o&&!r){let e=new URLSearchParams(d).get("redirect_to_blog_post_id");return(0,E.Y)(tE,{redirectTo:d,transition:u,token:p,emailAddress:s,postId:e,activate:m,isJetpack:_})}e=n(this.props.isImmediateLoginAttempt?"Confirm Login to WordPress.com":w?"Connect":"nux"===g?"Continue to Woo Express":h?"Continue to WooCommerce.com":f?"Continue to Automattic for Agencies":"Continue to WordPress.com"),v&&(e=n("Continue"));let y=(0,E.Y)(tf.$,{primary:!0,disabled:this.state.hasSubmitted,onClick:this.handleSubmit,children:e});t=this.props.isManualRenewalImmediateLoginAttempt?n("Update your payment details and renew your subscription"):w?(0,tb.A)(l).getServiceName():n(f?"Finish sign up using your WordPress.com account":this.props.clientId===(0,a.Ay)("wpcom_signup_id")?"Welcome back!":"Continue to WordPress.com on your WordPress app");let k=[(0,E.Y)("p",{children:n("Logging in as %(emailAddress)s",{args:{emailAddress:s}})})];return(i&&i.username&&k.push((0,E.FD)("p",{children:[n("NOTE: You are already logged in as user: %(user)s",{args:{user:i.username}}),(0,E.Y)("br",{}),n("Continuing will switch users.")]})),this.props.recordTracksEvent("calypso_login_email_link_handle_click_view"),v)?(0,E.FD)("div",{className:(0,J.A)("grav-powered-magic-link",{"grav-powered-magic-link--wp-job-manager":(0,b.MP)(c)}),children:[(0,E.Y)("img",{src:c.icon,width:32,height:32,alt:c.title}),(0,E.Y)(tw.A,{action:this.state.hasSubmitted?(0,E.Y)(tv.o,{}):y,title:""})]}):r||u||this.state.isRedirecting?h?(0,E.Y)(ty,{size:72,className:"wpcom-site__logo"}):(0,E.Y)(t_.B,{size:72,className:"wpcom-site__logo"}):!r&&(0,E.Y)(tw.A,{action:y,className:(0,J.A)("magic-login__handle-link",{"magic-login__is-fetching-auth":r}),line:k,title:t})}}let tF={fetchMagicLoginAuthenticate:eL.sM,rebootAfterLogin:eY.x,recordTracksEvent:es.K,showMagicLoginLinkExpiredPage:eL.gE},tP=(0,c.Ng)(e=>{let t=(0,en.P7)(e)||"",i=new URLSearchParams(t.split("?")[1]).get("client_id"),s=(0,M.Z)(e,i)||{};return{redirectToOriginal:t,redirectToSanitized:(0,en.Lc)(e),authError:eE(e),currentUser:(0,g.HW)(e),isAuthenticated:eN(e),isExpired:ep(e)===er.nq,isFetching:eF(e),isImmediateLoginAttempt:(0,tk.GW)(e),isManualRenewalImmediateLoginAttempt:(0,tk.CV)(e),twoFactorEnabled:(0,en.DO)(e),twoFactorNotificationSent:(0,en.Z0)(e),initialQuery:(0,ed.A)(e),isWCCOM:(0,b.GA)(s),isA4A:(0,b.V5)(s),wccomFrom:(0,tA.A)(e),oauth2Client:s}},tF)((0,V.A)(tN));var tD=i("./state/selectors/is-woo-dna-flow.ts");let tT=({emailAddress:e,token:t})=>{let i=(0,eC.wA)(),o=(0,j.A)(),[r,n]=(0,x.useState)(!1),a=(0,eC.d4)(e=>(0,en.P7)(e)||""),l=(0,eC.d4)(en.Lc),c=(0,eC.d4)(eE),d=(0,eC.d4)(eN),u=(0,eC.d4)(e=>ep(e)===er.nq),p=(0,eC.d4)(eh.Ay),m=(0,eC.d4)(tD.A),g=(0,eC.d4)(eF),h=(0,eC.d4)(en.DO),f=(0,eC.d4)(en.Z0),_="automattic-for-agencies-client"===new URLSearchParams(a.split("?")[1]).get("from"),{setHeaders:w}=(0,H.KA)();(0,x.useEffect)(()=>{e&&t?(n(!0),i((0,eL.sM)(t,a))):i((0,eL.gE)()),w({heading:o("Email confirmed!"),subHeading:null})},[]);let v=(0,x.useCallback)(()=>{h?(0,s.A)((0,$.iD)({isJetpack:!0,twoFactorAuthType:f?.replace("none","authenticator"),redirectTo:l??void 0})):i((0,eY.x)({magic_login:1}))},[i,l,h,f]);return((0,x.useEffect)(()=>{if(r&&!g){if(c||!d)return void i((0,eL.gE)());v()}},[c,i,v,r,d,g]),u)?(0,E.Y)(tE,{emailAddress:e,isJetpack:!0}):(i((0,es.K)("calypso_login_email_link_handle_click_view")),p||m||_?(0,E.Y)(tw.A,{className:"magic-login__handle-link jetpack",title:null,children:(0,E.Y)("h3",{className:"magic-login__line empty-content__line",children:[o("Logging in as %(emailAddress)s",{args:{emailAddress:e}}),"..."]})}):(0,E.Y)(L.A,{className:"magic-login",children:(0,E.FD)("div",{className:"magic-login__successfully-jetpack",children:[(0,E.Y)("p",{children:o("Logging in as {{strong}}%(emailAddress)s{{/strong}}…",{args:{emailAddress:e},components:{strong:(0,E.Y)("strong",{})}})}),(0,E.Y)(tr.Ay,{className:"magic-login__loading-spinner--jetpack"})]})}))};function tR(){return(0,E.Y)(eO.A,{className:"qr-code-login-page__placeholder"})}var tO=()=>Promise.all([i.e(4535),i.e(98871),i.e(34489)]).then(i.bind(i,"./blocks/qr-code-login/index.jsx"));let tM=function({locale:e,redirectTo:t,isJetpack:i=!1}){let s=(0,j.A)();return(0,E.Y)(L.A,{className:(0,J.A)("qr-code-login-page",{"is-jetpack":i}),children:(0,E.FD)("div",{className:"qr-code-login-page__form",children:[i?(0,E.Y)("div",{className:"magic-login__gutenboarding-wordpress-logo",children:(0,E.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,E.Y)("path",{d:"M12 0C9.62663 0 7.30655 0.703788 5.33316 2.02236C3.35977 3.34094 1.8217 5.21508 0.913451 7.4078C0.00519938 9.60051 -0.232441 12.0133 0.230582 14.3411C0.693605 16.6689 1.83649 18.807 3.51472 20.4853C5.19295 22.1635 7.33115 23.3064 9.65892 23.7694C11.9867 24.2324 14.3995 23.9948 16.5922 23.0865C18.7849 22.1783 20.6591 20.6402 21.9776 18.6668C23.2962 16.6934 24 14.3734 24 12C24 8.8174 22.7357 5.76515 20.4853 3.51472C18.2348 1.26428 15.1826 0 12 0ZM11.3684 13.9895H5.40632L11.3684 2.35579V13.9895ZM12.5811 21.6189V9.98526H18.5621L12.5811 21.6189Z",fill:"#069E08"})})}):(0,E.Y)("div",{className:"magic-login__gutenboarding-wordpress-logo",children:(0,E.Y)("svg",{"aria-hidden":"true",role:"img",focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20",children:(0,E.Y)("path",{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})})}),(0,E.Y)(eU.A,{require:tO,placeholder:(0,E.Y)(tR,{}),size:300,locale:e,redirectToAfterLoginUrl:t,isJetpack:i}),(0,E.Y)("div",{className:"qr-code-login-page__footer",children:(0,E.Y)("a",{href:(0,$.iD)({locale:e,redirectTo:t,isJetpack:i}),children:s("Enter a password instead")})})]})})};var tH=i("./blocks/login/index.jsx"),tI=i("./components/data/document-head/index.jsx"),tq=i("./lib/akismet/is-akismet-redirect.ts"),tV=i("./login/wp-login/hooks/get-header-text.tsx"),tU=i("./state/selectors/get-is-blaze-pro.ts"),tW=i("./state/selectors/get-is-woo.ts"),tB=i("./lib/login/index.js"),tz=i("./lib/url/add-query-args.ts");let t$=()=>{let e=(0,c.d4)(X.AL),t=(0,c.d4)(ea.A),i=(0,c.d4)(el.A),s=(0,c.d4)(ec.A),o=(0,j.A)(),r=(0,b.Dr)(e),n=r&&i?.gravatar_from==="3rd-party",a=r&&i?.gravatar_from==="quick-editor",l=(0,b.r7)(e),d=!!(l&&i?.email_address),u=(0,$.iD)({locale:t,twoFactorAuthType:"link",oauth2ClientId:i?.client_id,redirectTo:i?.redirect_to,gravatarFrom:i?.gravatar_from,gravatarFlow:l,emailAddress:i?.email_address}),p=new URL(window.location.href);p.searchParams.append("lostpassword_flow","true");let m=(0,tz.A)({redirect_to:p.toString(),client_id:i?.client_id},(0,$.wS)({locale:t})),g=(0,tB.c5)(i,s,e,t);return(0,E.FD)(E.FK,{children:[(0,E.Y)("hr",{className:"grav-powered-login__divider"}),(0,E.FD)("div",{className:"grav-powered-login__footer",children:[(0,E.Y)("a",{href:u,onClick:()=>(0,Z.Oy)("calypso_login_magic_login_request_click"),children:o(r?"Email me a login code.":"Email me a login link.")}),(0,E.Y)("a",{href:m,onClick:()=>(0,Z.Oy)("calypso_login_reset_password_link_click"),children:o("Lost your password?")}),!n&&!a&&!d&&(0,E.Y)("div",{children:o("You have no account yet? {{signupLink}}Create one{{/signupLink}}.",{components:{signupLink:(0,E.Y)("a",{href:g})}})}),(0,E.Y)("div",{children:o("Any question? {{a}}Check our help docs{{/a}}.",{components:{a:(0,E.Y)("a",{href:"https://web.archive.org/web/20250821033111/https://gravatar.com/support",target:"_blank",rel:"noreferrer"})}})})]})]})};var tZ=i("./login/wp-login/hooks/get-heading-subtext.tsx");class tG extends x.Component{constructor(e){super(),(0,I.A)(this,"state",{usernameOrEmail:""}),this.state.usernameOrEmail=e.emailQueryParam??""}componentDidMount(){this.recordPageView(),this.updateHeadingText()}componentDidUpdate(e){this.props.twoFactorAuthType!==e.twoFactorAuthType&&this.recordPageView(),this.props.socialConnect!==e.socialConnect&&this.recordPageView(),["twoFactorAuthType","isManualRenewalImmediateLoginAttempt","socialConnect","linkingSocialService","action","oauth2Client","isWooJPC","isJetpack","isWCCOM","isFromAkismet","isFromAutomatticForAgenciesPlugin","isGravPoweredClient","currentQuery","translate"].some(t=>this.props[t]!==e[t])&&this.updateHeadingText()}recordPageView(){let{socialConnect:e,twoFactorAuthType:t}=this.props,i="/log-in",s="Login";if(t){let e=t.charAt(0).toUpperCase()+t.slice(1);i+=`/${t}`,s+=` > Two-Step Authentication > ${e}`}e&&(i+=`/${e}`,s+=" > Social Connect"),this.props.recordPageView(i,s)}handleUsernameChange(e){this.setState({usernameOrEmail:e})}renderI18nSuggestions(){let{locale:e,path:t,isLoginView:i}=this.props;return i?(0,E.Y)(z.A,{locale:e,path:t}):null}getLostPasswordLink(){return this.props.twoFactorAuthType?null:(0,E.Y)("a",{className:"one-login__footer-link",href:"/",onClick:e=>{e.preventDefault(),this.props.recordTracksEvent("calypso_login_reset_password_link_click"),(0,s.A)((0,$.iD)({redirectTo:this.props.redirectTo,locale:this.props.locale,action:this.props.isWooJPC||this.props.isJetpack?"jetpack/lostpassword":"lostpassword",oauth2ClientId:this.props.oauth2Client&&this.props.oauth2Client.id,from:(0,eu.A)(this.props.currentQuery,"from")}))},children:this.props.translate("Lost your password?")})}getLoginLink(){return(0,E.FD)("a",{className:"one-login__footer-link",href:"/",onClick:e=>{e.preventDefault(),(0,s.A)((0,$.iD)({redirectTo:this.props.redirectTo,locale:this.props.locale,oauth2ClientId:this.props.oauth2Client&&this.props.oauth2Client.id,from:(0,eu.A)(this.props.currentQuery,"from"),isJetpack:this.props.isJetpack}))},children:[(0,E.Y)(G.A,{icon:"arrow-left",size:18}),this.props.translate("Back to Login")]})}getSupportLink(){return(0,E.Y)("a",{className:"one-login__footer-link",href:"/support/category/manage-your-account/account-settings/",children:this.props.translate("Support")})}renderContent(e){let{clientId:t,domain:i,isJetpack:s,isGravPoweredClient:o,oauth2Client:r,socialConnect:n,twoFactorAuthType:a,socialService:l,socialServiceResponse:c,fromSite:d,locale:u,signupUrl:p,action:m,currentRoute:g,isLoginView:h}=this.props,f=o&&!g.startsWith("/log-in/push")&&!g.startsWith("/log-in/authenticator")&&!g.startsWith("/log-in/sms")&&!g.startsWith("/log-in/webauthn")&&!g.startsWith("/log-in/backup");return(0,E.Y)(tH.A,{action:m,twoFactorAuthType:a,socialConnect:n,clientId:t,isJetpack:s,isGravPoweredClient:o,isGravPoweredLoginPage:f,oauth2Client:r,socialService:l,socialServiceResponse:c,domain:i,fromSite:d,footer:f?(0,E.Y)(t$,{}):(0,E.Y)(et,{isLoginView:h,lostPasswordLink:this.getLostPasswordLink(),loginLink:this.getLoginLink(),supportLink:this.getSupportLink()}),locale:u,handleUsernameChange:this.handleUsernameChange.bind(this),signupUrl:p,isSocialFirst:e})}updateHeadingText(){let{twoFactorAuthType:e,isManualRenewalImmediateLoginAttempt:t,socialConnect:i,linkingSocialService:s,action:o,oauth2Client:r,isWooJPC:n,isJetpack:a,isWCCOM:l,isFromAkismet:c,isFromAutomatticForAgenciesPlugin:d,isGravPoweredClient:u,currentQuery:p,translate:m}=this.props,g=!u,h=(0,tV.n)({isSocialFirst:g,twoFactorAuthType:e,isManualRenewalImmediateLoginAttempt:t,socialConnect:i,linkingSocialService:s,action:o,oauth2Client:r,isWooJPC:n,isJetpack:a,isWCCOM:l,isFromAkismet:c,isFromAutomatticForAgenciesPlugin:d,isGravPoweredClient:u,currentQuery:p,translate:m}),f=(0,tZ.A)({isSocialFirst:g,twoFactorAuthType:e,action:o,translate:m,isWooJPC:n});this.context.setHeaders({heading:h,subHeading:f?.primary,subHeadingSecondary:f?.secondary})}render(){let{locale:e,translate:t,isGenericOauth:i,isGravPoweredClient:s,isJetpack:o,isFromAkismet:r,action:n}=this.props,a=(0,p.rm)("https://web.archive.org/web/20250821033111/https://wordpress.com/log-in",e),l=!s,c=(0,E.FD)(L.A,{className:(0,J.A)("wp-login__main",{"is-social-first":l,"is-generic-oauth":i,"is-jetpack":o}),children:[s&&this.renderI18nSuggestions(),(0,E.Y)(tI.A,{title:t("Log In"),link:[{rel:"canonical",href:a}],meta:[{name:"description",content:t("Log in to your WordPress.com account to manage your website, publish content, and access all your tools securely and easily.")}]}),(0,E.Y)("div",{className:"wp-login__container",children:this.renderContent(l)}),!s&&this.renderI18nSuggestions()]});return(0,E.FD)(E.FK,{children:[!s&&(0,E.Y)(ei.A,{isJetpack:o,isFromAkismet:r,signupUrl:this.props.signupUrl,isLostPasswordView:"lostpassword"===n||"jetpack/lostpassword"===n,children:c}),s&&c]})}}(0,I.A)(tG,"defaultProps",{isJetpack:!1,isLoginView:!0}),(0,I.A)(tG,"contextType",H.hi);let tJ=(0,c.Ng)((e,t)=>{let i=(0,el.A)(e),s=(0,X.AL)(e),o=(0,ec.A)(e);return{locale:(0,ea.A)(e),oauth2Client:s,isLoginView:!t.twoFactorAuthType&&!t.socialConnect&&!o.includes("/lostpassword")&&!o.includes("/start"),emailQueryParam:i.email_address||(0,ed.A)(e).email_address,isFromAkismet:(0,tq.A)(new URLSearchParams((0,en.P7)(e)?.split("?")[1]).get("back")),isWooJPC:(0,eh.Ay)(e),isWCCOM:(0,eq.A)(e),isWoo:(0,tW.A)(e),isBlazePro:(0,tU.A)(e),isGenericOauth:s&&!(0,b.V5)(s)&&!(0,b.kY)(s)&&!(0,b.uf)(s)&&!(0,b.GA)(s)&&!(0,b.k4)(s)&&!(0,b.c8)(s)&&!(0,b.mo)(s),currentRoute:o,currentQuery:i,redirectTo:(0,en.P7)(e),isFromAutomatticForAgenciesPlugin:"automattic-for-agencies-client"===(0,eu.A)((0,el.A)(e),"from")||"automattic-for-agencies-client"===new URLSearchParams((0,en.P7)(e)?.split("?")[1]).get("from"),isManualRenewalImmediateLoginAttempt:(0,tk.CV)(e)}},{recordPageView:(0,ef.i)(es.m,[eo.c]),recordTracksEvent:es.K})((0,V.A)(tG)),tK=e=>{let{params:{flow:t,isJetpack:i,socialService:o,twoFactorAuthType:r,action:n},path:a,query:l,isServerSide:c}=e;if(l?.email_address&&l?.service&&l?.access_token&&l?.id_token&&(e.store.dispatch({type:R.WbK,email:l.email_address,authInfo:{service:l.service,access_token:l.access_token,id_token:l.id_token}}),!c)){let e=new URLSearchParams(new URL(window.location.href).search);e.delete("service"),e.delete("access_token"),e.delete("id_token"),s.A.redirect(window.location.pathname+"?"+e.toString())}let{client_id:d,user_email:u,user_name:p,id_token:m,state:g}=e.state||{},h=e.store.getState(),f=l?.client_id,_=l?.oauth2_client_id,w=(0,M.Z)(h,Number(f||_))||{},v=(0,b.rZ)(w);e.primary=(0,E.Y)(H.Ay,{children:(0,E.Y)(tJ,{action:n,isJetpack:"jetpack"===i,isGravPoweredClient:v,path:a,twoFactorAuthType:r,socialService:o,socialServiceResponse:d?{client_id:d,user_email:u,user_name:p,id_token:m,state:g}:null,socialConnect:"social-connect"===t,domain:l&&l.domain||null,fromSite:l&&l.site||null,signupUrl:l&&l.signup_url||null})})};async function tQ(e,t){let{query:{client_id:i,redirect_to:o}}=e;if(e.hash&&e.hash.client_id)return void s.A.replace(e.path,e.hash);if(i){if(!o){let e=Error("The `redirect_to` query parameter is missing.");return e.status=401,t(e)}let{searchParams:s}=(0,y.O)(o),r=s.get("back");if(i!==(s.get("client_id")||(r?(0,y.O)(r).searchParams.get("client_id"):null))){let e=Error("The `redirect_to` query parameter is invalid with the given `client_id`.");return e.status=401,t(e)}if(!(0,M.Z)(e.store.getState(),i))try{await e.store.dispatch((0,O.n)(i))}catch(e){return t(e)}}tK(e),t()}function tX(e,t){e.primary=(0,E.Y)(N,{}),t()}function t0(e,t){let{hash:i}=e;e.primary=(0,E.Y)(D,{error:i?.error,accessToken:i?.access_token}),t()}async function t1(e,t){let{path:i,query:{gravatar_flow:s,client_id:o,redirect_to:r}}=e;if((0,g.x3)(e.store.getState()))return tQ(e,t);if(s){if(!o){let e=Error("The `client_id` query parameter is missing.");return e.status=401,t(e)}if(!r){let e=Error("The `redirect_to` query parameter is missing.");return e.status=401,t(e)}if(!(0,M.Z)(e.store.getState(),o))try{await e.store.dispatch((0,O.n)(o))}catch(e){return t(e)}}e.primary=(0,E.Y)(H.Ay,{children:(0,E.Y)(th,{path:i})}),t()}function t2(e,t){let{redirect_to:i}=e.query,s=e.path.includes("/jetpack");e.primary=(0,E.Y)(tM,{locale:e.params.lang,redirectTo:i,isJetpack:s}),t()}function t4(e,t){if(e.querystring)return void s.A.replace(e.pathname,e.query);let{client_id:i,email:o,redirect_to:r,path:n,token:a,transition:l}=e.state||{},c="";try{c=new URLSearchParams(new URL(r).search).get("activate")}catch{}let d="jetpack"===(r?.includes("jetpack/connect")||n?.includes("jetpack/link/use")?"jetpack":null)?tT:tP,u=e.path.includes("/jetpack");e.primary=(0,E.Y)(d,{clientId:i,emailAddress:o,token:a,redirectTo:r,transition:"true"===l,activate:c,isJetpack:u}),t()}function t3(e,t){if(e.isServerSide)return t();if("/log-in/en"!==e.pathname&&"/log-in/jetpack/en"!==e.pathname)return(0,g.x3)(e.store.getState())||e.params.lang||(e.params.lang=(0,a.Ay)("i18n_default_locale_slug")),t();if(!(0,g.x3)(e.store.getState())&&!a.Ay.isEnabled("wpcom-user-bootstrap"))return t();let i=(0,g.v7)(e.store.getState());if(i&&"en"!==i)return t();"jetpack"===e.params.isJetpack?s.A.redirect("/log-in/jetpack"):s.A.redirect("/log-in")}function t5(e,t){let{isJetpack:i}=e.params,{redirect_to:s}=e.query,o=s?.includes("source=jetpack-plans")||s?.includes("source=jetpack-connect-plans"),r=s?.includes("wpcom-migration");return e.path.includes("log-in/jetpack")?void t():"jetpack"!==i&&s?.includes("jetpack/connect")&&!r||o?e.redirect(e.path.replace("log-in","log-in/jetpack")):void t()}function t8(e,t){if((0,g.x3)(e.store.getState())){let t=e?.query?.redirect_to;(!t||function(e){if(!e.startsWith("/"))return!1;try{return new URL(e,window.location.origin).origin!==window.location.origin}catch{return!0}}(t)||function(e){if(e.startsWith("/"))return!1;try{let t=new URL(e);if(["wordpress.com","subscribe.wordpress.com","agencies.automattic.com"].includes(t.hostname)&&"https:"===t.protocol)return!1}catch{}return!0}(t))&&(t="/"),window.location=t;return}t()}var t7=i("./controller/index.web.js");i("./state/document-head/init.js");let t6=["client_id","signup_flow","redirect_to"];function t9(e,t){let i=(0,l.EZ)(e.lang)||(0,l.e6)(e.lang);e.serverSideRender=Object.keys(e.query).every(e=>t6.includes(e))&&i&&function(e){if(void 0===e)return!0;let t=decodeURIComponent(e);return t.startsWith("https://web.archive.org/web/20250821033111/https://wordpress.com/theme")||t.startsWith("https://web.archive.org/web/20250821033111/https://wordpress.com/go")}(e.query.redirect_to),t()}function ie(e,t){if(e.serverSideRender)return void(0,t7.U6)(e,t);t()}function it(e,t){let i=e.pathname.replace(/^[/]|[/]$/g,"").split("/"),s=Object.keys(e.query).length>0,o=(0,l.e6)(e.params?.lang);if(s||i.length>(o?2:1)){let t=e.store.getState().documentHead.meta.filter(({name:e})=>"robots"!==e).concat({name:"robots",content:"noindex"});e.store.dispatch((0,h.h8)(t))}t()}let ii={name:"login",paths:["/log-in"],module:"login",enableLoggedOut:!0,isomorphic:!0},is=(0,w.xu)(({store:e,currentSection:t,currentRoute:i,currentQuery:s,primary:o,secondary:r,redirectUri:n,showGdprBanner:a,i18n:l})=>(0,E.Y)(d.A,{i18n:l,children:(0,E.Y)(u.bO,{currentSection:t,currentRoute:i,currentQuery:s,children:(0,E.Y)(c.Kq,{store:e,children:(0,E.Y)(v.A,{primary:o,secondary:r,redirectUri:n,showGdprBanner:a})})})})),io=e=>{let t=(0,l.Tg)();e([`/log-in/desktop/${t}`],t8,(0,w.$3)(),it,(0,w.ub)({...ii,isomorphic:!1}),tX,is),e(["/log-in/desktop/finalize"],t8,(0,w.$3)(),it,(0,w.ub)({...ii,isomorphic:!1}),t0,is),a.Ay.isEnabled("login/magic-login")&&(e([`/log-in/link/use/${t}`,`/log-in/jetpack/link/use/${t}`],t8,(0,w.$3)(),it,(0,w.ub)(ii),t4,is),e([`/log-in/link/${t}`,`/log-in/jetpack/link/${t}`,`/log-in/new/link/${t}`],(0,w.$3)(),it,(0,w.ub)(ii),t1,is)),e([`/log-in/qr/${t}`,`/log-in/jetpack/qr/${t}`],t8,(0,w.$3)(),it,(0,w.ub)(ii),t2,is),e([`/log-in/:twoFactorAuthType(authenticator|backup|sms|push|webauthn)/${t}`,`/log-in/:flow(social-connect)/${t}`,`/log-in/:socialService(google|apple|github)/callback/${t}`,`/log-in/:isJetpack(jetpack)/${t}`,`/log-in/:isJetpack(jetpack)/:socialService(google|apple|github)/${t}`,`/log-in/:isJetpack(jetpack)/:twoFactorAuthType(authenticator|backup|sms|push|webauthn)/${t}`,`/log-in/:isJetpack(jetpack)/:action(lostpassword)/${t}`,`/log-in/:isGutenboarding(new)/${t}`,`/log-in/:isGutenboarding(new)/:twoFactorAuthType(authenticator|backup|sms|push|webauthn)/${t}`,`/log-in/:action(lostpassword)/${t}`,`/log-in/${t}`],t5,t3,(0,w.$3)(),_,it,(0,w.ub)(ii),tQ,t9,ie,is)};var ir=i("./state/initial-state.js"),ia=i("./state/redux-store.ts"),il=i("./lib/analytics/init.js"),ic=i("./lib/analytics/super-props.js"),id=i("./lib/load-dev-helpers/index.js"),iu=i("./state/current-user/actions.js"),ip=i("./state/route/actions.js");let im=A()("calypso"),ig=(e,t)=>{im("Executing Calypso configure Redux store."),e&&e.ID&&t.dispatch((0,iu.lt)(e))},ih=e=>{(0,s.A)("*",(t,i)=>{e.dispatch((0,ip.g)(t.pathname,t.query)),i()})},i_=(e,t)=>{(0,il.f)(e||void 0,(0,ic.A)(t))};var iw=i("../node_modules/redux/dist/redux.mjs"),iv=i("../node_modules/redux-thunk/dist/redux-thunk.mjs"),iy=i("./state/analytics/middleware.js"),ib=i("./state/current-user/reducer.js"),ik=i("./state/data-layer/wpcom-api-middleware.js"),iA=i("./state/utils/reducer-utils.ts"),ix=i("./state/utils/add-reducer-enhancer.js");let iC=(0,iA.H)({currentUser:ib.Ay}),ij=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||iw.compose,iY=()=>(0,iw.createStore)(iC,ij(ix.s,(0,iw.applyMiddleware)(iv.P,ik.A,iy.A)));!async function(){let e,t=await (0,n.t)(),i=iY();(0,ia.k)(i,(0,ir.AA)(t?.ID)),ig(t,i),e=null,(0,s.A)("*",(t,i)=>{let o=(0,y.O)(t.canonicalPath);if(t.previousPath=e,e=t.path,t.query=Object.fromEntries(o.searchParams.entries()),t.hashstring=o.hash&&o.hash.substring(1)||"",t.hashstring)try{t.hash=Object.fromEntries(new globalThis.URLSearchParams(t.hashstring).entries())}catch(e){im("failed to query-string parse `location.hash`",e),t.hash={}}else t.hash={};if(t.redirect=(e,i=null)=>(isNaN(e)&&!i&&(i=e),s.A.replace(i,t.state,!1,!1)),"/wp-login.php"===t.pathname){window.location.href=t.path;return}i()}),ih(i),i_(t,i),(0,id.A)(i),(0,o.UN)(t,i),(0,s.A)("*",(e,t)=>{e.store=i,t()}),s.A.exit("*",(e,t)=>{e.store=i,t()}),io((e,...t)=>(0,s.A)(e,...t,r.X)),s.A.start()}()},"./lib/analytics/init.js":(e,t,i)=>{i.d(t,{f:()=>n});var s=i("../packages/calypso-analytics/src/index.ts"),o=i("../node_modules/debug/src/browser.js");let r=i.n(o)()("calypso:analytics:init");async function n(e,t){await (0,s.fz)(e,t);let o=(0,s.HW)();if("object"==typeof e&&o&&(0,s._T)()){let{recordAliasInFloodlight:e}=await i.e(56189).then(i.bind(i,"./lib/analytics/ad-tracking/record-alias-in-floodlight.js"));r("recordAliasInFloodlight",o),e()}}},"./lib/analytics/super-props.js":(e,t,i)=>{i.d(t,{A:()=>u});var s=i("../packages/calypso-config/src/index.ts"),o=i("./lib/route/path.ts");let r=/\/(:site|:site_id|:siteid|:blogid|:blog_id|:siteslug)(\/|$|\?)/i,n=e=>"string"!=typeof e||!(r.test(e)||e.startsWith("/setup/"))&&!(0,o.GE)(e);var a=i("./state/current-user/selectors.js"),l=i("./state/selectors/get-current-route.js"),c=i("./state/sites/selectors/get-site.ts"),d=i("./state/ui/selectors/get-selected-site.ts");let u=e=>t=>{let i=e.getState(),o={environment:"production",environment_id:(0,s.Ay)("env_id"),site_count:(0,a.bs)(i)||0,site_id_label:"wpcom",client:(0,s.Ay)("client_slug")};Object.assign(o,{vph:window.innerHeight,vpw:window.innerWidth});let r=t.path??(0,l.A)(i),u=!t.force_site_id&&n(r)||r.startsWith("/reader")?null:(0,d.A)(i)||(0,c.A)(i,function(){let{search:e=""}=window.location,t=new URLSearchParams(e);return t.get("siteSlug")||t.get("siteId")}());return u&&Object.assign(o,{blog_id:u.ID,blog_lang:u.lang,site_id_label:u.jetpack?"jetpack":"wpcom",site_plan_id:u.plan?u.plan.product_id:null}),o}},"./lib/formatting/prevent-widows.js":(e,t,i)=>{i.d(t,{s:()=>o});var s=i("../node_modules/react/index.js");function o(e,t=2){return function e(t,i){let o=0;if("string"==typeof t&&t.length>0){let e=t,s="";for(;o<i&&r.test(e);)s=" "+r.exec(e)[1]+s,e=e.replace(r,""),o++;return{part:s=e+s,substituted:o}}if(Array.isArray(t)&&t.length>0){let s=[],r=t.length-1;for(;o<i&&r>=0;){let n=e(t[r],i-o);s.unshift(n.part),o+=n.substituted,r--}return{part:s=t.slice(0,r+1).concat(s),substituted:o}}if((0,s.isValidElement)(t)&&t.props.children){let o=e(t.props.children,i);if(o.substituted>0){let e=Array.isArray(o.part)?o.part:[o.part];return{part:(0,s.cloneElement)(t,t.props,...e),substituted:o.substituted}}}return{part:t,substituted:o}}("string"==typeof e?e.trim():e,Math.max(1,t-1)).part}let r=/\s+(\S*)$/},"./lib/i18n-utils/empathy-mode.js":(e,t,i)=>{i.d(t,{US:()=>c,Uf:()=>d,kE:()=>l});var s=i("../packages/i18n-calypso/src/index.ts"),o=i("../packages/i18n-calypso/src/i18n.js");let r=(0,s.Tl)("I don't understand");s.Ay.subscribe(()=>{r=(0,s.Tl)("I don't understand")});let n=!1,a=!1;function l(e){n="boolean"==typeof e?e:!n,!a&&n&&d(),s.Ay.reRenderTranslations()}function c(){return n}function d(){let e=new o.A,t=e.translate.bind(e),i=e.registerTranslateHook.bind(e),l=[r];s.Ay.translateHooks.forEach(i),s.Ay.registerTranslateHook((e,i)=>{let o=s.Ay.getLocaleSlug();return!n||o===s.Ay.defaultLocaleSlug||l.includes(i.original)?e:s.Ay.hasTranslation(i)?t(i):"👉 "+function(e,t=r){let i=t;for(;i.length<e.length;)i+=" "+t;return i.substr(0,e.length)}(i.original)}),a=!0,n=!0}},"./lib/load-dev-helpers/index.js":(e,t,i)=>{i.d(t,{A:()=>r});var s=i("../packages/calypso-config/src/index.ts"),o=i("../node_modules/lodash-es/debounce.js");function r(e){let t=document.querySelector(".environment-badge");if(t){let e=(0,o.default)(()=>{t.classList.remove("hovered")},500);t.onmouseleave=e,t.onmouseenter=()=>{e.cancel(),t.classList.add("hovered")}}if(e&&s.Ay.isEnabled("dev/account-settings-helper")){let t=document.querySelector(".environment.is-account-settings");t&&Promise.all([i.e(753),i.e(32867),i.e(58417),i.e(10260),i.e(80886),i.e(23518),i.e(51252),i.e(74744),i.e(72722),i.e(87704),i.e(72423),i.e(6802),i.e(84028),i.e(25125),i.e(61699)]).then(i.bind(i,"./lib/account-settings-helper/index.jsx")).then(i=>i.default(t,e))}if(s.Ay.isEnabled("dev/auth-helper")){let e=document.querySelector(".environment.is-auth");e&&i.e(19262).then(i.bind(i,"./lib/auth-helper/index.jsx")).then(t=>t.default(e))}if(e&&s.Ay.isEnabled("dev/preferences-helper")){let t=document.querySelector(".environment.is-prefs");t&&i.e(77448).then(i.bind(i,"./lib/preferences-helper/index.js")).then(i=>i.default(t,e))}if(s.Ay.isEnabled("dev/features-helper")){let e=document.querySelector(".environment.is-features");e&&i.e(55999).then(i.bind(i,"./lib/features-helper/index.js")).then(t=>t.default(e))}if(s.Ay.isEnabled("dev/react-query-devtools")){let e=document.querySelector(".environment.is-react-query-devtools");e&&Promise.resolve().then(i.bind(i,"./lib/react-query-devtools-helper/index.jsx")).then(t=>t.default(e))}if(s.Ay.isEnabled("dev/store-sandbox-helper")){let e=document.querySelector(".environment.is-store-sandbox");e&&Promise.all([i.e(753),i.e(32867),i.e(38215),i.e(54361)]).then(i.bind(i,"./lib/store-sandbox-helper/index.tsx")).then(t=>t.default(e))}}},"./lib/safe-protocol-url/index.js":(e,t,i)=>{i.d(t,{A:()=>o});var s=i("../packages/calypso-url/src/url-parts.ts");function o(e){if(null===e||""===e||void 0===e)return null;if(/^\/[^/]/.test(e))return e;let{protocol:t,host:i,hash:o,search:r,pathname:n}=(0,s.O)(e);return"http:"===t||"https:"===t?e:i?(0,s._)({host:i,hash:o,search:r,pathname:n,protocol:"http"}).href:"http:"}},"./lib/user/shared-utils/initialize-current-user.ts":(e,t,i)=>{i.d(t,{t:()=>a});var s=i("../packages/calypso-config/src/index.ts"),o=i("./lib/user/support-user-interop.js"),r=i("./lib/user/shared-utils/filter-user-object.ts"),n=i("./lib/user/shared-utils/raw-current-user-fetch.js");async function a(){let e,t=!1;if((0,o.isSupportUserSession)()&&((0,o.supportUserBoot)(),t=!0),(0,o.isSupportNextSession)()&&(0,o.supportNextBoot)(),!t&&s.Ay.isEnabled("wpcom-user-bootstrap"))return!!window.currentUser&&window.currentUser;try{e=await (0,n.r)()}catch(e){"authorization_required"!==e.error&&console.error("Failed to fetch the user from /me endpoint:",e)}return!!e&&(0,r.p)(e)}},"./lib/user/support-user-interop.js":(e,t,i)=>{let s;i.r(t),i.d(t,{isSupportNextSession:()=>x,isSupportSession:()=>C,isSupportUserSession:()=>A,rebootNormally:()=>Y,setSupportSessionReduxStore:()=>y,supportNextBoot:()=>E,supportUserBoot:()=>S});var o=i("../node_modules/debug/src/browser.js"),r=i.n(o),n=i("./lib/browser-storage/index.ts");let a=r()("calypso:support-user"),l=e=>()=>(a("Bypassing localStorage","length property"),Object.keys(e).length),c=e=>t=>(a("Bypassing localStorage","key"),t>=Object.keys(e).length)?null:Object.keys(e)[t],d=(e,t,i)=>(s,o)=>{if(i&&t.includes(s))return void i(s,o);a("Bypassing localStorage","setItem",s),e[s]=o},u=(e,t,i)=>s=>i&&t.includes(s)?i(s):(a("Bypassing localStorage","getItem",s),e[s]||null),p=(e,t,i)=>s=>{if(i&&t.includes(s))return void i(s);a("Bypassing localStorage","removeItem",s),delete e[s]},m=e=>()=>{for(let t in a("Bypassing localStorage","clear"),e)delete e[t]};function g({root:e=window,allowedKeys:t=[]}={}){let i,s,o;a("Bypassing localStorage"),e&&e.localStorage&&e.Storage&&e.Storage.prototype&&(i=e.Storage.prototype.setItem.bind(e.localStorage),s=e.Storage.prototype.getItem.bind(e.localStorage),o=e.Storage.prototype.removeItem.bind(e.localStorage));let r={},n=l(r),h={setItem:d(r,t,i),getItem:u(r,t,s),removeItem:p(r,t,o),key:c(r),clear:m(r)};try{Object.defineProperty(e,"localStorage",{value:h,enumerable:!0,configurable:!0}),Object.defineProperty(e.localStorage,"length",{get:n})}catch{Object.assign(e.localStorage,h)}}var h=i("./lib/wp/browser.js");let f=r()("calypso:support-user"),_="boot_support_user",w=()=>{},v=new Promise(e=>{w=t=>e(t)}),y=w,b=()=>{try{return JSON.parse(window.sessionStorage.getItem(_))}catch{return{}}},k=(()=>{let e=b();return e&&e.user&&e.token})(),A=()=>k,x=()=>!!window.isSupportSession,C=()=>A()||x(),j=(e,t)=>()=>{e&&t&&window.sessionStorage.setItem(_,JSON.stringify({user:e,token:t}))},Y=()=>{f("Rebooting Calypso normally"),window.sessionStorage.removeItem(_),window.removeEventListener("beforeunload",s),window.location.search=""},L=e=>{f("Deactivating support user and rebooting due to token error",e.message),Y()};async function S(){let{user:e,token:t}=b();f("Booting Calypso with support user",e),window.sessionStorage.removeItem(_),s=j(e,t),window.addEventListener("beforeunload",s),(0,n.tS)(!0),g({allowedKeys:[_,"debug"]}),h.A.setSupportUserToken(e,t,L);let{supportSessionActivate:o}=await i.e(87528).then(i.bind(i,"./state/support/actions.js"));(await v).dispatch(o())}async function E(){(0,n.tS)(!0),g({allowedKeys:["debug"]});let{supportSessionActivate:e}=await i.e(87528).then(i.bind(i,"./state/support/actions.js"));(await v).dispatch(e())}},"./login/login-context.tsx":(e,t,i)=>{i.d(t,{Ay:()=>a,KA:()=>n,hi:()=>r});var s=i("../node_modules/react/index.js"),o=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let r=(0,s.createContext)({}),n=()=>(0,s.useContext)(r),a=({children:e})=>{let[t,i]=(0,s.useState)(void 0),[n,a]=(0,s.useState)(void 0),[l,c]=(0,s.useState)(void 0),d=(0,s.useCallback)(({heading:e,subHeading:t,subHeadingSecondary:s})=>{i(e),a(t),c(s)},[]);return(0,o.Y)(r.Provider,{value:{headingText:t,subHeadingText:n,subHeadingTextSecondary:l,setHeaders:d},children:e})}},"./login/wp-login/components/one-login-layout.tsx":(e,t,i)=>{i.d(t,{A:()=>R});var s=i("../packages/calypso-analytics/src/index.ts"),o=i("../packages/onboarding/src/step-container-v2/components/buttons/LinkButton/LinkButton.tsx"),r=i("../packages/onboarding/src/step-container-v2/wireframes/CenteredColumnLayout/CenteredColumnLayout.tsx"),n=i("../packages/onboarding/src/step-container-v2/components/TopBar/TopBar.tsx"),a=i("../packages/onboarding/src/step-container-v2/components/Heading/Heading.tsx"),l=i("../packages/i18n-calypso/src/use-translate.js"),c=i("./lib/login/index.js"),d=i("./login/login-context.tsx"),u=i("./state/index.ts"),p=i("./state/current-user/actions.js"),m=i("./state/current-user/selectors.js"),g=i("./state/oauth2-clients/ui/selectors.js"),h=i("./state/selectors/get-current-query-arguments.js"),f=i("./state/selectors/get-current-route.js"),_=i("../node_modules/clsx/dist/clsx.mjs"),w=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let v=({size:e=32,className:t})=>{let i=(0,_.A)(t);return(0,w.FD)("svg",{className:i,width:"190",height:e,viewBox:"0 0 190 64",children:[(0,w.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M58.5174 31.1947C58.5174 19.6657 50.0927 9.38372 34.8597 9.38372C19.6268 9.38372 11.2912 19.6657 11.2912 31.1947V32.626C11.2912 44.1566 19.6268 54.6146 34.8597 54.6146C50.0927 54.6146 58.5174 44.1566 58.5174 32.626V31.1947ZM34.8597 64C13.7107 64 0 48.8057 0 32.983V31.0187C0 14.9261 13.7107 0 34.8597 0C56.0995 0 69.8102 14.9261 69.8102 31.0187V32.983C69.8102 48.8057 56.0995 64 34.8597 64Z",fill:"#029CD7"}),(0,w.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.3512 21.1195C44.282 22.3851 44.8234 25.0161 43.5704 26.9905L33.8039 42.3712C32.5493 44.3472 29.968 44.9188 28.0403 43.6532C26.1127 42.3842 25.565 39.7598 26.8211 37.7838L36.5877 22.4031C37.8422 20.4287 40.4236 19.8554 42.3512 21.1195Z",fill:"#021A23"}),(0,w.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M96.8102 32.5V37.5H98.3102V32.5H103.31V31H98.3102V26H96.8102V31H91.8102V32.5H96.8102Z",fill:"#1E1E1E",stroke:"#1E1E1E",strokeWidth:3}),(0,w.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M189.81 32C189.81 14.368 175.442 0 157.81 0C140.146 0 125.81 14.368 125.81 32C125.81 49.664 140.146 64 157.81 64C175.442 64 189.81 49.664 189.81 32ZM150.706 49.184L139.794 19.904C141.554 19.84 143.538 19.648 143.538 19.648C145.138 19.456 144.946 16.032 143.346 16.096C143.346 16.096 138.706 16.448 135.762 16.448C135.186 16.448 134.578 16.448 133.906 16.416C138.994 8.60803 147.794 3.55203 157.81 3.55203C165.266 3.55203 172.05 6.33603 177.17 11.04C174.994 10.688 171.89 12.288 171.89 16.096C171.89 18.1696 172.994 19.9487 174.236 21.949C174.412 22.2331 174.591 22.5216 174.77 22.816C175.89 24.768 176.53 27.168 176.53 30.688C176.53 35.456 172.05 46.688 172.05 46.688L162.354 19.904C164.082 19.84 164.978 19.36 164.978 19.36C166.578 19.2 166.386 15.36 164.786 15.456C164.786 15.456 160.178 15.84 157.17 15.84C154.386 15.84 149.714 15.456 149.714 15.456C148.114 15.36 147.922 19.296 149.522 19.36L152.466 19.616L156.498 30.528L150.706 49.184ZM181.592 31.8141L181.522 32C179.203 38.1047 176.902 44.2619 174.605 50.4069L174.602 50.4163L174.594 50.437C173.788 52.5925 172.983 54.7464 172.178 56.896C180.722 51.968 186.258 42.528 186.258 32C186.258 27.072 185.138 22.528 182.898 18.4C183.861 25.7917 182.382 29.717 181.592 31.8141ZM145.33 57.888C135.794 53.28 129.362 43.296 129.362 32C129.362 27.84 130.098 24.064 131.666 20.512C132.624 23.1352 133.581 25.7598 134.539 28.3853L134.542 28.3926L134.543 28.3947C138.129 38.2248 141.72 48.0663 145.33 57.888ZM166.482 59.008L158.226 36.672C156.705 41.1592 155.173 45.6464 153.636 50.147C152.586 53.221 151.534 56.3012 150.482 59.392C152.786 60.096 155.282 60.448 157.81 60.448C160.85 60.448 163.73 59.936 166.482 59.008Z",fill:"#101517"})]})};var y=i("./assets/images/blaze/blaze-pro-logo.png"),b=i("./assets/images/icons/Woo_logo_color.svg"),k=i("./assets/images/icons/studio-app-logo.svg"),A=i("./components/jetpack-logo/index.jsx");let x=i("../node_modules/@automattic/color-studio/dist/colors.json").T,C=x["Jetpack Green 40"],j=x["WordPress Blue 40"],Y=x.White,L=x["Gray 80"],S=({size:e=32,className:t})=>{let i=(0,_.A)("jetpack-plus-wpcom-logo",t);return(0,w.FD)("svg",{height:e,className:i,viewBox:"0 0 2000 629",children:[(0,w.Y)("path",{d:"M1821.1 558.9l89-249.7c16.7-40.4 22.2-72.6 22.2-101.3 0-10.4-.7-20-2-29a274.8 274.8 0 0135.7 135.6c0 104.3-58.2 195.4-144.9 244.4zm-106.3-377c17.5-.9 33.3-2.7 33.3-2.7 15.7-1.8 13.9-24.2-1.8-23.3 0 0-47.2 3.6-77.7 3.6-28.7 0-76.8-3.6-76.8-3.6-15.7-.9-17.5 22.4-1.8 23.3 0 0 14.8 1.8 30.5 2.7l45.4 120.7-63.7 185.6L1496 181.9c17.6-.9 33.4-2.7 33.4-2.7 15.7-1.8 13.8-24.2-1.9-23.3 0 0-47.2 3.6-77.6 3.6l-18.8-.3a293.5 293.5 0 01243.5-127.5c75.9 0 145 28.2 196.8 74.3-1.3-.1-2.5-.3-3.8-.3-28.6 0-49 24.2-49 50.2 0 23.3 14 43 28.7 66.3 11 18.9 24 43 24 78 0 24.2-7.4 54.7-22.1 91.4L1820 486zm-40.2 415.4a300 300 0 01-82.3-11.5l87.4-246.6 89.6 238.1 2 4a299.2 299.2 0 01-96.7 16zm-291.4-282.8c0-41 9-80 25.2-115l139 369.5c-97.2-45.9-164.2-142.6-164.2-254.5zM1674.6 0c-178.7 0-324.1 141-324.1 314.5 0 173.4 145.4 314.5 324.1 314.5 178.7 0 324.1-141 324.1-314.5C1998.7 141 1853.3 0 1674.6 0z",fill:j}),(0,w.Y)("path",{d:"M311.4 629c171.7 0 310.8-140.8 310.8-314.5S483.1 0 311.4 0C139.7 0 .6 140.8.6 314.5S139.7 629 311.4 629z",fill:C}),(0,w.Y)("path",{d:"M326.8 261.7v304.9l155.4-305zM295.4 366.7V62.4L140.6 366.7z",fill:Y}),(0,w.Y)("path",{d:"M1026 341.2h84.4v-52.9H1026v-83.5h-52v83.5h-84.2v52.9h84.1v83.7h52.1z",fill:L})]})};var E=i("./components/svg-icon/index.tsx"),N=i("./components/wp-cloud-logo/index.jsx"),F=i("./lib/oauth2-clients.js"),P=i("./state/selectors/get-is-akismet.ts"),D=i("./state/selectors/get-is-woo.ts");let T=({isJetpack:e})=>{let t=(0,u.d4)(g.AL),i=(0,u.d4)(D.A),s=(0,u.d4)(P.A),o=null;return(0,F.c8)(t)?o=(0,w.Y)("img",{src:k,alt:"Studio App Logo"}):(0,F.k4)(t)?o=(0,w.Y)("img",{src:"/calypso/images/../images/crowdsignal-b3ace1db4e0a85b7883a.svg",alt:"Crowdsignal Logo"}):s?o=(0,w.Y)("img",{src:"/calypso/images/../images/akismet-logo-b19bef7aeaf5c011a1b6.svg",alt:"Akismet Logo"}):(0,F.MP)(t)?o=(0,w.Y)("img",{src:"/calypso/images/../images/wp-job-manager-f1c7f5d97c287b05e0d7.png",alt:"WP Job Manager Logo"}):(0,F.kY)(t)?o=(0,w.Y)("img",{src:y,alt:"Blaze Pro Logo"}):(0,F.V5)(t)?o=(0,w.Y)(v,{size:32}):i?o=(0,w.Y)(E.A,{name:"woocommerce-logo",icon:b,classes:"masterbar__woo-client-logo",width:"128",height:"40",viewBox:"0 0 60 24"}):e?o=(0,w.Y)(A.A,{size:64}):(0,F.uf)(t)?o=(0,w.Y)(S,{size:32}):(0,F.Tg)(t)&&document.location.search?.includes("wpcloud")?o=(0,w.Y)(N.A,{size:120}):(0,F.rZ)(t)&&(o=(0,w.Y)("img",{src:"/calypso/images/../images/gravatar-ca383dfeac5329348692.svg",alt:"Gravatar Logo"})),o?(0,w.Y)("div",{className:"wp-login__one-login-layout-heading-logo",children:o}):null},R=({isJetpack:e,children:t,signupUrl:i,isSectionSignup:_,loginUrl:v,isLostPasswordView:y})=>{let b=(0,l.A)(),k=(0,u.d4)(m.v7),A=(0,u.d4)(f.$),x=(0,u.d4)(h.k),C=(0,u.d4)(g.AL),j=(0,u.d4)(m.x3),Y=(0,u.wA)(),{headingText:L,subHeadingText:S,subHeadingTextSecondary:E}=(0,d.KA)();return(0,w.Y)(r.D,{columnWidth:6,topBar:(0,w.Y)(n.V,{rightElement:_?(0,w.Y)(()=>v?(0,w.Y)(o.z,{href:v,rel:"external",children:b("Log in")},"login-link"):null,{}):(0,w.Y)(()=>{let e=i?window.location.origin+(0,c.FE)(i):(0,c.c5)(x,A,C,k);return y?null:(0,w.Y)(o.z,{href:e,onClick:t=>{(0,s.Oy)("calypso_login_sign_up_link_click",{origin:"login-layout"}),j&&(t.preventDefault(),Y((0,p.cW)(e)))},rel:"external",children:b("Create an account")},"sign-up-link")},{}),compactLogo:"always"}),verticalAlign:"center",children:(0,w.FD)("div",{className:"wp-login__one-login-layout-content-wrapper",children:[(0,w.FD)("div",{className:"wp-login__one-login-layout-heading",children:[(0,w.Y)(T,{isJetpack:e}),(0,w.Y)(a.D,{text:(0,w.Y)("div",{className:"wp-login__one-login-layout-heading-text",children:L})}),(0,w.FD)("div",{className:"wp-login__one-login-layout-heading-subtext-wrapper",children:[(0,w.Y)("h2",{className:"wp-login__one-login-layout-heading-subtext",children:S}),E&&(0,w.Y)("h3",{className:"wp-login__one-login-layout-heading-subtext is-secondary",children:E})]})]}),t]})})}},"./login/wp-login/hooks/get-heading-subtext.tsx":(e,t,i)=>{i.d(t,{A:()=>r});var s=i("../packages/i18n-utils/src/localize-url.tsx"),o=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let r=({isSocialFirst:e,twoFactorAuthType:t,action:i,translate:r,isWooJPC:n})=>{if(!e||t)return null;let a=(0,o.Y)("span",{className:"wp-login__one-login-layout-tos",children:r("Just a little reminder that by continuing with any of the options below, you agree to our {{tosLink}}Terms of Service{{/tosLink}} and {{privacyLink}}Privacy Policy{{/privacyLink}}.",{components:{tosLink:(0,o.Y)("a",{href:(0,s.rm)("https://web.archive.org/web/20250821033111/https://wordpress.com/tos/"),target:"_blank",rel:"noopener noreferrer"}),privacyLink:(0,o.Y)("a",{href:(0,s.rm)("https://web.archive.org/web/20250821033111/https://automattic.com/privacy/"),target:"_blank",rel:"noopener noreferrer"})}})}),l=n?r("To access all of the features and functionality of the extensions you've chosen, you'll first need to connect your store to an account."):a;return{primary:"lostpassword"===i?r("Please enter your username or email address. You'll receive a link to create a new password via email."):l,secondary:n&&"lostpassword"!==i?a:null}}},"./server/lib/performance-mark/index.ts":(e,t,i)=>{function s(e,t,i=!1){if(!e)return;e.performanceMarks??=[];let o=e.performanceMarks,r=Date.now();i&&o.length&&(o[o.length-1].steps??=[]);let n=i&&o.length?o[o.length-1].steps:o;(function e(t,i){if(!t?.length)return;let s=t[t.length-1];s.duration??=i-s.startTime,e(s.steps,i)})(n,r),n.push({markName:t,startTime:r})}i.d(t,{A:()=>s})},"./signup/wpcom-login-form/index.jsx":(e,t,i)=>{i.d(t,{A:()=>n});var s=i("../packages/calypso-config/src/index.ts"),o=i("../node_modules/react/index.js"),r=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n({redirectTo:e,authorization:t,pwd:i="",log:n,rememberMe:a=!1}){let l=(0,o.useRef)();return(0,o.useEffect)(()=>{l.current.submit()},[]),(0,r.FD)("form",{method:"post",action:function(e){let t=/^https?:\/\/([a-z0-9-]+)\.wordpress\.com(?:$|\/)/,i=(0,s.Ay)("hostname"),o="";if(t.test(e)&&"wpcalypso.wordpress.com"!==i&&"horizon.wordpress.com"!==i){let i=e.match(t);i&&"public-api"!==i[1]&&(o=i[1]+".")}return`https://${o}wordpress.com/wp-login.php`}(e),ref:l,children:[(0,r.Y)("input",{type:"hidden",name:"log",value:n}),(0,r.Y)("input",{type:"hidden",name:"pwd",value:i}),(0,r.Y)("input",{type:"hidden",name:"authorization",value:t}),(0,r.Y)("input",{type:"hidden",name:"redirect_to",value:e}),a?(0,r.Y)("input",{type:"hidden",name:"rememberme",value:"forever"}):void 0]})}},"./state/analytics/actions/enhance-with-site-type.js":(e,t,i)=>{i.d(t,{c:()=>n});var s=i("../node_modules/lodash-es/set.js"),o=i("./state/action-types.ts"),r=i("./state/ui/selectors/get-selected-site.ts");function n(e,t){let i=(0,r.A)(t());return null!==i&&(e.type===o.C2g?(0,s.A)(e,"meta.analytics[0].payload.properties.site_type",i.jetpack?"jetpack":"wpcom"):(0,s.A)(e,"meta.analytics[0].payload.site_type",i.jetpack?"jetpack":"wpcom")),e}},"./state/i18n/init.js":(e,t,i)=>{var s=i("./state/redux-store.ts"),o=i("../packages/state-utils/src/index.ts"),r=i("./state/utils/reducer-utils.ts"),n=i("./state/action-types.ts");let a=(0,r.H)({items:(e=null,t)=>t.type===n.jah?t.items:e}),l=(0,o.p6)("i18n",(0,r.H)({languageNames:a,localeSuggestions:(e=null,t)=>t.type===n.OhW?t.items:e}));(0,s.K)(["i18n"],l)},"./state/initial-state.js":(e,t,i)=>{i.d(t,{AA:()=>k,Cj:()=>y,E4:()=>v,oK:()=>f}),i("../packages/calypso-config/src/index.ts");var s=i("../node_modules/debug/src/browser.js"),o=i.n(s),r=i("../node_modules/lodash-es/throttle.js"),n=i("../node_modules/lodash-es/map.js"),a=i("../node_modules/lodash-es/pick.js");i("./lib/browser-storage/index.ts");var l=i("./lib/user/support-user-interop.js"),c=i("./state/action-types.ts"),d=i("./state/constants.ts"),u=i("./state/persisted-state.js"),p=i("./state/utils/serialize.ts");let m=o()("calypso:state"),g=Date.now();function h(e,t){let{_timestamp:i,...s}=t;return(0,p.i)(e,s)}function f(){return!(0,l.isSupportSession)()}function _(e,t){return"redux-state-"+(e??"logged-out")+(t?":"+t:"")}async function w(e,t,i,s){"root"!==t&&(e+=":"+t);let o={...i,_timestamp:s};await (0,u.Zh)(e,o)}function v(e,t){if(!f())return()=>{};let i=null,s=(0,r.A)(function(){let s=e.getState();if(s===i)return;i=s;let o=(0,p.l)(e.getCurrentReducer(),s),r=Date.now(),a=_(t);Promise.all((0,n.A)(o.get(),(e,t)=>w(a,t,e,r))).catch(e=>m("failed to set redux-store state",e))},d.Y8,{leading:!1,trailing:!0});window.addEventListener("beforeunload",s.flush);let o=e.subscribe(s);return()=>{window.removeEventListener("beforeunload",s.flush),o(),s.cancel()}}function y(e,t){let i=function(e,t){if(!f())return null;let i=b(e,void 0,t);for(let s of[...e.getStorageKeys()])!function({storageKey:s,reducer:o}){let r=b(o,s,t);r&&(i=e(i,{type:c.ZqR,storageKey:s,storedState:r}))}(s);return i}(e,t),s=function(e){if(!window.initialReduxState||(0,l.isSupportSession)())return null;let t=h(e,window.initialReduxState);return(0,a.A)(t,Object.keys(window.initialReduxState))}(e);return{...i,...s}}function b(e,t,i){let s=_(i,t);return A(t,(0,u.oy)(s),e,!1)}let k=e=>(t,i)=>{let s=null;i&&(s=window.initialReduxState?.[i]??null);let o=(0,u.oy)(_(e,i));o||"signup"!==i||((o=(0,u.oy)(_(null,i)))&&o.progress&&o.progress.user&&delete o.progress.user,m("fetched signup state from logged out state",o));let r=null!==s;return o?._timestamp&&o._timestamp>g&&(r=!1),A(i,r?s:o,t,r)};function A(e,t,i,s=!1){let o=s?"server":"persisted";try{if(null===t)return m(`Redux state for subkey '${e}' not found in ${o} data`),null;if(!(s?g+d.D3>Date.now():t._timestamp&&t._timestamp+d.D3>Date.now()))return m(`${o} Redux state is too old, dropping`),null;let r=h(i,t);if(!r)return m(`${o} Redux state failed to deserialize, dropping`),null;return r}catch(e){return m(`error while loading ${o} Redux state:`,e),null}}},"./state/notices/selectors.js":(e,t,i)=>{i.d(t,{o:()=>r});var s=i("../packages/state-utils/src/index.ts");i("./state/notices/init.js");let o=[],r=(0,s.Mz)(e=>{let t=Object.values(e.notices.items);return t.length?t:o},e=>e.notices.items)},"./state/oauth2-clients/actions.js":(e,t,i)=>{i.d(t,{n:()=>c});var s=i("../node_modules/lru/index.js"),o=i.n(s),r=i("./lib/wp/browser.js"),n=i("./state/action-types.ts");i("./state/oauth2-clients/init.js");let a=new(o())({max:100,maxAge:72e5}),l=e=>({message:e.message,code:e.error}),c=e=>async t=>{let i=String(e);try{let s=a.get(i);return void 0===s&&(s=await r.A.req.get(`/oauth2/client-data/${e}`,{apiNamespace:"wpcom/v2"}),a.set(i,s)),t({type:n.ZTS,data:s}),s}catch(e){throw l(e)}}},"./state/persisted-state.js":(e,t,i)=>{i.d(t,{XS:()=>l,Zh:()=>d,oy:()=>c});var s=i("../node_modules/debug/src/browser.js"),o=i.n(s),r=i("./lib/browser-storage/index.ts");let n=o()("calypso:state"),a={};async function l(){try{let e=await (0,r.DW)(/^(redux-state|query-state)-/);n("fetched persisted state from storage",e),a=e??{}}catch(e){n("error while loading persisted state:",e)}}function c(e){return a[e]??null}async function d(e,t){await (0,r.NT)(e,t),a[e]=t}},"./state/route/actions.js":(e,t,i)=>{i.d(t,{g:()=>o});var s=i("./state/action-types.ts");function o(e,t={}){return{type:s.hsX,path:e,query:t}}i("./state/ui/init.js")}},e=>{var t=t=>e(e.s=t);e.O(0,[6216,42689,32471,53431,50340,47003,86699,33135,25911,2522,34329,40193,88086,58806,83177,60897,65281,82525,50765,18826,33853,30593,77178,12179,47913,88423,36964,37861,14681,30728],()=>(t("../node_modules/@sentry/webpack-plugin/src/sentry-webpack.module.js"),t("./landing/login/index.js"))),e.O()}]);

}
/*
     FILE ARCHIVED ON 03:31:11 Aug 21, 2025 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 03:31:17 Aug 21, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.879
  exclusion.robots: 0.041
  exclusion.robots.policy: 0.024
  esindex: 0.014
  cdx.remote: 7.39
  LoadShardBlock: 46.763 (3)
  PetaboxLoader3.datanode: 44.899 (3)
  load_resource: 11.666
*/