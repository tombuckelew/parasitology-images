var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[50765],{"../packages/calypso-config/src/index.ts":(t,e,s)=>{"use strict";let o;s.d(e,{Ay:()=>w,aj:()=>h,Ol:()=>g}),s("../node_modules/process/browser.js");let i=t=>e=>{if(e in t)return t[e];console.error(`%cCore Error: %cCould not find config value for key %c${e}%c. Please make sure that if you need it then it has a default value assigned in %cconfig/_shared.json%c.`,"color: red; font-size: 120%","color: black;","color: blue;","color: black;","color: blue;","color: black")},r=t=>e=>t.features&&!!t.features[e]||!1,n=t=>()=>t.features?Object.entries(t.features).reduce((t,[e,s])=>s?[...t,e]:t,[]):[],a=t=>e=>{t.features&&(t.features[e]=!0)},c=t=>e=>{t.features&&(t.features[e]=!1)};var p=s("../node_modules/cookie/index.js");let u={env:"production",env_id:"desktop",client_slug:"desktop",readerFollowingSource:"desktop",boom_analytics_key:"desktop",google_recaptcha_site_key:"6LdoXcAUAAAAAM61KvdgP8xwnC19YuzAiOWn5Wtn"},l={desktop:!0,"login/last-used-method":!1,"sign-in-with-apple":!1,"signup/social":!1,"signup/social-first":!1,"login/magic-login":!1,"bilmur-script":!1};window.configData||(window.configData={});let d=/^([a-zA-Z0-9-]+\.)?calypso\.live$/;function h(){return d.test(window.location.host)}function m(t,e){t.split(",").forEach(t=>{let s=t.replace(/^[-+]/,""),i=!/^-/.test(t);o.features&&(o.features[s]=i,console.log("%cConfig flag %s via %s: %s","font-weight: bold;",i?"enabled":"disabled",e,s))})}if(["wpcalypso","horizon","stage","jetpack-cloud-stage","a8c-for-agencies-stage"].includes((o=void 0!==window.electron?(t=>((t=Object.assign(t,u)).features&&(t.features=Object.assign(t.features,l)),window.electron&&window.electron.features&&(t.features=Object.assign(t.features??{},window.electron.features)),t))(window.configData):window.configData).env_id)||h()){let t=p.parse(document.cookie);t.flags&&m(t.flags,"cookie");try{let t=window.sessionStorage.getItem("flags");t&&m(t,"sessionStorage")}catch{}let e=document.location.search&&document.location.search.match(/[?&]flags=([^&]+)(&|$)/);e&&m(decodeURIComponent(e[1]),"URL")}let f=(t=>{let e=i(t);return e.isEnabled=r(t),e.enabledFeatures=n(t),e.enable=a(t),e.disable=c(t),e})(o),w=f,g=f.isEnabled;f.enabledFeatures,f.enable,f.disable},"../packages/components/src/logos/wordpress-logo/index.tsx":(t,e,s)=>{"use strict";s.d(e,{B:()=>i});var o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let i=({className:t="wordpress-logo",size:e=72})=>(0,o.FD)("svg",{className:t,height:e,width:e,viewBox:"0 0 72 72",children:[(0,o.Y)("title",{children:"WordPress"}),(0,o.Y)("path",{d:"M36,0C16.1,0,0,16.1,0,36c0,19.9,16.1,36,36,36c19.9,0,36-16.2,36-36C72,16.1,55.8,0,36,0z M3.6,36 c0-4.7,1-9.1,2.8-13.2l15.4,42.3C11.1,59.9,3.6,48.8,3.6,36z M36,68.4c-3.2,0-6.2-0.5-9.1-1.3l9.7-28.2l9.9,27.3 c0.1,0.2,0.1,0.3,0.2,0.4C43.4,67.7,39.8,68.4,36,68.4z M40.5,20.8c1.9-0.1,3.7-0.3,3.7-0.3c1.7-0.2,1.5-2.8-0.2-2.7 c0,0-5.2,0.4-8.6,0.4c-3.2,0-8.5-0.4-8.5-0.4c-1.7-0.1-2,2.6-0.2,2.7c0,0,1.7,0.2,3.4,0.3l5,13.8L28,55.9L16.2,20.8 c2-0.1,3.7-0.3,3.7-0.3c1.7-0.2,1.5-2.8-0.2-2.7c0,0-5.2,0.4-8.6,0.4c-0.6,0-1.3,0-2.1,0C14.7,9.4,24.7,3.6,36,3.6 c8.4,0,16.1,3.2,21.9,8.5c-0.1,0-0.3,0-0.4,0c-3.2,0-5.4,2.8-5.4,5.7c0,2.7,1.5,4.9,3.2,7.6c1.2,2.2,2.7,4.9,2.7,8.9 c0,2.8-0.8,6.3-2.5,10.5l-3.2,10.8L40.5,20.8z M52.3,64l9.9-28.6c1.8-4.6,2.5-8.3,2.5-11.6c0-1.2-0.1-2.3-0.2-3.3 c2.5,4.6,4,9.9,4,15.5C68.4,47.9,61.9,58.4,52.3,64z"})]})},"../packages/oauth-token/src/index.js":(t,e,s)=>{"use strict";s.d(e,{WG:()=>c,gf:()=>a});var o=s("../node_modules/cookie/index.js"),i=s("../node_modules/store/dist/store.modern.js"),r=s.n(i);let n="wpcom_token";function a(){let t=o.parse(document.cookie);if(void 0!==t[n])return t[n];let e=r().get(n);return!!e&&e}function c(t){document.cookie=o.serialize(n,t,{maxAge:31536e6})}},"../packages/wpcom-proxy-request/src/index.js":(t,e,s)=>{"use strict";let o;s.d(e,{Ay:()=>E,IH:()=>P,gn:()=>y,wf:()=>q});var i=s("../node_modules/debug/src/browser.js"),r=s.n(i),n=s("../node_modules/wp-error/index.js"),a=s.n(n);let c=r()("wpcom-proxy-request"),p="https://web.archive.org/web/20250609141521/https://public-api.wordpress.com",u=null,l=(()=>{let t=!1;try{window.postMessage({toString:function(){t=!0}},"*")}catch{}return t})(),d=(()=>{try{return new window.File(["a"],"test.jpg",{type:"image/jpeg"}),!0}catch{return!1}})(),h=null,m=!1,f={},w=(t,e)=>{let s=Object.assign({},t);c("request(%o)",s),h||v();let i=crypto.randomUUID();s.callback=i,s.supports_args=!0,s.supports_error_obj=!0,s.supports_progress=!0,s.method=String(s.method||"GET").toUpperCase(),c("params object: %o",s);let r=new window.XMLHttpRequest;if(r.params=s,f[i]=r,"function"==typeof e){let t=!1,s=s=>{if(t)return;t=!0;let o=s.error??s.err??s;c("error: ",o),c("headers: ",s.headers),e(o,null,s.headers)};r.addEventListener("load",s=>{if(t)return;t=!0;let o=s.response??r.response;c("body: ",o),c("headers: ",s.headers),e(null,o,s.headers)}),r.addEventListener("abort",s),r.addEventListener("error",s)}return"function"==typeof s.onStreamRecord&&(u=s.onStreamRecord,delete s.onStreamRecord),m?_(s):(c("buffering API request since proxying <iframe> is not yet loaded"),o.push(s)),r},g=(t,e)=>"function"==typeof e?w(t,e):new Promise((e,s)=>{w(t,(t,o)=>{t?s(t):e(o)})});function y(){return g({metaAPI:{accessAllUsersBlogs:!0}})}function _(t){if(!h.contentWindow){c("proxy iframe is not present in the document");let e=t.callback,s=f[e];delete f[e],j(s,a()({status_code:500,error_description:"proxy iframe element is not loaded"}),{});return}c("sending API request to proxy <iframe> %o",t),t.formData&&function(t){if(window.chrome&&d)for(let s=0;s<t.length;s++){var e;let o=b(e=t[s][1])?e:"object"==typeof e&&b(e.fileContents)?e.fileContents:null;o&&(t[s][1]=new window.File([o],o.name,{type:o.type}))}}(t.formData),h.contentWindow.postMessage(l?JSON.stringify(t):t,p)}function b(t){return t&&"[object File]"===Object.prototype.toString.call(t)}function v(){c("install()"),h&&(c("uninstall()"),window.removeEventListener("message",k),document.body.removeChild(h),m=!1,h=null),o=[],window.addEventListener("message",k),h=document.createElement("iframe");let t=window.location.origin;c('using "origin": %o',t),h.src=p+"/wp-admin/rest-proxy/?v=2.0#"+t,h.style.display="none",document.body.appendChild(h)}let q=()=>{v()};function k(t){if(!h?.contentWindow)return;if(c("onmessage"),t.origin!==p)return void c("ignoring message... %o !== %o",t.origin,p);if(t.source!==h.contentWindow)return void c("ignoring message... iframe elements do not match");let{data:e}=t;if(!e)return c("no `data`, bailing");if("ready"===e)return void function(){if(c('proxy <iframe> "load" event'),m=!0,o){for(let t=0;t<o.length;t++)_(o[t]);o=null}}();if(l&&"string"==typeof e&&(e=JSON.parse(e)),e.upload||e.download){var s,i=e;c('got "progress" event: %o',i);let t=f[i.callbackId];if(t){let e=new window.ProgressEvent("progress",i);(i.upload?t.upload:t).dispatchEvent(e)}return}if(!e.length)return c("`e.data` doesn't appear to be an Array, bailing...");let r=e[e.length-1];if(!(r in f))return c("bailing, no matching request with callback: %o",r);let n=f[r],{params:d}=n,w=e[0],g=e[1],y=e[2];if(207===g||delete f[r],d.metaAPI?g="metaAPIupdated"===w?200:500:c("got %o status code for URL: %o",g,d.path),"object"==typeof y&&(y.status=g,s=y["Content-Type"],/^application[/]x-ndjson($|;)/.test(s)&&207===g))return void u(w);g&&2===Math.floor(g/100)?function(t,e,s){let o=new window.ProgressEvent("load");o.data=o.body=o.response=e,o.headers=s,t.dispatchEvent(o)}(n,w,y):j(n,a()(d,g,w),y)}function j(t,e,s){let o=new window.ProgressEvent("error");o.error=o.err=e,o.headers=s,t.dispatchEvent(o)}let x=["https://web.archive.org/web/20250609141521/https://wordpress.com","https://web.archive.org/web/20250609141521/https://cloud.jetpack.com","https://web.archive.org/web/20250609141521/https://jetpack.com","https://web.archive.org/web/20250609141521/https://agencies.automattic.com","https://web.archive.org/web/20250609141521/http://wpcalypso.wordpress.com","https://web.archive.org/web/20250609141521/http://widgets.wp.com","https://web.archive.org/web/20250609141521/https://widgets.wp.com","https://web.archive.org/web/20250609141521/https://dev-mc.a8c.com","https://web.archive.org/web/20250609141521/https://mc.a8c.com","https://web.archive.org/web/20250609141521/https://dserve.a8c.com","https://web.archive.org/web/20250609141521/http://calypso.localhost:3000","https://web.archive.org/web/20250609141521/https://calypso.localhost:3000","https://web.archive.org/web/20250609141521/http://jetpack.cloud.localhost:3000","https://web.archive.org/web/20250609141521/https://jetpack.cloud.localhost:3000","https://web.archive.org/web/20250609141521/http://agencies.localhost:3000","https://web.archive.org/web/20250609141521/https://agencies.localhost:3000","https://web.archive.org/web/20250609141521/http://calypso.localhost:3001","https://web.archive.org/web/20250609141521/https://calypso.localhost:3001","https://web.archive.org/web/20250609141521/https://calypso.live","https://web.archive.org/web/20250609141521/http://127.0.0.1:41050","https://web.archive.org/web/20250609141521/http://send.linguine.localhost:3000"];function P(){var t;return t=window.location.origin,x.includes(t)||/^https:\/\/[a-z0-9-]+\.calypso\.live$/.test(t)||/^https:\/\/([a-z0-9-]+\.)+wordpress\.com$/.test(t)}let E=g},"../packages/wpcom.js/src/index.js":(t,e,s)=>{"use strict";s.d(e,{A:()=>Z});var o,i=s("../node_modules/debug/src/browser.js"),r=s.n(i);class n{constructor(t){if(!(this instanceof n))return new n(t);this.wpcom=t,this.urls=[]}add(t){return this.urls.push(t),this}run(t={},e){return"function"==typeof t&&(e=t,t={}),t.urls=this.urls,this.wpcom.req.get("/batch",t,e)}}class a{constructor(t,e){if(!(this instanceof a))return new a(t,e);this._domain=t,this._subpath="/domains/"+this._domain+"/dns",this.wpcom=e}add(t,e,s){return"function"==typeof e&&(s=e,e={}),this.wpcom.req.post(this._subpath+"/add",e,t,s)}delete(t,e,s){return this.wpcom.req.post(this._subpath+"/delete",e,t,s)}setDefaultARecords(t,e){return this.wpcom.req.post(this._subpath+"/set-default-a-records",t,null,e)}}class c{constructor(t,e,s){if(!(this instanceof c))return new c(t,e,s);t&&(this._email=t),this._domain=e,this._subpath="/domains/"+this._domain+"/email/",this.wpcom=s}forward(t,e,s){return this.wpcom.req.post(this._subpath+this._email,e,{destination:t},s)}add(t,e,s,o){return"function"==typeof s&&(o=s,s={}),this.wpcom.req.post(this._subpath+"new",s,{mailbox:t,destination:e},o)}delete(t,e,s){return this.wpcom.req.del(this._subpath+t+"/delete",e,s)}}let p="/domains/";class u{constructor(t,e){if(!(this instanceof u))return new u(t,e);this._id=t,this.wpcom=e}status(t,e){return this.wpcom.req.get(p+this._id+"/status",t,e)}isAvailable(t,e){return this.wpcom.req.get(p+this._id+"/is-available",t,e)}isMappable(t,e){return this.wpcom.req.get(p+this._id+"/is-mappable",t,e)}canRedirect(t,e,s){let o=p+t+"/"+this._id+"/can-redirect";return this.wpcom.req.get(o,e,s)}emailForwards(t,e){return this.wpcom.req.get(p+this._id+"/email",t,e)}nameserversList(t,e){return this.wpcom.req.get(p+this._id+"/nameservers",t,e)}updateNameservers(t,e,s){return this.wpcom.req.post(p+this._id+"/nameservers",e,{nameservers:t},s)}dnsList(t,e){return this.wpcom.req.get(p+this._id+"/dns",t,e)}googleAppsList(t,e){return this.wpcom.req.get(p+this._id+"/google-apps",t,e)}resendICANN(t,e){return this.wpcom.req.post(p+this._id+"/resend-icann",t,e)}email(t){return new c(t,this._id,this.wpcom)}dns(){return new a(this._id,this.wpcom)}mappingSetupInfo(t,e,s){return this.wpcom.req.get(p+this._id+"/mapping-setup-info/"+t,e,s)}mappingStatus(t,e){return this.wpcom.req.get(p+this._id+"/mapping-status",t,e)}updateConnectionModeAndGetMappingStatus(t,e,s){return this.wpcom.req.post(p+this._id+"/mapping-status",e,{mode:t},s)}}let l="/domains/";class d{constructor(t){if(!(this instanceof d))return new d(t);this.wpcom=t}suggestions(t,e){return"string"==typeof t&&(t={query:t}),this.wpcom.req.get(l+"suggestions",t,e)}suggestionsExamples(t,e){return this.wpcom.req.get(l+"suggestions/examples",t,e)}supportedCountries(t,e){return this.wpcom.req.get(l+"supported-countries",t,e)}supportedStates(t,e,s){return this.wpcom.req.get(l+"supported-states/"+t,e,s)}}let h="/plans";class m{constructor(t){if(!(this instanceof m))return new m(t);this.wpcom=t}list(t,e){return this.wpcom.req.get(h,t,e)}features(t,e){return this.wpcom.req.get(`${h}/features`,t,e)}}function f(t,e,s){if(!e)throw Error("`site id` is not correctly defined");if(!(this instanceof f))return new f(t,e,s);this.wpcom=s,this._sid=e,this._slug=t}function w(t,e,s,o){if(!s)throw Error("`site id` is not correctly defined");if(!(this instanceof w))return new w(t,e,s,o);this.wpcom=o,this._cid=t,this._pid=e,this._sid=s}f.prototype.slug=function(t){this._slug=t},f.prototype.get=function(t,e){let s="/sites/"+this._sid+"/categories/slug:"+this._slug;return this.wpcom.req.get(s,t,e)},f.prototype.add=function(t,e,s){let o="/sites/"+this._sid+"/categories/new";return this.wpcom.req.post(o,t,e,s)},f.prototype.update=function(t,e,s){let o="/sites/"+this._sid+"/categories/slug:"+this._slug;return this.wpcom.req.put(o,t,e,s)},f.prototype.delete=f.prototype.del=function(t,e){let s="/sites/"+this._sid+"/categories/slug:"+this._slug+"/delete";return this.wpcom.req.del(s,t,e)},w.prototype.get=function(t,e){let s="/sites/"+this._sid+"/comments/"+this._cid;return this.wpcom.req.get(s,t,e)},w.prototype.replies=function(t,e){let s="/sites/"+this._sid+"/posts/"+this._pid+"/replies/";return this.wpcom.req.get(s,t,e)},w.prototype.add=function(t,e,s){void 0===s&&(void 0===e?(e=t,t={}):"function"==typeof e&&(s=e,e=t,t={})),e="string"==typeof e?{content:e}:e;let o="/sites/"+this._sid+"/posts/"+this._pid+"/replies/new";return this.wpcom.req.post(o,t,e,s)},w.prototype.update=function(t,e,s){"function"==typeof e&&(s=e,e=t,t={}),e="string"==typeof e?{content:e}:e;let o="/sites/"+this._sid+"/comments/"+this._cid;return this.wpcom.req.put(o,t,e,s)},w.prototype.reply=function(t,e,s){"function"==typeof e&&(s=e,e=t,t={}),e="string"==typeof e?{content:e}:e;let o="/sites/"+this._sid+"/comments/"+this._cid+"/replies/new";return this.wpcom.req.post(o,t,e,s)},w.prototype.del=w.prototype.delete=function(t,e){let s="/sites/"+this._sid+"/comments/"+this._cid+"/delete";return this.wpcom.req.del(s,t,e)};class g{constructor(t,e){if(!(this instanceof g))return new g(t,e);this._sid=t,this.path=`/sites/${this._sid}/domains`,this.wpcom=e}getPrimary(t,e){return this.wpcom.req.get(`${this.path}/primary`,t,e)}setPrimary(t,e){return this.wpcom.req.put(`${this.path}/primary`,{},{domain:t},e)}getRedirect(t,e){return this.wpcom.req.get(`${this.path}/redirect`,t,e)}setRedirect(t,e){return"string"==typeof t&&(t={location:t}),this.wpcom.req.put(`${this.path}/redirect`,{},t,e)}}function y(t,e){if(!t)throw Error("`site id` is not correctly defined");if(!(this instanceof y))return new y(t,e);this.wpcom=e,this._sid=t}y.prototype.mine=y.prototype.state=function(t,e){let s="/sites/"+this._sid+"/follows/mine";return this.wpcom.req.get(s,t,e)},y.prototype.follow=y.prototype.add=function(t,e){let s="/sites/"+this._sid+"/follows/new";return this.wpcom.req.put(s,t,null,e)},y.prototype.unfollow=y.prototype.del=function(t,e){let s="/sites/"+this._sid+"/follows/mine/delete";return this.wpcom.req.del(s,t,null,e)};var _=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),b=s("../node_modules/tus-js-client/lib.esm/browser/index.js");class v{constructor(t,e){(0,_.A)(this,"createGetJwtRequest",t=>{let e={path:"/sites/"+this._sid+"/media/videopress-upload-jwt",apiNamespace:"wpcom/v2"};return t&&(e.key=t),this.wpcom.req.post(e,{},null,null)}),(0,_.A)(this,"startUpload",t=>{let e=t[0];return new Promise((t,s)=>{let o=this.resumableUploader({onError:t=>s(t),onSuccess:e=>{new j(e.mediaId,this._sid,this.wpcom).get().then(e=>t({media:[e]})).catch(t=>s(t))},onProgress:(t,s)=>{let o=new CustomEvent("tus-upload-progress",{detail:{fileName:e.name,progress:t/s*100}});document.dispatchEvent(o)}});return this.createGetJwtRequest().then(t=>o(e,t))})}),(0,_.A)(this,"resumableUploader",({onError:t,onProgress:e,onSuccess:s})=>{let o={};return(i,r)=>{let n=new b._O(i,{onError:t,onProgress:e,endpoint:"https://web.archive.org/web/20250609141521/https://public-api.wordpress.com/rest/v1.1/video-uploads/"+this._sid+"/",removeFingerprintOnSuccess:!0,withCredentials:!1,autoRetry:!0,overridePatchMethod:!1,chunkSize:1e7,allowedFileTypes:["video/*"],metadata:{filename:i.name,filetype:i.type},retryDelays:[0,1e3,3e3,5e3,1e4],onAfterResponse:(t,e)=>{if(e.getStatus()>=400)return;let i=e.getHeader("x-videopress-upload-guid"),r=e.getHeader("x-videopress-upload-media-id"),n=e.getHeader("x-videopress-upload-src-url");if(i&&r&&n){s&&s({mediaId:Number(r),guid:i,src:n});return}let a={"x-videopress-upload-key-token":"token","x-videopress-upload-key":"key"},c={};Object.keys(a).forEach(function(t){let s=e.getHeader(t);s&&(c[a[t]]=s)}),c.key&&c.token&&(o[c.key]=c.token)},onBeforeRequest:t=>{let e=t._method;if(["HEAD","OPTIONS"].indexOf(e)>=0&&(t._method="GET",t.setHeader("X-HTTP-Method-Override",e)),["DELETE","PUT","PATCH"].indexOf(e)>=0&&(t._method="POST",t.setHeader("X-HTTP-Method-Override",e)),t._xhr.open(t._method,t._url,!0),Object.keys(t._headers).map(function(e){t.setHeader(e,t._headers[e])}),"POST"===e)if(r.upload_token)t.setHeader("x-videopress-upload-token",r.upload_token);else throw"should never happen";if(["OPTIONS","GET","HEAD","DELETE","PUT","PATCH"].indexOf(e)>=0){let s=new URL(t._url).pathname.split("/"),i=s[s.length-1];if(o[i])t.setHeader("x-videopress-upload-token",o[i]);else if("HEAD"===e)return this.createGetJwtRequest(i).then(e=>(o[i]=e.token,t.setHeader("x-videopress-upload-token",e.token),t))}return Promise.resolve(t)}});return n.findPreviousUploads().then(function(t){t.length&&n.resumeFromPreviousUpload(t[0]),n.start()}),n}}),this.wpcom=t,this._sid=e}}function q(){throw Error("Cannot call fs functions within the browser")}let k=r()("wpcom:media");function j(t,e,s){if(!(this instanceof j))return new j(t,e,s);this.wpcom=s,this._sid=e,this._id=t,this._id||k("WARN: media `id` is not defined")}j.prototype.get=function(t={},e){t.apiVersion=t.apiVersion||"1.2";let s="/sites/"+this._sid+"/media/"+this._id;return this.wpcom.req.get(s,t,e)},j.prototype.update=function(t,e,s){let o={path:"/sites/"+this._sid+"/media/"+this._id};return this.wpcom.req.put(o,t,e,s)},j.prototype.edit=function(t,e,s){"function"!=typeof e&&e||(s=e,e=t,t={});let o={path:"/sites/"+this._sid+"/media/"+this._id+"/edit"};if(e&&e.media){for(let t in o.formData=[["media",e.media]],delete e.media,e)o.formData.push([`attrs[${t}]`,e[t]]);e=null}return this.wpcom.req.put(o,t,e,s)},j.prototype.addFiles=function(t,e,s){void 0===s&&(void 0===e?(e=t,t={}):"function"==typeof e&&(s=e,e=t,t={})),Array.isArray(e)||(e=[e]);let o=this.filterFilesUploadableOnVideoPress(e);if(o.length)return new v(this.wpcom,this._sid).startUpload(o);let i={path:"/sites/"+this._sid+"/media/new",formData:function(t){let e,s,o,i,r=[];for(e=0,t=Array.isArray(t)?t:[t];e<t.length;e++){"string"==typeof(s=t[e])&&(s=q(s));let n=!!s._readableState,a="undefined"!=typeof File&&s instanceof File;if(k("isStream: %s",n),k("isFile: %s",a),!a&&!n){for(o in s)k("add %o => %o",o,s[o]),"file"!==o&&(i="attrs["+e+"]["+o+"]",r.push([i,s[o]]));"string"==typeof(s=s.file)&&(s=q(s))}r.push(["media[]",s])}return r}(e)};return this.wpcom.req.post(i,t,null,s)},j.prototype.filterFilesUploadableOnVideoPress=function(t){return t.filter(t=>this.fileCanBeUploadedOnVideoPress(t))},j.prototype.fileCanBeUploadedOnVideoPress=function(t){return!!t.canUseVideoPress&&!!t.type&&t.type.startsWith("video/")},j.prototype.addUrls=function(t,e,s){let o,i,r,n;void 0===s&&(void 0===e?(e=t,t={}):"function"==typeof e&&(s=e,e=t,t={}));let a="/sites/"+this._sid+"/media/new",c={media_urls:[]};for(o=0,e=Array.isArray(e)?e:[e];o<e.length;o++){if("string"==typeof(i=e[o]))r=i;else{for(n in c.attrs||(c.attrs=[]),c.attrs[o]={},i)"url"!==n&&(c.attrs[o][n]=i[n]);r=i.url}c.media_urls.push(r)}return this.wpcom.req.post(a,t,c,s)},j.prototype.delete=j.prototype.del=function(t,e){let s="/sites/"+this._sid+"/media/"+this._id+"/delete";return this.wpcom.req.del(s,t,e)};let x="/sites";class P{constructor(t,e,s){if(!(this instanceof P))return new P(t,e,s);if(!t)throw Error("`slug` is not correctly defined");this._slug=encodeURIComponent(t),this._sid=e,this.wpcom=s;let o=`${x}/${this._sid}/plugins`;this.pluginPath=`${o}/${this._slug}`}get(t,e){return this.wpcom.req.get(this.pluginPath,t,e)}update(t,e,s){return this.wpcom.req.put(this.pluginPath,t,e,s)}updateVersion(t,e){return this.wpcom.req.put(`${this.pluginPath}/update`,t,e)}install(t,e){let s={slug:this._slug};return this.wpcom.req.post(`${x}/${this._sid}/plugins/install`,t,s,e)}delete(t,e){return this.wpcom.req.put(`${this.pluginPath}/delete`,t,e)}activate(t,e){return this.update(t,{active:!0},e)}deactivate(t,e){return this.update(t,{active:!1},e)}enableAutoupdate(t,e){return this.update(t,{autoupdate:!0},e)}disableAutoupdate(t,e){return this.update(t,{autoupdate:!1},e)}}let E=r()("wpcom:post");class A{constructor(t,e,s){if(!(this instanceof A))return new A(t,e,s);this.wpcom=s,this._sid=e,this.path=`/sites/${this._sid}/posts`,"object"!=typeof(t=t||{})?this._id=t:(this._id=t.id,this._slug=t.slug)}id(t){this._id=t}slug(t){this._slug=t}getPostPath(){return`${this.path}/${this._id}`}get(t,e){return!this._id&&this._slug?this.getBySlug(t,e):this.wpcom.req.get(this.getPostPath(),t,e)}getBySlug(t,e){return this.wpcom.req.get(`${this.path}/slug:${this._slug}`,t,e)}add(t,e,s){return void 0===s&&(void 0===e?(e=t,t={}):"function"==typeof e&&(s=e,e=t,t={})),this.wpcom.req.post(`${this.path}/new`,t,e).then(t=>{if(this._id=t.ID,E("Set post _id: %s",this._id),this._slug=t.slug,E("Set post _slug: %s",this._slug),"function"!=typeof s)return Promise.resolve(t);s(null,t)}).catch(t=>{if("function"!=typeof s)return Promise.reject(t);s(t)})}update(t,e,s){return this.wpcom.req.put(this.getPostPath(),t,e,s)}delete(t,e){let s=`${this.getPostPath()}/delete`;return this.wpcom.req.del(s,t,e)}del(t,e){return this.delete(t,e)}restore(t,e){return this.wpcom.req.put(`${this.getPostPath()}/restore`,t,null,e)}comment(t){return new w(t,this._id,this._sid,this.wpcom)}comments(t,e){return new w(null,this._id,this._sid,this.wpcom).replies(t,e)}}class S{constructor(t,e,s){if(!e)throw TypeError("`siteId` is not correctly defined");if(!t)throw TypeError("`postType` is not correctly defined");if(!(this instanceof S))return new S(t,e,s);this.wpcom=s,this._siteId=encodeURIComponent(e),this._postType=encodeURIComponent(t),this._rootPath=`/sites/${this._siteId}/post-types/${this._postType}`}taxonomiesList(t,e){let s=`${this._rootPath}/taxonomies`;return this.wpcom.req.get(s,t,e)}}class ${constructor(t,e){if(!t)throw Error("`site id` is not correctly defined");if(!(this instanceof $))return new $(t,e);this.wpcom=e,this._sid=t,this.path=`/sites/${this._sid}/settings`}get(t,e){return this.wpcom.req.get(this.path,t,e)}getOption(t,e=()=>{}){let s={fields:"settings"};return new Promise((o,i)=>{this.wpcom.req.get(this.path,s,(s,r)=>{if(s)return e(s),i(s);if(!r)return e(),o();let n=r.settings;return n&&void 0!==n[t]?(e(null,n[t]),o(n[t])):(e(null,r),o(r))})})}update(t,e,s){return this.wpcom.req.put(this.path,t,e,s)}setOption(t,e,s){return this.wpcom.req.put(this.path,{},{[t]:e},s)}}function I(t,e,s){if(!e)throw Error("`site id` is not correctly defined");if(!(this instanceof I))return new I(t,e,s);this.wpcom=s,this._sid=e,this._slug=t}I.prototype.slug=function(t){this._slug=t},I.prototype.get=function(t,e){let s="/sites/"+this._sid+"/tags/slug:"+this._slug;return this.wpcom.req.get(s,t,e)},I.prototype.add=function(t,e,s){let o="/sites/"+this._sid+"/tags/new";return this.wpcom.req.post(o,t,e,s)},I.prototype.update=function(t,e,s){let o="/sites/"+this._sid+"/tags/slug:"+this._slug;return this.wpcom.req.put(o,t,e,s)},I.prototype.delete=I.prototype.del=function(t,e){let s="/sites/"+this._sid+"/tags/slug:"+this._slug+"/delete";return this.wpcom.req.del(s,t,e)};class C{constructor(t,e,s,o){if(!s)throw TypeError("`siteId` is not correctly defined");if(!e)throw TypeError("`taxonomy` is not correctly defined");if(!(this instanceof C))return new C(t,e,s,o);this.wpcom=o,this._siteId=encodeURIComponent(s),this._taxonomy=encodeURIComponent(e),this._term=encodeURIComponent(t),this._taxonomyPath=`/sites/${this._siteId}/taxonomies/${this._taxonomy}/terms`}get(t,e){if(!this._term)throw Error("`term` is not correctly defined");"function"==typeof t&&(e=t,t={});let s=`${this._taxonomyPath}/slug:${this._term}`;return this.wpcom.req.get(s,t,e)}add(t,e){if(!t||!t.name)throw Error("`params.name` is not correctly defined");let s=`${this._taxonomyPath}/new`;return this.wpcom.req.post(s,t,e)}delete(t){if(!this._term)throw Error("`term` is not correctly defined");let e=`${this._taxonomyPath}/slug:${this._term}/delete`;return this.wpcom.req.del(e,t)}update(t,e){if(!this._term)throw Error("`term` is not correctly defined");let s=`${this._taxonomyPath}/slug:${this._term}`;return this.wpcom.req.put(s,t,e)}}class O{constructor(t,e,s){if(!e)throw TypeError("`siteId` is not correctly defined");if(!t)throw TypeError("`taxonomy` is not correctly defined");if(!(this instanceof O))return new O(t,e,s);this.wpcom=s,this._siteId=encodeURIComponent(e),this._taxonomy=encodeURIComponent(t),this._rootPath=`/sites/${this._siteId}/taxonomies/${this._taxonomy}`}termsList(t,e){let s=`${this._rootPath}/terms`;return this.wpcom.req.get(s,t,e)}term(t){return new C(t,this._taxonomy,this._siteId,this.wpcom)}}function U(t,e){if(!(this instanceof U))return new U(t,e);this._sid=t,this.wpcom=e}function R(t,e){if(!(this instanceof R))return new R(t,e);this._sid=t,this.wpcom=e}function T(t,e){if(!(this instanceof T))return new T(t,e);this._sid=t,this.wpcom=e}function D(t,e){if(!(this instanceof D))return new D(t,e);this._sid=t,this.wpcom=e}U.prototype.get=function(t,e){return this.wpcom.req.get("/sites/"+this._sid+"/wordads/earnings",t,e)},R.prototype.get=function(t,e){return this.wpcom.req.get("/sites/"+this._sid+"/wordads/settings",t,e)},R.prototype.update=function(t,e,s){let o="/sites/"+this._sid+"/wordads/settings";return this.wpcom.req.post(o,t,e,s)},T.prototype.get=function(t,e){return this.wpcom.req.get("/sites/"+this._sid+"/wordads/tos",t,e)},T.prototype.update=function(t,e,s){let o="/sites/"+this._sid+"/wordads/tos";return this.wpcom.req.post(o,t,e,s)},T.prototype.sign=function(t,e){let s="/sites/"+this._sid+"/wordads/tos";return this.wpcom.req.post(s,t,{tos:"signed"},e)},D.prototype.settings=function(){return new R(this._sid,this.wpcom)},D.prototype.earnings=function(){return new U(this._sid,this.wpcom)},D.prototype.tos=function(){return new T(this._sid,this.wpcom)};class L{constructor(t,e,s){if(!(this instanceof L))return new L(t,e,s);if(!t)throw Error("`slug` is not correctly defined");this._slug=encodeURIComponent(t),this._sid=e,this.wpcom=s;let o=`/sites/${this._sid}/wpcom-plugins`;this.pluginPath=`${o}/${this._slug}`}update(t,e,s){return this.wpcom.req.put(this.pluginPath,t,e,s)}activate(t,e){return this.update(t,{active:!0},e)}deactivate(t,e){return this.update(t,{active:!1},e)}}let N=r()("wpcom:runtime"),F=(t,e)=>function(s,o){let i=e(t,this);return this.wpcom.req.get(i,s,o)},B=r()("wpcom:site");class V{constructor(t,e){if(!(this instanceof V))return new V(t,e);this.wpcom=e,B("set %o site id",t),this._id=encodeURIComponent(t),this.path=`/sites/${this._id}`}get(t,e){return this.wpcom.req.get(this.path,t,e)}post(t){return new A(t,this._id,this.wpcom)}addPost(t,e){return new A(null,this._id,this.wpcom).add(t,e)}deletePost(t,e){return new A(t,this._id,this.wpcom).delete(e)}media(t){return new j(t,this._id,this.wpcom)}addMediaFiles(t,e,s){return new j(null,this._id,this.wpcom).addFiles(t,e,s)}addMediaUrls(t,e,s){return new j(null,this._id,this.wpcom).addUrls(t,e,s)}deleteMedia(t,e){return new j(t,this._id,this.wpcom).del(e)}comment(t){return new w(t,null,this._id,this.wpcom)}follow(){return new y(this._id,this.wpcom)}plugin(t){return new P(t,this._id,this.wpcom)}wpcomPlugin(t){return new L(t,this._id,this.wpcom)}category(t){return new f(t,this._id,this.wpcom)}tag(t){return new I(t,this._id,this.wpcom)}taxonomy(t){return new O(t,this._id,this.wpcom)}postType(t){return new S(t,this._id,this.wpcom)}settings(){return new $(this._id,this.wpcom)}domain(){return new g(this._id,this.wpcom)}postCounts(t="post",e,s){return"function"==typeof e&&(s=e,e={}),this.wpcom.req.get(`${this.path}/post-counts/${t}`,e,s)}renderShortcode(t,e,s){if("string"!=typeof t)throw TypeError("expected a url String");return"function"==typeof e&&(s=e,e={}),(e=e||{}).shortcode=t,this.wpcom.req.get(`${this.path}/shortcodes/render`,e,s)}renderEmbed(t,e,s){if("string"!=typeof t)throw TypeError("expected an embed String");return"function"==typeof e&&(s=e,e={}),(e=e||{}).embed_url=t,this.wpcom.req.get(`${this.path}/embeds/render`,e,s)}statsReferrersSpamNew(t,e){let s=`${this.path}/stats/referrers/spam/new`;return this.wpcom.req.post(s,{domain:t},null,e)}statsReferrersSpamDelete(t,e){let s=`${this.path}/stats/referrers/spam/delete`;return this.wpcom.req.post(s,{domain:t},null,e)}statsVideo(t,e,s){let o=`${this.path}/stats/video/${t}`;return"function"==typeof e&&(s=e,e={}),this.wpcom.req.get(o,e,s)}statsPostViews(t,e,s){let o=`${this.path}/stats/post/${t}`;return"function"==typeof e&&(s=e,e={}),this.wpcom.req.get(o,e,s)}emailStatsForPeriod(t,e,s,o){let i=`${this.path}/stats/${e}/emails/${t}`;return Promise.all(["timeline"].map(t=>this.wpcom.req.get(i,{...s,stats_fields:t},o))).then(t=>t.reduce((t,e)=>({...t,...e}),{}))}emailStatsAlltime(t,e,s){let o=`${this.path}/stats/${e}/emails/${t}`,i=["client","device","country","rate"];return"clicks"===e&&(i.push("link"),i.push("user-content-link")),Promise.all(i.map(t=>this.wpcom.req.get(`${o}/${t}`,s))).then(t=>t.reduce((t,e)=>({...t,...e}),{}))}wordAds(){return new D(this._id,this.wpcom)}}function M(t){if(!(this instanceof M))return new M(t);this.wpcom=t}o=(t,e)=>`/sites/${e._id}/${t.subpath}`,[{name:"categoriesList",subpath:"categories"},{name:"commentsList",subpath:"comments"},{name:"domainsList",subpath:"domains"},{name:"embedsList",subpath:"embeds"},{name:"followsList",subpath:"follows"},{name:"mediaList",subpath:"media"},{name:"pageTemplates",subpath:"page-templates"},{name:"pluginsList",subpath:"plugins"},{name:"postsList",subpath:"posts"},{name:"postTypesList",subpath:"post-types"},{name:"shortcodesList",subpath:"shortcodes"},{name:"stats",subpath:"stats"},{name:"statsClicks",subpath:"stats/clicks"},{name:"statsCommentFollowers",subpath:"stats/comment-followers"},{name:"statsComments",subpath:"stats/comments"},{name:"statsCountryViews",subpath:"stats/country-views"},{name:"statsFollowers",subpath:"stats/followers"},{name:"statsInsights",subpath:"stats/insights"},{name:"statsPublicize",subpath:"stats/publicize"},{name:"statsReferrers",subpath:"stats/referrers"},{name:"statsSearchTerms",subpath:"stats/search-terms"},{name:"statsStreak",subpath:"stats/streak"},{name:"statsSummary",subpath:"stats/summary"},{name:"statsTags",subpath:"stats/tags"},{name:"statsTopAuthors",subpath:"stats/top-authors"},{name:"statsTopPosts",subpath:"stats/top-posts"},{name:"statsArchives",subpath:"stats/archives"},{name:"statsVideoPlays",subpath:"stats/video-plays"},{name:"statsVisits",subpath:"stats/visits"},{name:"tagsList",subpath:"tags"},{name:"usersList",subpath:"users"},{name:"wpcomPluginsList",subpath:"wpcom-plugins"}].forEach(t=>{N("Adding %o",(t="object"==typeof t?t:{name:t}).name),V.prototype[t.name]=F(t,o)}),M.prototype.suggest=function(t,e){return this.wpcom.req.get("/users/suggest",t,e)};let z=r()("wpcom:pinghub");function H(t){if(!(this instanceof H))return new H(t);this.wpcom=t,this.conns={}}H.prototype.connect=function(t,e){z("connect",t,e);let s=this,o=this.conns[t]=this.wpcom.req.get({action:"connect",path:"/pinghub"+t},function(){});o.onload=function(s){z("onload",t,s),e(null,s)},o.onerror=o.onabort=o.onclose=function(o){z("onerror",t,o),s.remove(t),e(o,null)}},H.prototype.disconnect=function(t){z("disconnect",t),this.wpcom.req.get({action:"disconnect",path:"/pinghub"+t},function(){})},H.prototype.remove=function(t){z("remove",t),delete this.conns[t]};var W=s("../node_modules/qs/lib/index.js"),G=s.n(W);let J=r()("wpcom:send-request"),X=r()("wpcom:send-request:res");function K(t,e,s,o){return(J("sendRequest(%o )",(t="string"==typeof t?{path:t}:t).path),t.method=(t.method||"get").toUpperCase(),(e=e||{}).apiVersion&&(t.apiVersion=e.apiVersion,J("apiVersion: %o",t.apiVersion),delete e.apiVersion),t.apiVersion||(t.apiVersion=this.apiVersion),e.apiNamespace&&(t.apiNamespace=e.apiNamespace,J("apiNamespace: %o",t.apiNamespace),delete e.apiNamespace),e.proxyOrigin&&(t.proxyOrigin=e.proxyOrigin,J("proxyOrigin: %o",t.proxyOrigin),delete e.proxyOrigin),t.query=G().stringify(e,{arrayFormat:"brackets"}),s&&(t.body=s),this.token&&(t.token=this.token),J("params: %o",t),"function"==typeof o)?this.request(t,function(t,e,s){X(e),o(t,e,s)}):new Promise((e,s)=>{this.request(t,(t,o)=>{X(o),t?s(t):e(o)})})}function Y(t){this.wpcom=t}Y.prototype.get=function(t,e,s){return"function"==typeof e&&(s=e,e={}),K.call(this.wpcom,t,e,null,s)},Y.prototype.post=Y.prototype.put=function(t,e,s,o){return void 0===o&&(void 0===s?("function"==typeof e?(o=e,s=null):s=e,e={}):"function"==typeof s&&(o=s,s=e,e={})),(t="string"==typeof t?{path:t}:t).method=t.method||"post",K.call(this.wpcom,t,e,s,o)},Y.prototype.del=function(t,e,s){return"function"==typeof e&&(s=e,e={}),this.post(t,e,null,s)};let Q=r()("wpcom");function Z(t,e){if(!(this instanceof Z))return new Z(t,e);"function"==typeof t&&(e=t,t=null),t&&(Q("Token defined: %sâ€¦",t.substring(0,6)),this.token=t),this.request=e||((t,e)=>{Q("No request handler. Failing."),e(Error("No request handler provided"))}),this.req=new Y(this),this.pinghub=new H(this),this.apiVersion="1.1"}Z.prototype.loadToken=function(t){this.token=t},Z.prototype.isTokenLoaded=function(){return void 0!==this.token},Z.prototype.domains=function(){return new d(this)},Z.prototype.domain=function(t){return new u(t,this)},Z.prototype.site=function(t){return new V(t,this)},Z.prototype.users=function(){return new M(this)},Z.prototype.plans=function(){return new m(this)},Z.prototype.batch=function(){return new n(this)},Z.prototype.freshlyPressed=function(t,e){return this.req.get("/freshly-pressed",t,e)},Z.Batch=n,Z.Domain=u,Z.Domains=d,Z.Pinghub=H,Z.Plans=m,Z.Request=Y,Z.Site=V,Z.Users=M},"./lib/analytics/mc.js":(t,e,s)=>{"use strict";s.d(e,{d:()=>a,v:()=>n});var o=s("../packages/calypso-config/src/index.ts"),i=s("../node_modules/debug/src/browser.js");let r=s.n(i)()("calypso:analytics:mc");function n(t,e){if("object"==typeof t?r("Bumping stats %o",t):r("Bumping stat %s:%s",t,e),(0,o.Ay)("mc_analytics_enabled")){let s=function(t,e){let s="";if("object"==typeof t)for(let e in t)s+="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(t[e]);else s="&x_"+encodeURIComponent(t)+"="+encodeURIComponent(e);return s}(t,e);new window.Image().src=document.location.protocol+"//web.archive.org/web/20250609141521/https://pixel.wp.com/g.gif?v=wpcom-no-pv"+s+"&t="+Math.random()}}function a(t,e){if("object"==typeof t?r("Bumping page view with props %o",t):r("Bumping page view %s:%s",t,e),(0,o.Ay)("mc_analytics_enabled")){let s=function(t,e){let s="";if("object"==typeof t)for(let e in t)s+="&"+encodeURIComponent(e)+"="+encodeURIComponent(t[e]);else s="&"+encodeURIComponent(t)+"="+encodeURIComponent(e);return s}(t,e);new window.Image().src=document.location.protocol+"//web.archive.org/web/20250609141521/https://pixel.wp.com/g.gif?v=wpcom"+s+"&t="+Math.random()}}},"./lib/browser-storage/index.ts":(t,e,s)=>{"use strict";s.d(e,{tS:()=>I,N1:()=>R,DW:()=>O,Rf:()=>C,NT:()=>U});var o=s("../packages/calypso-config/src/index.ts"),i=s("../node_modules/debug/src/browser.js"),r=s.n(i),n=s("../node_modules/lodash-es/kebabCase.js"),a=s("./lib/analytics/mc.js"),c=s("./lib/memoize-last/index.ts");let p=r()("calypso:support-user"),u=new Map;async function l(t){return(p("browser-storage bypass","getAllStoredItems"),t)?Object.fromEntries(Array.from(u.entries()).filter(([e])=>t.test(e))):Object.fromEntries(u.entries())}async function d(t){if(p("browser-storage bypass","getStoredItem",t),u.has(t))return u.get(t)}async function h(t,e){p("browser-storage bypass","setStoredItem",t),u.set(t,e)}async function m(){p("browser-storage bypass","clearStorage"),u.clear()}let f=r()("calypso:browser-storage"),w=!1,g=!1,y="calypso",_="calypso_store",b="browser-storage-sanity-test",v=o.Ay.isEnabled("safari-idb-mitigation")&&!!window.IDBKeyRange?.lowerBound(0).includes&&!!window.webkitAudioContext&&!!window.PointerEvent;f("Safari IDB mitigation active: %s",v);let q=(0,c.O)(async()=>{if(!window.indexedDB)return f("IDB not found in host"),!1;if(g)return f("IDB disabled"),!1;try{let t=Date.now().toString();return await A(b,t),await j(b),!0}catch{return!1}}),k=(0,c.O)(()=>{let t=window.indexedDB.open(y,2);return new Promise((e,s)=>{try{t&&(t.onerror=e=>{t.error&&"InvalidStateError"===t.error.name&&e.preventDefault(),s(t.error)},t.onsuccess=()=>{let s=t.result;s.onerror=function(t){f("IDB Error",t),t.target?.error?.name&&((0,a.v)("calypso-browser-storage",(0,n.A)(t.target.error.name)),"QuotaExceededError"===t.target.error.name&&(g=!0,q.clear(),f("disabling IDB because we saw a QuotaExceededError")))},s.onversionchange=()=>{s.close()},e(s)},t.onupgradeneeded=()=>t.result.createObjectStore(_))}catch(t){s(t)}})});function j(t){return new Promise((e,s)=>{k().then(o=>{let i=o.transaction(_,"readonly"),r=i.objectStore(_).get(t),n=()=>s(i.error);i.oncomplete=()=>e(r.result),i.onabort=n,i.onerror=n}).catch(t=>s(t))})}function x(t){return k().then(e=>new Promise((s,o)=>{let i={},r=e.transaction(_,"readonly"),n=r.objectStore(_).openCursor(),a=()=>o(r.error);n.onsuccess=e=>{let o=e.target.result;if(o){let{primaryKey:e,value:s}=o;e&&"string"==typeof e&&e!==b&&(!t||t.test(e))&&(i[e]=s),o.continue()}else s(i)},r.onabort=a,r.onerror=a}))}let P=0,E=null;async function A(t,e){return E&&await E,v&&++P%20==0&&await S(),new Promise((s,o)=>{k().then(async i=>{let r=i.transaction(_,"readwrite");r.objectStore(_).put(e,t);let n=()=>o(r.error);r.oncomplete=()=>s(),r.onabort=n,r.onerror=n}).catch(t=>o(t))})}async function S(){return E||(f("performing safari idb mitigation"),(E=$()).finally(()=>{E=null,f("idb mitigation complete")})),E}async function $(){let t=await x();return await new Promise((t,e)=>{let s=window.indexedDB.deleteDatabase(y);s.onsuccess=()=>{k.clear(),t()},s.onerror=t=>e(t)}),new Promise((e,s)=>{k().then(o=>{let i=o.transaction(_,"readwrite"),r=i.objectStore(_);for(let[e,s]of Object.entries(t))r.put(s,e);let n=()=>s(i.error);i.oncomplete=()=>e(),i.onabort=n,i.onerror=n},t=>s(t))})}function I(t){(w=t)&&u.clear()}async function C(t){if(w)return await d(t);if(!await q())try{let e=window.localStorage.getItem(t);if(null==e)return;return JSON.parse(e)}catch{return}return await j(t)}async function O(t){if(w)return await l(t);if(!await q())try{let e=Object.entries(window.localStorage).map(([t,e])=>[t,void 0!==e?JSON.parse(e):void 0]);if(!t)return Object.fromEntries(e);return Object.fromEntries(e.filter(([e])=>t.test(e)))}catch{return{}}return await x(t)}async function U(t,e){if(w)return await h(t,e);if(!await q()){try{window.localStorage.setItem(t,JSON.stringify(e))}catch{}return}return await A(t,e)}async function R(){if(w)return await m();if(!await q()){try{window.localStorage.clear()}catch{}return}return await new Promise((t,e)=>{k().then(s=>{let o=s.transaction(_,"readwrite");o.objectStore(_).clear();let i=()=>e(o.error);o.oncomplete=()=>t(),o.onabort=i,o.onerror=i}).catch(t=>e(t))})}},"./lib/memoize-last/index.ts":(t,e,s)=>{"use strict";function o(t){let e,s,o=(...o)=>(e&&o.length===e.length&&o.every((t,s)=>t===e[s])||(e=o,s=t(...o)),s);return o.clear=()=>{e=void 0,s=void 0},o}function i(t){if(0!==t.length)throw Error("memoize-last: The `once` method expects a function with no arguments.");return o(t)}s.d(e,{A:()=>o,O:()=>i})},"./lib/user/shared-utils/get-logout-url.js":(t,e,s)=>{"use strict";s.d(e,{G:()=>i});var o=s("../packages/calypso-config/src/index.ts");function i(t,e){let s,i="";return!t?.logout_URL||o.Ay.isEnabled("always_use_logout_url")?(t?.localeSlug&&""!==t.localeSlug&&"en"!==t.localeSlug&&(i=t.localeSlug+"."),s=(0,o.Ay)("logout_url").replace("|subdomain|",i)):s=t.logout_URL,"string"==typeof e&&(s+=e="&redirect_to="+encodeURIComponent(e)),s}},"./lib/user/store.js":(t,e,s)=>{"use strict";s.d(e,{bC:()=>n,bq:()=>l,cq:()=>c,iT:()=>a,qd:()=>u});var o=s("../node_modules/store/dist/store.modern.js"),i=s.n(o),r=s("./lib/browser-storage/index.ts");async function n(){i().clearAll(),await (0,r.N1)()}function a(){return i().get("wpcom_user_id")}function c(t){return i().set("wpcom_user_id",t)}let p=[];function u(){for(let t of p)t()}function l(t){p.push(t)}},"./lib/wp/browser.js":(t,e,s)=>{"use strict";let o,i;s.d(e,{A:()=>P,N:()=>E});var r=s("../packages/calypso-config/src/index.ts"),n=s("../packages/oauth-token/src/index.js"),a=s("../node_modules/debug/src/browser.js"),c=s.n(a),p=s("../packages/wpcom.js/src/index.js"),u=s("../packages/wpcom-proxy-request/src/index.js"),l=s("../node_modules/qs/lib/index.js"),d=s("./lib/user/shared-utils/get-logout-url.js"),h=s("./lib/user/store.js");let m=["jetpack/v4","my-jetpack/v1","jetpack/v4/blaze-app"];async function f(t,e){return(0,(await s.e(44568).then(s.bind(s,"../packages/wpcom-xhr-request/src/index.js"))).default)(t,async function(t,s,o){t&&"InvalidTokenError"===t.name&&(await (0,h.bC)(),window.location.href=(0,d.G)()),e(t,s,o)})}async function w(t,e){return(0,(await s.e(44568).then(s.bind(s,"../packages/wpcom-xhr-request/src/index.js"))).default)(t={...t,proxyOrigin:(0,r.Ay)("api_root"),headers:{"X-WP-Nonce":(0,r.Ay)("nonce")},isRestAPI:!1,apiNamespace:m.includes(t.apiNamespace)||t.isLocalApiCall?t.apiNamespace:"jetpack/v4/stats-app"},async function(t,s,o){t&&"InvalidTokenError"===t.name&&await (0,h.bC)(),e(t,s,o)})}var g=s("../node_modules/@fingerprintjs/fingerprintjs/dist/fp.esm.js");async function y(){let t=await (0,g.Hh)({monitoring:!1});o=(await t.get()).visitorId}"loading"!==document.readyState?y():document.addEventListener("DOMContentLoaded",y);var _=s("../node_modules/store/dist/store.modern.js"),b=s.n(_);let v="guest_sandbox_ticket",q=()=>b().get(v),k=()=>{let t=q();t&&t.createdDate<Date.now()-72e5&&b().remove(v)};(()=>{k();let t=(0,l.parse)(window.location.search.replace("?",""));t.guest_ticket&&b().set(v,{createdDate:Date.now(),value:t.guest_ticket})})();var j=s("../node_modules/@wordpress/i18n/build-module/index.js");let x=c()("calypso:wp");r.Ay.isEnabled("oauth")?i=new p.A(n.gf(),f):r.Ay.isEnabled("is_running_in_jetpack_site")?i=new p.A(w):(i=new p.A(u.Ay)).request({metaAPI:{accessAllUsersBlogs:!0}},function(t){if(t)throw t;x('Proxy now running in "access all user\'s blogs" mode')}),!function(t){let e=t.request.bind(t);Object.assign(t,{localized:!0,request:function(t,s){return e(function(t){let e,s=(0,j.XN)(),o=s?.[""]?.localeVariant||s?.[""]?.localeSlug;if(!o||"en"===o)return t;let i=(0,l.parse)(t.query,{depth:10});return e=t.apiNamespace?{_locale:o}:{locale:o},Object.assign(t,{query:(0,l.stringify)(Object.assign(e,i),{arrayFormat:"brackets"})})}(t),s)}})}(i=function(t){let e="",s="",o=null,i=function(t){let o=(0,l.parse)(t.query);return o.support_user=e,o._support_token=s,Object.assign({},t,{query:(0,l.stringify)(o)})},r=t.request.bind(t);return Object.assign(t,{addSupportParams:function(t){return{...t,support_user:e,_support_token:s}},setSupportUserToken:function(t="",i="",r){return(t!==e||i!==s)&&(e=t,s=i,o=r,!0)},request:(t,n)=>e&&s?r(i(t),(t,e)=>{if(o&&t?.error==="invalid_support_token")return void o(t);n(t,e)}):r(t,n)})}(i)),(t=>{let e=t.request.bind(t);Object.assign(t,{request(t,s){let o=q();if(o){let e=(0,l.parse)(t.query);t=Object.assign({},t,{query:(0,l.stringify)(Object.assign(e,{store_sandbox_ticket:o.value}))})}return e(t,s)}})})(i),function(t){let e=t.request.bind(t);t.request=function(t,s){return o&&t?.path==="/me/transactions"&&(t={...t,headers:{...t.headers||{},"X-Fingerprint":o}}),e(t,s)}}(i);let P=i,E=new p.A(f)},"?d91c":()=>{}}]);

}
/*
     FILE ARCHIVED ON 14:15:21 Jun 09, 2025 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 03:30:53 Aug 21, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.733
  exclusion.robots: 0.033
  exclusion.robots.policy: 0.02
  esindex: 0.012
  cdx.remote: 30.338
  LoadShardBlock: 62.872 (3)
  PetaboxLoader3.datanode: 140.604 (4)
  load_resource: 261.529
  PetaboxLoader3.resolve: 145.782
*/